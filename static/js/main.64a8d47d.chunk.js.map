{"version":3,"sources":["logo.svg","components/Signin.js","components/listItems.js","components/Title.js","components/DashTileBooks.js","components/DashTileCustomers.js","components/InfoDialog.js","components/DashTileIssued.js","components/DashFrame.js","components/BookUpdateDialog.js","components/BookIssueDialog.js","components/BookFrame.js","components/MemberUpdateDialog.js","components/MemberInsertDialog.js","components/MemberFrame.js","components/BookInfoDialog.js","components/BookImportDialog.js","components/ImportBookFrame.js","components/ReportFrame.js","components/GuestViewFrame.js","components/Dashboard.js","App.js","reportWebVitals.js","index.js"],"names":["preventDefault","event","Copyright","Typography","variant","color","align","Link","href","onClick","Date","getFullYear","useStyles","makeStyles","theme","root","height","image","backgroundImage","backgroundRepeat","backgroundColor","palette","type","grey","backgroundSize","backgroundPosition","paper","margin","spacing","display","flexDirection","alignItems","avatar","secondary","main","form","width","marginTop","submit","loginUser","credentials","a","fetch","process","method","headers","body","JSON","stringify","then","data","json","SignIn","setToken","classes","useState","userId","setUserId","psswd","setPassword","React","showError","setShowError","handleSubmit","e","token","console","log","Grid","container","component","className","CssBaseline","item","xs","sm","md","Paper","elevation","square","Avatar","noValidate","onSubmit","TextField","required","fullWidth","id","label","name","autoFocus","onChange","target","value","autoComplete","FormLabel","Button","Box","mt","mainListItems","ListItem","button","ListItemIcon","ListItemText","primary","ListSubheader","Title","props","gutterBottom","children","DashTileBooks","categorySwitch","hideLink","bookDataReady","useTheme","chartdata","setChartData","useEffect","getTopBooks","results","tmpdata","splice","length","slice","reverse","map","push","book_item","title","issued","item_count","inventory_count","checkout_count","CustomTooltip","active","payload","style","padding","background","border","Fragment","ResponsiveContainer","top","right","left","bottom","XAxis","dataKey","Tooltip","content","Bar","fill","hidden","depositContext","flex","DashTileCustomers","custDataReady","getCustomerRanking","member_item","first_name","last_name","amount","closeButton","position","InfoDialog","onClose","selectedValue","open","Details","prop","pairs","key","handleClose","Dialog","maxWidth","DialogTitle","IconButton","DialogContent","dividers","DialogActions","flexGrow","overflow","paddingTop","paddingBottom","tablecontainer","maxHeight","fixedHeight","checkin","checkindetils","DashTileIssued","bookBagList","setBookBagList","clsx","selectedMenuRow","setSelectedMenuRow","anchorEl","setAnchorEl","setAnchorE2","infoDialogOpen","setInfoDialogOpen","selectedInfoValue","setSelectedInfoValue","getUpdatedCheckBooks","bagrows","forEach","bag_item","status","checkinSubmit","bookId","bagId","CheckoutMenu","keepMounted","Boolean","MenuItem","row","TableContainer","Table","stickyHeader","TableHead","TableRow","TableCell","TableBody","currentTarget","handleMoreClick","authors","checkout_date","checkin_date","isbn","seeMore","DashFrame","fixedHeightPaper","Container","lg","pt","BookUpdateDialog","updateEntity","onUpdateData","replace","defaultValue","updateData","onCheckoutData","memberList","member","setMember","MemberDetails","select","helperText","option","disabled","deleteBook","url","updateBookDetails","details","checkOutBook","searchFixedHeight","createData","inventory_item","BookFrame","bookList","setBookList","searchbookList","setSearchBookList","setMemberList","deleteopen","setDeleteopen","anchorE2","updateDialogOpen","setUpdateDialogOpen","issueDialogOpen","setIssueDialogOpen","searchParams","searchDisabled","setSearchDisabled","handleAllMoreClick","checkoutsubmit","getUpdatedMemberList","getUpdatedInventory","updateSubmit","bookDetails","deleteSubmit","bookrows","memberRows","user_id","join_date","dob","role","debt","handleParamChange","undefined","AllBooksMenu","Accordion","AccordionSummary","expandIcon","AccordionDetails","srch_param","auth_param","publisher","publication_date","count","dataid","bookID","selected_member","Snackbar","anchorOrigin","vertical","horizontal","message","autoHideDuration","MemberUpdateDialog","MemberInsertDialog","onInsertData","insertinfo","extendedIcon","marginRight","deleteMember","insertMemberDetails","updateMemberDetails","MemberFrame","anchorE1","setAnchorE1","insertDialogOpen","setInsertDialogOpen","updateMemberList","memberId","memberDetails","insertSubmit","MemberMenu","Fab","BookInfoDialog","BookImportDialog","importCount","setImportCount","InputLabelProps","shrink","formgrid","importBookToSystem","ImportBookFrame","bookImportList","setBookImportList","importDialogOpen","setImportDialogOpen","importlist","queryString","importDialogData","book_data","disableElevation","ButtonGroup","showInfoDialog","Info","showImportDialog","AddCircle","apiname","filename","res","blob","window","URL","createObjectURL","document","createElement","download","appendChild","click","remove","ReportFrame","reportIndex","setReportIndex","reportType","setReportType","custReportData","setCustReportData","bookReportData","setBookReportData","FormControl","formControl","InputLabel","Select","labelId","reportDownload","GuestViewFrame","num_pages","average_rating","ratings_count","text_reviews_count","language_code","isbn13","toolbar","paddingRight","toolbarIcon","justifyContent","mixins","appBar","zIndex","drawer","transition","transitions","create","easing","sharp","duration","leavingScreen","appBarShift","marginLeft","enteringScreen","menuButton","menuButtonHidden","drawerPaper","whiteSpace","drawerPaperClose","overflowX","breakpoints","up","appBarSpacer","Dashboard","user_token","logout","setOpen","category","setcategory","AppBar","Toolbar","edge","noWrap","Drawer","Divider","List","innerText","toLowerCase","getAttribute","tagName","parentNode","App","localStorage","getItem","parse","exact","path","removeItem","receiveddata","setItem","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.64a8d47d.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","import React, { useState } from 'react';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField'; \r\nimport Link from '@material-ui/core/Link';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Box from '@material-ui/core/Box';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport FormLabel from '@material-ui/core/FormLabel';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport PropTypes from 'prop-types'; \r\n\r\n\r\nfunction preventDefault(event) {\r\n  event.preventDefault();\r\n}\r\n\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {'Copyright  '}\r\n      <Link color=\"inherit\" href=\"#\" onClick={preventDefault}>\r\n        Your Website\r\n      </Link>{' '}\r\n      {new Date().getFullYear()}\r\n      {'.'}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    height: '100vh',\r\n  },\r\n  image: {\r\n    backgroundImage: 'url(https://images.unsplash.com/photo-1481627834876-b7833e8f5570?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1682&q=80)', \r\n    backgroundRepeat: 'no-repeat',\r\n    backgroundColor:\r\n      theme.palette.type === 'light' ? theme.palette.grey[50] : theme.palette.grey[900],\r\n    backgroundSize: 'cover',\r\n    backgroundPosition: 'center',\r\n  },\r\n  paper: {\r\n    margin: theme.spacing(8, 4),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\nasync function loginUser(credentials) {\r\n    return fetch(process.env.REACT_APP_API_URL+'signin', {\r\n      method: 'POST',\r\n      headers: {\r\n        'mode':'no-cors',\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify(credentials)\r\n    })\r\n      .then(data => data.json()) \r\n   }\r\n\r\n\r\nexport default function SignIn({ setToken }) { \r\n  const classes = useStyles();\r\n  const [userId, setUserId] = useState();\r\n  const [psswd, setPassword] = useState();\r\n  const [showError, setShowError] = React.useState(false)\r\n\r\n  const handleSubmit = async e => {\r\n    e.preventDefault();\r\n\r\n    const token = await loginUser({\r\n      userId,\r\n      psswd\r\n    });\r\n    console.log(token)\r\n    if(token[\"login\"] == \"success\"){      \r\n      setToken(token);\r\n    }else setShowError(true)\r\n  }\r\n\r\n  return (\r\n    <Grid container component=\"main\" className={classes.root}>\r\n      <CssBaseline />\r\n      <Grid item xs={false} sm={4} md={7} className={classes.image}  />\r\n      <Grid item xs={12} sm={8} md={5} component={Paper} elevation={6} square>\r\n        <div className={classes.paper}>\r\n          <Avatar className={classes.avatar}>\r\n            <LockOutlinedIcon />\r\n          </Avatar>\r\n          <Typography component=\"h1\" variant=\"h5\">\r\n            Sign in\r\n          </Typography>\r\n          <form className={classes.form} noValidate onSubmit={handleSubmit}>\r\n            <TextField\r\n              variant=\"outlined\"\r\n              margin=\"normal\"\r\n              required\r\n              fullWidth\r\n              id=\"email\"\r\n              label=\"User Id\"\r\n              name=\"user_id\" \r\n              autoFocus\r\n              onChange={e => setUserId(e.target.value)}\r\n            />\r\n            <TextField\r\n              variant=\"outlined\"\r\n              margin=\"normal\"\r\n              required\r\n              fullWidth\r\n              name=\"password\"\r\n              label=\"Password\"\r\n              type=\"password\"\r\n              id=\"password\"\r\n              autoComplete=\"current-password\"\r\n              onChange={e => setPassword(e.target.value)}\r\n            />\r\n            {/* <FormControlLabel\r\n              control={<Checkbox value=\"remember\" color=\"primary\" />}\r\n              label=\"Remember me\"\r\n            /> */}\r\n            {showError ?\r\n            <FormLabel >Invalid username or password</FormLabel>: null}\r\n            <Button\r\n              type=\"submit\"\r\n              fullWidth\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              className={classes.submit}\r\n            >\r\n              Sign In\r\n            </Button>\r\n            {/* <Grid container>\r\n              <Grid item xs>\r\n                <Link href=\"#\" variant=\"body2\">\r\n                  Forgot password?\r\n                </Link>\r\n              </Grid>\r\n              <Grid item>\r\n                <Link href=\"#\" variant=\"body2\">\r\n                  {\"Don't have an account? Sign Up\"}\r\n                </Link>\r\n              </Grid>\r\n            </Grid> */}\r\n            <Box mt={5}>\r\n              <Copyright />\r\n            </Box>\r\n          </form>\r\n        </div>\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n}\r\nSignIn.propTypes = {\r\n    setToken: PropTypes.func.isRequired\r\n  }","import React from 'react';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListSubheader from '@material-ui/core/ListSubheader';\r\nimport DashboardIcon from '@material-ui/icons/Dashboard';\r\nimport ImportContacts from '@material-ui/icons/ImportContacts';\r\nimport PeopleIcon from '@material-ui/icons/People';\r\nimport BarChartIcon from '@material-ui/icons/BarChart';\r\nimport SystemUpdateAlt from '@material-ui/icons/SystemUpdateAlt';\r\nimport AssignmentIcon from '@material-ui/icons/Assignment';\r\n\r\nexport const mainListItems = (\r\n  <div>\r\n    <ListItem button name=\"Dashboard\">\r\n      <ListItemIcon name=\"Dashboard\">\r\n        <DashboardIcon />\r\n      </ListItemIcon>\r\n      <ListItemText primary=\"Dashboard\" />\r\n    </ListItem>\r\n    <ListItem button  name=\"Books\">\r\n      <ListItemIcon  name=\"Books\">\r\n        <ImportContacts />\r\n      </ListItemIcon>\r\n      <ListItemText primary=\"Books\" />\r\n    </ListItem>\r\n    <ListItem button  name=\"Members\">\r\n      <ListItemIcon  name=\"Members\">\r\n        <PeopleIcon />\r\n      </ListItemIcon>\r\n      <ListItemText primary=\"Members\" />\r\n    </ListItem>\r\n    <ListItem button  name=\"Reports\">\r\n      <ListItemIcon  name=\"Reports\">\r\n        <BarChartIcon />\r\n      </ListItemIcon>\r\n      <ListItemText primary=\"Reports\" />\r\n    </ListItem>\r\n    <ListItem button  name=\"ImportBooks\">\r\n      <ListItemIcon  name=\"ImportBooks\">\r\n        <SystemUpdateAlt />\r\n      </ListItemIcon>\r\n      <ListItemText primary=\"ImportBooks\" />\r\n    </ListItem>\r\n  </div>\r\n);\r\n\r\nexport const secondaryListItems = (\r\n  <div>\r\n    <ListSubheader inset>Saved reports</ListSubheader>\r\n    <ListItem button>\r\n      <ListItemIcon>\r\n        <AssignmentIcon />\r\n      </ListItemIcon>\r\n      <ListItemText primary=\"Current month\" />\r\n    </ListItem>\r\n    <ListItem button>\r\n      <ListItemIcon>\r\n        <AssignmentIcon />\r\n      </ListItemIcon>\r\n      <ListItemText primary=\"Last quarter\" />\r\n    </ListItem>\r\n    <ListItem button>\r\n      <ListItemIcon>\r\n        <AssignmentIcon />\r\n      </ListItemIcon>\r\n      <ListItemText primary=\"Year-end sale\" />\r\n    </ListItem>\r\n  </div>\r\n);","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nexport default function Title(props) {\r\n  return (\r\n    <Typography component=\"h2\" variant=\"h6\" color=\"primary\" gutterBottom>\r\n      {props.children}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nTitle.propTypes = {\r\n  children: PropTypes.node,\r\n};","import React from 'react';\r\nimport PropTypes from 'prop-types';  \r\nimport { useTheme } from '@material-ui/core/styles'; \r\nimport { BarChart, Bar, XAxis, Tooltip, ResponsiveContainer } from 'recharts';\r\nimport Title from './Title';\r\nimport Link from '@material-ui/core/Link';\r\n \r\n\r\nfunction preventDefault(event) {\r\n  event.preventDefault();\r\n}\r\n\r\nexport default function DashTileBooks(props) {\r\n  const { categorySwitch ,hideLink,bookDataReady} = props;\r\n  const theme = useTheme();\r\n  const [chartdata, setChartData] = React.useState([]);\r\n\r\n  React.useEffect(() => { getTopBooks ()}, []);\r\n  \r\n  const getTopBooks = ()=>{\r\n    fetch(process.env.REACT_APP_API_URL+'getTopBooks')\r\n    .then(results => results.json())\r\n    .then(data => { \r\n      let tmpdata = []\r\n      chartdata.splice(0,chartdata.length) \r\n        data[\"rank_list\"].slice(0).reverse().map((item) => {   \r\n          tmpdata.push({ name:item.book_item.title, issued : item.item_count,\r\n            inventory_count : item.inventory_count,\r\n            checkout_count : item.checkout_count  });  \r\n         });\r\n         \r\n         setChartData(tmpdata.slice(0,10))\r\n         if(bookDataReady)\r\n          bookDataReady(data)\r\n    });    \r\n  } \r\n\r\n  \r\nconst CustomTooltip = ({ active, payload, label }) => {\r\n  if (active && payload && payload.length) { \r\n    return (\r\n      <div className=\"custom-tooltip\" style={{ padding:\"5px\", background:\"#ffffff\",border: \"1px solid #D3D7D8\"  }}> \r\n        <p className=\"label\">{`${label} `}</p>\r\n        <p className=\"label\">{`Issued: ${payload[0].payload.issued} `}</p>\r\n        <p className=\"label\">{`Available: ${payload[0].payload.inventory_count- payload[0].payload.checkout_count  }`}</p>\r\n        <p className=\"label\">{`TotalCount: ${payload[0].payload.inventory_count}`}</p> \r\n      </div>\r\n    );\r\n  }\r\n  return null;\r\n};\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Title>Top Issued Books</Title>\r\n      <ResponsiveContainer width=\"100%\" height=\"100%\"> \r\n      <BarChart  \r\n          data={chartdata}\r\n          margin={{\r\n            top: 5,\r\n            right: 5,\r\n            left: 5,\r\n            bottom: 5,\r\n          }} \r\n        > \r\n          <XAxis dataKey=\"name\" /> \r\n          <Tooltip content={<CustomTooltip/>}/> \r\n          <Bar dataKey=\"issued\" label fill=\"#8884d8\"  /> \r\n        </BarChart>\r\n      </ResponsiveContainer> \r\n      <div hidden={hideLink}>\r\n        <Link color=\"primary\" href=\"#\" onClick={(event ) => {preventDefault(event); categorySwitch(\"reports\")}}>\r\n          View All Reports\r\n        </Link>\r\n      </div>    \r\n    </React.Fragment>\r\n  );\r\n}\r\nDashTileBooks.propTypes = {\r\n  categorySwitch: PropTypes.func.isRequired,\r\n  hideLink :PropTypes.bool,\r\n  bookDataReady:PropTypes.func,\r\n};","import React from 'react';\r\nimport PropTypes from 'prop-types';  \r\nimport Link from '@material-ui/core/Link';\r\nimport { makeStyles } from '@material-ui/core/styles'; \r\nimport Title from './Title';\r\nimport { BarChart, Bar, XAxis, Tooltip,  ResponsiveContainer } from 'recharts';\r\n\r\nfunction preventDefault(event) {\r\n  event.preventDefault();\r\n}\r\n\r\nconst useStyles = makeStyles({\r\n  depositContext: {\r\n    flex: 1,\r\n  },\r\n});\r\n\r\nexport default function DashTileCustomers(props) {\r\n  const { categorySwitch,hideLink,custDataReady } = props;\r\n  const classes = useStyles();\r\n  const [chartdata, setChartData] = React.useState([]);\r\n\r\n  React.useEffect(() => { getCustomerRanking ()}, []);\r\n  \r\n  const getCustomerRanking = ()=>{\r\n    fetch(process.env.REACT_APP_API_URL+'getCustomerRanking')\r\n    .then(results => results.json())\r\n    .then(data => { \r\n      let tmpdata = []\r\n      chartdata.splice(0,chartdata.length) \r\n        data[\"rank_list\"].slice(0).reverse().map((item) => {   \r\n          tmpdata.push({ name:item.member_item.first_name+\" \"+item.member_item.last_name, amount : item.item_count });  \r\n         });\r\n         setChartData(tmpdata)\r\n         if(custDataReady)\r\n         custDataReady(data)\r\n    });    \r\n  } \r\n  return (\r\n    <React.Fragment>\r\n      <Title>Highest Paying Customers</Title>\r\n      <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n        <BarChart  \r\n            data={chartdata}\r\n            margin={{\r\n              top: 5,\r\n              right: 5,\r\n              left: 5,\r\n              bottom: 5,\r\n            }} \r\n          > \r\n            <XAxis dataKey=\"name\" /> \r\n            <Tooltip /> \r\n            <Bar dataKey=\"amount\" label fill=\"#8884d8\"  /> \r\n          </BarChart>\r\n      </ResponsiveContainer>\r\n      <div hidden={hideLink}> \r\n        <Link color=\"primary\" href=\"#\"  onClick={(event ) => {preventDefault(event); categorySwitch(\"members\")}}>\r\n          See All Member Info\r\n        </Link>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n}\r\nDashTileCustomers.propTypes = {\r\n  categorySwitch: PropTypes.func.isRequired ,\r\n  hideLink :PropTypes.bool,\r\n  custDataReady:PropTypes.func,\r\n};","import React from 'react';\r\nimport PropTypes from 'prop-types'; \r\nimport { makeStyles } from '@material-ui/core/styles'; \r\nimport {Button, Typography, IconButton} from '@material-ui/core'; \r\nimport {DialogTitle ,DialogContent,DialogActions,Dialog }from '@material-ui/core';   \r\nimport CloseIcon from '@material-ui/icons/Close';  \r\n\r\nconst useStyles =  makeStyles((theme) => ({\r\n  root: {\r\n    margin: 0,\r\n    padding: theme.spacing(2),\r\n  },\r\n  closeButton: {\r\n    position: 'absolute',\r\n    right: theme.spacing(1),\r\n    top: theme.spacing(1),\r\n    color: theme.palette.grey[500],\r\n  },\r\n}));\r\nexport default function InfoDialog(props) { \r\n  const { onClose, selectedValue, open } = props;\r\n  const classes = useStyles(); \r\n\r\n  const Details = (prop)=>{    \r\n    var pairs = [];\r\n      for(var key in prop.data){\r\n        pairs.push(<p>{key} : {prop.data[key]}</p>);\r\n      } \r\n    return ( <div className=\"Data-item\">{pairs}</div> );\r\n  }\r\n\r\n  const handleClose = () => { \r\n    onClose();\r\n  };\r\n    \r\n  return (      \r\n    <Dialog onClose={handleClose} aria-labelledby=\"simple-dialog-title\"  className={classes.root} open={open} fullWidth=\"md\" maxWidth=\"md\">\r\n      <DialogTitle id=\"simple-dialog-title\">All Information</DialogTitle>\r\n      <IconButton aria-label=\"close\" className={classes.closeButton}  onClick={onClose}>\r\n        <CloseIcon />\r\n      </IconButton>\r\n      <DialogContent dividers>      \r\n        <Typography gutterBottom >\r\n            <h2>Book Issue Details</h2>\r\n            <Details data={selectedValue!=null?selectedValue[\"bag_item\"]:{}}></Details> \r\n        </Typography>\r\n        <Typography gutterBottom >              \r\n            <h2>User Details</h2>\r\n          <Details data={selectedValue!=null?selectedValue[\"member_item\"]:{}}></Details>  \r\n        </Typography>\r\n        <Typography gutterBottom >\r\n            <h2>Book Details</h2>\r\n            <Details data={selectedValue!=null?selectedValue[\"book_item\"]:{}}></Details>           \r\n        </Typography>\r\n      </DialogContent>\r\n      \r\n      <DialogActions>\r\n        <Button autoFocus onClick={handleClose} color=\"primary\">\r\n          Close\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n} \r\nInfoDialog.propTypes = {\r\n  onClose: PropTypes.func.isRequired,\r\n  open: PropTypes.bool.isRequired,\r\n  selectedValue: PropTypes.object.isRequired,\r\n};","import React from 'react'; \r\nimport clsx from 'clsx';    \r\nimport PropTypes from 'prop-types'; \r\nimport Title from './Title';\r\nimport { makeStyles } from '@material-ui/core/styles'; \r\nimport {Table ,TableBody ,TableCell,TableContainer,TableHead,TableRow} from '@material-ui/core';  \r\nimport {Link, IconButton} from '@material-ui/core'; \r\nimport {Menu ,MenuItem} from '@material-ui/core'; \r\nimport MoreVert from '@material-ui/icons/MoreVert'; \r\nimport InfoDialog from './InfoDialog';\r\n\r\nfunction preventDefault(event) {\r\n  event.preventDefault();\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: 'flex',\r\n  },\r\n    \r\n  content: {\r\n    flexGrow: 1,\r\n    height: '100vh',\r\n    overflow: 'auto',\r\n  },\r\n  container: {\r\n    paddingTop: theme.spacing(4),\r\n    paddingBottom: theme.spacing(4),\r\n  },\r\n  tablecontainer:{\r\n      maxHeight: 500,\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(2),\r\n    display: 'flex',\r\n    overflow: 'auto',\r\n    flexDirection: 'column',\r\n  },\r\n  fixedHeight: {\r\n    height: 450,\r\n  },\r\n  \r\n}));\r\n \r\n\r\nfunction createBagData(book_item,bag_item,member_item) { \r\n  return {book_item,bag_item,member_item};\r\n}\r\n  \r\nasync function checkin(checkindetils) {\r\n  return fetch(process.env.REACT_APP_API_URL+'checkin', {\r\n    method: 'POST',\r\n    headers: {\r\n      'mode':'no-cors',\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify(checkindetils)\r\n  })\r\n    .then(data => data.json()) \r\n}\r\n\r\nexport default function DashTileIssued(props) {\r\n  const { categorySwitch } = props;\r\n  const classes = useStyles();\r\n  const [bookBagList, setBookBagList] = React.useState([]);\r\n  const fixedHeightPaper = clsx(classes.paper, classes.fixedHeight); \r\n  const [selectedMenuRow, setSelectedMenuRow] = React.useState();\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n  const [anchorE2, setAnchorE2] = React.useState(null);\r\n  const [infoDialogOpen, setInfoDialogOpen] = React.useState(false);\r\n  const [selectedInfoValue, setSelectedInfoValue] = React.useState(null); \r\n  React.useEffect(() => { getUpdatedCheckBooks ()}, []);\r\n\r\n    const handleClose = () => {\r\n      setAnchorEl(null); \r\n      setAnchorE2(null); \r\n      setInfoDialogOpen(false);\r\n    };\r\n  const getUpdatedCheckBooks = ()=>{\r\n    fetch(process.env.REACT_APP_API_URL+'getCheckedBooks')\r\n    .then(results => results.json())\r\n    .then(data => { \r\n      bookBagList.splice(0,bookBagList.length)\r\n      let bagrows=[]\r\n      data[\"booklist\"].forEach((item) => {   \r\n        if(item.bag_item.status)\r\n          bagrows.push(createBagData(  item.book_item,item.bag_item,item.member_item)); \r\n       });\r\n       setBookBagList(bagrows)\r\n    });    \r\n  }\r\n\r\n  const handleMoreClick = (event,row) => {\r\n    setSelectedMenuRow(row) \r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const showBookInfo = (row) => { \r\n    setSelectedInfoValue(row)\r\n    setInfoDialogOpen(true)\r\n    setAnchorE2(null);\r\n  };\r\n\r\n  const returnbook = (row) => {   \r\n    checkinSubmit(row[\"member_item\"][\"id\"],row[\"book_item\"][\"bookID\"],row[\"bag_item\"][\"bagId\"])       \r\n    setAnchorEl(null);\r\n  };\r\n  const checkinSubmit = async (userId,bookId,bagId) => {  \r\n    const data = await checkin({\r\n      userId,\r\n      bookId,\r\n      bagId\r\n    }); \r\n     if(data[\"status\"] == \"success\"){   \r\n      getUpdatedCheckBooks()\r\n     } \r\n  }\r\n  function CheckoutMenu(){\r\n    return (<Menu\r\n         id=\"issuebook-menu\"\r\n         anchorEl={anchorEl}\r\n         keepMounted\r\n         open={Boolean(anchorEl)}\r\n         onClose={handleClose}\r\n       >\r\n       <MenuItem onClick={()=>{returnbook(selectedMenuRow)}}>Return Book</MenuItem>\r\n       <MenuItem onClick={()=> {showBookInfo(selectedMenuRow)}}>See All Info</MenuItem> \r\n     </Menu>);\r\n   }\r\n  return (\r\n    <React.Fragment>  \r\n    <Title>Issued Books </Title>            \r\n      <TableContainer className={classes.tablecontainer}>\r\n        <Table  stickyHeader aria-label=\"sticky table\">\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell width=\"5%\">  </TableCell> \r\n              <TableCell width=\"30%\"> Title </TableCell>\r\n              <TableCell width=\"20%\"> Authors </TableCell> \r\n              <TableCell width=\"20%\"> Member</TableCell> \r\n              <TableCell width=\"10%\"> Status </TableCell> \r\n              <TableCell width=\"30%\"> Issue Date </TableCell> \r\n              <TableCell width=\"40%\"> ReturnDate </TableCell> \r\n              <TableCell width=\"15%\"> ISBN</TableCell>  \r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n          {bookBagList.map((row) => (              \r\n            <TableRow key={row.bag_item.bagId}>\r\n                <TableCell  width=\"5%\">\r\n                    <IconButton aria-controls=\"simple-menu\" aria-haspopup=\"true\" onClick={(event ) => {handleMoreClick(event, row) }} > \r\n                        <MoreVert/>\r\n                    </IconButton>\r\n                    <CheckoutMenu></CheckoutMenu>\r\n                </TableCell> \r\n                <TableCell width=\"30%\">{row.book_item.title}</TableCell>\r\n                <TableCell width=\"20%\">{row.book_item.authors}</TableCell> \r\n                <TableCell width=\"20%\">{row.member_item.first_name + \" \" +row.member_item.last_name}</TableCell> \r\n                <TableCell width=\"10%\">{row.bag_item.status==1?\"Issued\":\"Returned\"}</TableCell> \r\n                <TableCell width=\"30%\">{row.bag_item.checkout_date}</TableCell> \r\n                <TableCell width=\"40%\">{row.bag_item.checkin_date?row.bag_item.checkin_date:\"-\"}</TableCell> \r\n                <TableCell width=\"10%\">{row.book_item.isbn}</TableCell>  \r\n            </TableRow>\r\n          ))}\r\n          </TableBody> \r\n        </Table> \r\n        </TableContainer> \r\n      <div className={classes.seeMore}>\r\n        <Link color=\"primary\" href=\"#\" onClick={(event ) => {preventDefault(event); categorySwitch(\"books\")}} >\r\n          See All Book Details\r\n        </Link>\r\n      </div>\r\n      <InfoDialog selectedValue={selectedInfoValue} open={infoDialogOpen} onClose={handleClose} />  \r\n    </React.Fragment>\r\n  );\r\n}\r\nDashTileIssued.propTypes = {\r\n  categorySwitch: PropTypes.func.isRequired \r\n};","import React from 'react';\r\nimport clsx from 'clsx';\r\nimport PropTypes from 'prop-types';  \r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport {Paper,Grid,Typography,Container,Box} from '@material-ui/core'; \r\nimport {Link} from '@material-ui/core';  \r\nimport DashTileBooks from './DashTileBooks';\r\nimport DashTileCustomers from './DashTileCustomers';\r\nimport DashTileIssued from './DashTileIssued'; \r\n\r\nfunction preventDefault(event) {\r\n  event.preventDefault();\r\n}\r\nfunction Copyright() {\r\n    return (\r\n      <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n        {'Copyright  '}\r\n        <Link color=\"inherit\" href=\"#\" onClick={preventDefault}>\r\n          Your Website\r\n        </Link>{' '}\r\n        {new Date().getFullYear()}\r\n        {'.'}\r\n      </Typography>\r\n    );\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({     \r\n  content: {\r\n    flexGrow: 1,\r\n    height: '100vh',\r\n    overflow: 'auto',\r\n  },\r\n  container: {\r\n    paddingTop: theme.spacing(4),\r\n    paddingBottom: theme.spacing(4),\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(2),\r\n    display: 'flex',\r\n    overflow: 'auto',\r\n    flexDirection: 'column',\r\n  },\r\n  fixedHeight: {\r\n    height: 350,\r\n  },\r\n}));\r\n\r\nexport default function DashFrame(props) {\r\n  const { categorySwitch } = props;\r\n  const classes = useStyles();\r\n  const fixedHeightPaper = clsx(classes.paper, classes.fixedHeight);\r\n  return(\r\n   <Container maxWidth=\"lg\" className={classes.container}>\r\n      <Grid container spacing={3}>\r\n        {/* Chart */}\r\n        <Grid item xs={12} md={8} lg={8}>\r\n          <Paper className={fixedHeightPaper}>\r\n            <DashTileBooks categorySwitch ={categorySwitch}/>\r\n          </Paper>\r\n        </Grid>\r\n        {/* Recent Deposits */}\r\n        <Grid item xs={12} md={4} lg={4}>\r\n          <Paper className={fixedHeightPaper} >\r\n            <DashTileCustomers categorySwitch ={categorySwitch}/>\r\n          </Paper>\r\n        </Grid>\r\n        {/* Recent Orders */}\r\n        <Grid item xs={12}>\r\n          <Paper className={classes.paper}>\r\n            <DashTileIssued  categorySwitch ={categorySwitch}/>\r\n          </Paper>\r\n        </Grid>\r\n      </Grid>\r\n      <Box pt={4}>\r\n        <Copyright />\r\n      </Box>\r\n    </Container>\r\n  )\r\n}\r\nDashFrame.propTypes = {\r\n  categorySwitch: PropTypes.func.isRequired \r\n};","import React from 'react';\r\nimport PropTypes from 'prop-types'; \r\nimport { makeStyles } from '@material-ui/core/styles';  \r\nimport {Grid,Paper,Button, Typography, IconButton,TextField} from '@material-ui/core'; \r\nimport {DialogTitle ,DialogContent,DialogActions,Dialog }from '@material-ui/core';   \r\nimport CloseIcon from '@material-ui/icons/Close';  \r\n \r\n\r\nconst useStyles =  makeStyles((theme) => ({\r\n  root: {\r\n    margin: 0,\r\n    padding: theme.spacing(2),\r\n  },\r\n  closeButton: {\r\n    position: 'absolute',\r\n    right: theme.spacing(1),\r\n    top: theme.spacing(1),\r\n    color: theme.palette.grey[500],\r\n  },\r\n}));\r\n\r\nexport default function BookUpdateDialog(props) { \r\n  let updateEntity;\r\n  const { onClose, selectedValue, open, onUpdateData } = props; \r\n  const classes = useStyles(); \r\n  const Details = (prop)=>{      \r\n    var pairs = [];\r\n      for(var key in prop.data){\r\n        if(key!=\"bookID\")\r\n        pairs.push(\r\n          <TextField\r\n          autoFocus\r\n          margin=\"dense\"\r\n          id= {key}\r\n          label= {key.replace(\"_\",\" \")} \r\n          fullWidth \r\n          defaultValue = {prop.data[key]}\r\n          onChange={(event)=>updateData(event)}                  \r\n        /> \r\n        ) \r\n      } \r\n    return (\r\n            <div className=\"Data-item\">{pairs}</div>\r\n    );\r\n  }\r\n  \r\n  const updateData = (event) => { \r\n    if(updateEntity==null)\r\n      updateEntity=selectedValue[\"book_item\"]\r\n    updateEntity[event.target.id]=event.target.value  \r\n  };\r\n  const handleClose = () => { \r\n          onClose();\r\n  }; \r\n\r\n  const updateBook = () => { \r\n    if(updateEntity)\r\n      onUpdateData(updateEntity)      \r\n    onClose();\r\n  }; \r\n  return (\r\n      \r\n    <Dialog onClose={handleClose} aria-labelledby=\"simple-dialog-title\" className={classes.root} open={open} fullWidth=\"md\" maxWidth=\"md\">\r\n      <DialogTitle id=\"simple-dialog-title\">Update Book Info</DialogTitle>\r\n      <IconButton aria-label=\"close\" className={classes.closeButton}  onClick={handleClose}>\r\n        <CloseIcon />\r\n      </IconButton>\r\n      <DialogContent dividers>     \r\n        <Typography gutterBottom > \r\n            <Details data={selectedValue!=null?selectedValue[\"book_item\"]:{}}></Details>           \r\n        </Typography>\r\n      </DialogContent>\r\n      \r\n      <DialogActions>\r\n        <Button autoFocus onClick={handleClose} color=\"primary\">\r\n          Close\r\n        </Button>\r\n        <Button autoFocus onClick={updateBook} color=\"primary\">\r\n          Update\r\n        </Button>\r\n      </DialogActions>\r\n\r\n    </Dialog>\r\n  );\r\n}  \r\nBookUpdateDialog.propTypes = {\r\n  onClose: PropTypes.func.isRequired,   \r\n  onUpdateData: PropTypes.func.isRequired,   \r\n  open: PropTypes.bool.isRequired,\r\n  selectedValue: PropTypes.object.isRequired,\r\n};","import React from 'react';\r\nimport PropTypes from 'prop-types'; \r\nimport { makeStyles } from '@material-ui/core/styles';  \r\nimport {Grid,Paper,Button, IconButton,TextField} from '@material-ui/core'; \r\nimport {DialogTitle ,DialogContent,DialogActions,Dialog,MenuItem }from '@material-ui/core';   \r\nimport CloseIcon from '@material-ui/icons/Close';  \r\n \r\n\r\nconst useStyles =  makeStyles((theme) => ({\r\n  root: {\r\n    margin: 0,\r\n    padding: theme.spacing(2),\r\n  },\r\n  closeButton: {\r\n    position: 'absolute',\r\n    right: theme.spacing(1),\r\n    top: theme.spacing(1),\r\n    color: theme.palette.grey[500],\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(1),\r\n    display: 'flex',\r\n    overflow: 'auto',\r\n    flexDirection: 'column',\r\n  },\r\n}));\r\n\r\nexport default function BookUpdateDialog(props) { \r\n  const { onClose, selectedValue, open, onCheckoutData,memberList } = props; \r\n  const [member, setMember] = React.useState( null);\r\n  const classes = useStyles();  \r\n\r\n  const Details = (prop)=>{    \r\n    var pairs = [];\r\n      for(var key in prop.data){\r\n        pairs.push(<p>{key} : {prop.data[key]}</p>);\r\n      } \r\n    return (\r\n            <div className=\"Data-item\">{pairs}</div>\r\n    );\r\n  }\r\n\r\n  const MemberDetails = (prop)=>{    \r\n    var pairs = [];\r\n      for(var key in prop.data){\r\n        pairs.push(<p>{key} : {prop.data[key]}</p>);\r\n      } \r\n    return (\r\n            <div className=\"Data-item\">{pairs}</div>\r\n    );\r\n  }\r\n  \r\n  const checkoutData = () => {   \r\n    let updateEntity=[]\r\n    updateEntity[\"book_item\"]=selectedValue[\"book_item\"]\r\n    updateEntity[\"selected_member\"]=member \r\n    onCheckoutData(updateEntity)\r\n    handleClose()\r\n  };\r\n\r\n  const handleClose = () => { \r\n          onClose();\r\n  }; \r\n\r\n\r\n\r\n  const handleMemberChange = (event) => { \r\n    setMember(event.target.value);\r\n  };\r\n  const checkAvailable=()=>{\r\n    return selectedValue!=null?selectedValue[\"inventory_item\"]!=null?selectedValue[\"inventory_item\"][\"checkout_count\"] \r\n    <selectedValue[\"inventory_item\"][\"count\"]:false:false\r\n  }\r\n\r\n  React.useEffect(() => { \r\n    setMember(memberList[0])\r\n  },[]\r\n  )\r\n  return (\r\n      \r\n  <Dialog onClose={handleClose} aria-labelledby=\"simple-dialog-title\" className={classes.root} open={open} fullWidth=\"md\" maxWidth=\"md\">\r\n    <DialogTitle id=\"simple-dialog-title\">Issue Book</DialogTitle>\r\n    <IconButton aria-label=\"close\" className={classes.closeButton}  onClick={handleClose}>\r\n      <CloseIcon />\r\n    </IconButton>\r\n    <DialogContent dividers>    \r\n    <Grid container spacing={3}> \r\n    <Grid item xs={12} md={4} lg={6}> \r\n      {/* <Typography gutterBottom >  */}\r\n      <Paper className={classes.paper} elevation={3}>\r\n      {!checkAvailable()?\r\n        <div>Copy Not Available</div> :\r\n        <div> \r\n          <TextField\r\n            id=\"member-list\"\r\n            select\r\n            label=\"Select Member\"\r\n            value={member}\r\n            onChange={handleMemberChange}\r\n            helperText=\"Please select member\"\r\n          >\r\n          {memberList.map((option) => (\r\n            <MenuItem key={option.id} value={option}>\r\n            {option.first_name +\" \"+ option.last_name}\r\n            </MenuItem>\r\n          ))\r\n          }\r\n          </TextField>\r\n        </div>            \r\n      }\r\n      </Paper>\r\n      <Paper className={classes.paper} elevation={3} style={{marginTop:\"20px\"}}>\r\n      <h3>Member Details</h3>\r\n      <MemberDetails data={member!=null?member:{}}>  </MemberDetails>   \r\n\r\n      </Paper>\r\n      {/* </Typography> */}\r\n      </Grid>\r\n      <Grid item xs={12} md={4} lg={6}>  \r\n        <Paper className={classes.paper} elevation={3}>\r\n          <h3>Books Details</h3>\r\n          <Details data={selectedValue!=null?selectedValue[\"book_item\"]:{}}></Details>         \r\n        </Paper>\r\n      </Grid>\r\n      </Grid> \r\n    </DialogContent>\r\n    \r\n    <DialogActions>\r\n      <Button autoFocus onClick={handleClose} color=\"primary\">\r\n        Close\r\n      </Button>\r\n      <Button autoFocus onClick={checkoutData} color=\"primary\" disabled={member==null}>\r\n        Issue Book\r\n      </Button>\r\n    </DialogActions> \r\n  </Dialog>\r\n  );\r\n}  \r\nBookUpdateDialog.propTypes = {\r\n  onClose: PropTypes.func.isRequired,   \r\n  onCheckoutData: PropTypes.func.isRequired,   \r\n  open: PropTypes.bool.isRequired,\r\n  selectedValue: PropTypes.object.isRequired,\r\n  memberList: PropTypes.object.isRequired\r\n};","import React from 'react';\r\nimport clsx from 'clsx';\r\nimport Title from './Title';\r\nimport { makeStyles } from '@material-ui/core/styles';  \r\nimport {Paper,Grid,Typography,Container,Box} from '@material-ui/core';\r\nimport {Table,TableBody,TableCell,TableContainer,TableHead,TableRow} from '@material-ui/core';  \r\nimport {Link,Button,IconButton,Snackbar,TextField} from '@material-ui/core'; \r\nimport {Menu,MenuItem} from '@material-ui/core'; \r\nimport {Accordion,AccordionSummary,AccordionDetails} from '@material-ui/core';\r\n\r\nimport MoreVert from '@material-ui/icons/MoreVert'; \r\nimport InfoDialog from './InfoDialog';\r\nimport BookUpdateDialog from'./BookUpdateDialog';\r\nimport BookIssueDialog from'./BookIssueDialog';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\n\r\n\r\nfunction preventDefault(event) {\r\n  event.preventDefault();\r\n}\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {'Copyright  '}\r\n      <Link color=\"inherit\" href=\"#\" onClick={preventDefault}>\r\n        Your Website\r\n      </Link>{' '}\r\n      {new Date().getFullYear()}\r\n      {'.'}\r\n    </Typography>\r\n  );\r\n}\r\n  \r\nasync function deleteBook(bookId) {\r\n  let url = process.env.REACT_APP_API_URL+'deleteBook?bookId=' + bookId; \r\n  return fetch(url)  \r\n    .then(data => data.json()) \r\n }\r\n\r\nasync function checkin(checkindetils) {\r\n  return fetch(process.env.REACT_APP_API_URL+'checkin', {\r\n    method: 'POST',\r\n    headers: {\r\n      'mode':'no-cors',\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify(checkindetils)\r\n  })\r\n    .then(data => data.json()) \r\n }\r\n\r\n async function updateBookDetails(details) {  \r\n  return fetch(process.env.REACT_APP_API_URL+'updateBookDetails', {\r\n    method: 'POST',\r\n    headers: {\r\n      'mode':'no-cors',\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify(details)\r\n  })\r\n  .then(data => data.json()) \r\n }\r\n  \r\n async function checkOutBook(details) { \r\n  return fetch(process.env.REACT_APP_API_URL+'checkout', {\r\n    method: 'POST',\r\n    headers: {\r\n      'mode':'no-cors',\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify(details)\r\n  })\r\n  .then(data => data.json()) \r\n } \r\n\r\nconst useStyles = makeStyles((theme) => ({ \r\n    container: {\r\n      paddingTop: theme.spacing(4),\r\n      paddingBottom: theme.spacing(4),\r\n    },\r\n    tablecontainer:{\r\n        maxHeight: 500,\r\n    },\r\n    paper: {\r\n      padding: theme.spacing(2),\r\n      display: 'flex',\r\n      overflow: 'auto',\r\n      flexDirection: 'column',\r\n    },\r\n    fixedHeight: {\r\n      height: 450,\r\n    },\r\n    searchFixedHeight: {\r\n        height: 150,\r\n    }, \r\n     \r\n  }));\r\n\r\n  function createData(book_item, inventory_item) {\r\n    return {book_item, inventory_item};\r\n  }\r\n\r\n  function createBagData(book_item,bag_item,member_item) { \r\n    return {book_item,bag_item,member_item};\r\n  }\r\n  function createMemberData(id,user_id,join_date,first_name,last_name,dob,role,debt) {  \r\n    return {id,user_id,join_date,first_name,last_name,dob,role,debt};\r\n  }\r\n    \r\n\r\nexport default function BookFrame() {\r\n    const classes = useStyles(); \r\n    const fixedHeightPaper = clsx(classes.paper, classes.fixedHeight);\r\n    const searchFixedHeight = clsx(classes.paper, classes.searchFixedHeight); \r\n    const [bookBagList, setBookBagList] = React.useState([]);\r\n    const [bookList, setBookList] = React.useState([]);\r\n    const [searchbookList, setSearchBookList] = React.useState([]);\r\n    const [memberList, setMemberList] = React.useState([]);\r\n    const [selectedMenuRow, setSelectedMenuRow] = React.useState();\r\n    const [deleteopen, setDeleteopen] = React.useState();\r\n    const [anchorEl, setAnchorEl] = React.useState(null);\r\n    const [anchorE2, setAnchorE2] = React.useState(null);\r\n    const [infoDialogOpen, setInfoDialogOpen] = React.useState(false);\r\n    const [updateDialogOpen, setUpdateDialogOpen] = React.useState(false);\r\n    const [issueDialogOpen, setIssueDialogOpen] = React.useState(false);\r\n    const [selectedInfoValue, setSelectedInfoValue] = React.useState(null); \r\n    const [searchParams, setSearchParams] = React.useState({}); \r\n    const [searchDisabled, setSearchDisabled] = React.useState(true); \r\n  \r\n    const handleClose = () => {\r\n      setAnchorEl(null);\r\n      setAnchorE2(null);\r\n      setInfoDialogOpen(false)\r\n      setUpdateDialogOpen(false)\r\n      setIssueDialogOpen(false)\r\n    };\r\n\r\n    function updateDialogData(data){   \r\n      let dataid= data[\"bookID\"]\r\n      delete data.bookID;\r\n      updateSubmit(dataid,data)\r\n    };\r\n  \r\n    function issueDialogData(data){ \r\n      checkoutsubmit(data.selected_member.id,data.book_item.bookID)\r\n    };\r\n\r\n    const handleMoreClick = (event,row) => {\r\n      setSelectedMenuRow(row) \r\n      setAnchorEl(event.currentTarget);\r\n    };\r\n    const handleAllMoreClick = (event,row) => {\r\n      setSelectedMenuRow(row) \r\n      setAnchorE2(event.currentTarget);\r\n    };\r\n\r\n    const checkoutsubmit = async (userId,bookId) => {  \r\n      const data = await checkOutBook({ userId, bookId }); \r\n       if(data[\"status\"] == \"success\"){   \r\n          getUpdatedMemberList()\r\n          getUpdatedInventory()\r\n          getUpdatedCheckBooks()\r\n       } \r\n    }\r\n    const updateSubmit = async (bookId,bookDetails) => {  \r\n      const data = await updateBookDetails({ bookId,  bookDetails }); \r\n       if(data[\"status\"] == \"success\"){   \r\n        getUpdatedMemberList()\r\n        getUpdatedInventory()\r\n        getUpdatedCheckBooks() \r\n       } \r\n    }\r\n    const checkinSubmit = async (userId,bookId,bagId) => {  \r\n      const data = await checkin({ userId, bookId, bagId  }); \r\n       if(data[\"status\"] == \"success\"){  \r\n        getUpdatedMemberList()\r\n        getUpdatedInventory()\r\n        getUpdatedCheckBooks()\r\n       } \r\n    }\r\n    const deleteSubmit = async (bookId) => {  \r\n      const data = await deleteBook( bookId ); \r\n       if(data[\"status\"] == \"success\"){   \r\n        setDeleteopen(true)\r\n       } \r\n    }\r\n\r\n    const deletebook = (row) => {       \r\n      deleteSubmit(row[\"book_item\"][\"bookID\"])       \r\n      setAnchorE2(null);\r\n    };\r\n\r\n    const returnbook = (row) => {   \r\n      if(row[\"bag_item\"][\"status\"]==\"1\")\r\n        checkinSubmit(row[\"member_item\"][\"id\"],row[\"book_item\"][\"bookID\"],row[\"bag_item\"][\"bagId\"])       \r\n      setAnchorEl(null);\r\n    };\r\n  \r\n    const updatebook = (row) => {  \r\n      setSelectedInfoValue(row)\r\n      setUpdateDialogOpen(true)    \r\n      setAnchorE2(null);\r\n    };\r\n    const issuebook = (row) => {  \r\n      setSelectedInfoValue(row)\r\n      setIssueDialogOpen(true)    \r\n      setAnchorE2(null);\r\n    };\r\n    const showBookInfo = (row) => { \r\n      setSelectedInfoValue(row)\r\n      setInfoDialogOpen(true)\r\n      setAnchorE2(null);\r\n    };\r\n\r\n    const getUpdatedCheckBooks = ()=>{\r\n      fetch(process.env.REACT_APP_API_URL+'getCheckedBooks')\r\n      .then(results => results.json())\r\n      .then(data => { \r\n        bookBagList.splice(0,bookBagList.length)\r\n        let bagrows=[]\r\n        data[\"booklist\"].forEach((item) => {   \r\n          bagrows.push(createBagData(  item.book_item,item.bag_item,item.member_item)); \r\n         });\r\n         setBookBagList(bagrows)\r\n      });    \r\n    }\r\n    const getUpdatedInventory = ()=>{ \r\n      fetch(process.env.REACT_APP_API_URL+'getBooksInventory')\r\n      .then(results => results.json())\r\n      .then(data => {\r\n        bookList.splice(0,bookList.length)\r\n        let bookrows=[] \r\n          data[\"booklist\"].forEach((item) => { \r\n            bookrows.push(createData(item.book_item,item.inventory_item)); \r\n        });\r\n      setBookList(bookrows) \r\n      });\r\n    }\r\n\r\n    const getUpdatedMemberList =()=>{\r\n      fetch(process.env.REACT_APP_API_URL+'getMemberList')\r\n      .then(results => results.json())\r\n      .then(data => {  \r\n          memberList.splice(0,memberList.length)\r\n          let memberRows=[]\r\n          data[\"memberlist\"].forEach((item) => {   \r\n            memberRows.push(createMemberData(item.id,item.user_id,item.join_date,item.first_name,item.last_name,item.dob,item.role,item.debt));\r\n          }); \r\n         setMemberList(memberRows) \r\n      }); \r\n    }\r\n\r\n    const searchBooks =()=>{\r\n      let srch_param = searchParams[\"title\"]?searchParams[\"title\"]:\"\"\r\n      let auth_param = searchParams[\"authors\"]?searchParams[\"authors\"]:\"\"\r\n      fetch(process.env.REACT_APP_API_URL+'quickBookSearch'+\"?book_q=\"+srch_param+\"&auth_q=\"+auth_param)\r\n      .then(results => results.json())\r\n      .then(data => {  \r\n          searchbookList.splice(0,searchbookList.length) \r\n          let bookrows=[] \r\n          data[\"booklist\"].forEach((item) => { \r\n            bookrows.push(createData(item.book_item,item.inventory_item)); \r\n          });\r\n          setSearchBookList(bookrows) \r\n      }); \r\n    }\r\n    React.useEffect(() => { getUpdatedCheckBooks ()}, []);\r\n    \r\n    React.useEffect(() => {getUpdatedInventory ()}, []);\r\n   \r\n    React.useEffect(() => {getUpdatedMemberList()}, []);\r\n    \r\n    function CheckoutMenu(){\r\n     return (<Menu\r\n          id=\"issuebook-menu\"\r\n          anchorEl={anchorEl}\r\n          keepMounted\r\n          open={Boolean(anchorEl)}\r\n          onClose={handleClose}\r\n        >\r\n        <MenuItem onClick={()=>{returnbook(selectedMenuRow)}}>Return Book</MenuItem>\r\n        <MenuItem onClick={()=> {showBookInfo(selectedMenuRow)}}>See All Info</MenuItem> \r\n      </Menu>);\r\n    }\r\n    const handleParamChange=(event)=>{\r\n      let id = (event.target.id).replace(\"-input\",\"\")      \r\n      if(event.target.value==\"\")\r\n        delete  searchParams[id]\r\n      else searchParams[id]=event.target.value \r\n      setSearchDisabled(searchParams?(searchParams[\"title\"]==undefined&&searchParams[\"authors\"]==undefined):true)\r\n    }\r\n\r\n     \r\n    function AllBooksMenu(){\r\n      return (<Menu id=\"booklist-menu\"  anchorEl={anchorE2}  keepMounted open={Boolean(anchorE2)} onClose={handleClose} >\r\n         <MenuItem onClick={()=>{issuebook(selectedMenuRow)}}>Issue Book</MenuItem>\r\n         <MenuItem onClick={()=>{updatebook(selectedMenuRow)}}>Update Book Info</MenuItem>\r\n         <MenuItem onClick={()=> {deletebook(selectedMenuRow)}}>Delete this Book</MenuItem> \r\n       </Menu>);\r\n     }\r\n\r\n    return(\r\n     <Container maxWidth=\"lg\" className={classes.container}>\r\n        <Grid container spacing={3}> \r\n        <Grid item xs={12} md={4} lg={12}>          \r\n          <Accordion> \r\n            <AccordionSummary id=\"panel1a-header\"  aria-controls=\"panel1a-content\" expandIcon={<ExpandMoreIcon />}    >\r\n              <Title>Quick Search</Title>\r\n            </AccordionSummary>\r\n            <AccordionDetails>\r\n              <Grid item container>\r\n                <Grid item xs={3}>\r\n                  <TextField  id=\"title-input\"  label=\"Title\" variant=\"outlined\"  type=\"text\" onChange={handleParamChange} />\r\n                </Grid>\r\n                <Grid item xs={3}>\r\n                  <TextField  id=\"authors-input\"  label=\"Author\"  variant=\"outlined\" type=\"text\" onChange={handleParamChange}/>                 \r\n                </Grid>\r\n                <Grid item xs={1}>\r\n                  <Button variant=\"contained\" lg color=\"primary\" style={{height:\"100%\"}} disabled={searchDisabled} onClick={searchBooks}>\r\n                  Search  \r\n                  </Button>  \r\n                  </Grid>\r\n                <Grid item xs={3}>\r\n                  <Button variant=\"contained\" lg color=\"accent\" style={{height:\"100%\"}} preventDefault onClick={()=>{setSearchBookList([])}}   >\r\n                  Clear Search  \r\n                  </Button>              \r\n                </Grid> \r\n                <Grid item xs={2}> \r\n                  <Typography >{searchbookList.length +\"  Search results\"}</Typography>  \r\n                </Grid>            \r\n              </Grid> \r\n              \r\n            </AccordionDetails>            \r\n              <Grid item xs={12} md={4} lg={12}>\r\n              {searchbookList.length==0?null:\r\n                 <Paper className={fixedHeightPaper}>                      \r\n                    <TableContainer className={classes.tablecontainer}>\r\n                    <Table  stickyHeader aria-label=\"sticky table\">\r\n                        <TableHead>\r\n                            <TableRow>\r\n                              <TableCell>  </TableCell> \r\n                              <TableCell width=\"30%\"> Title </TableCell>\r\n                              <TableCell> Authors </TableCell> \r\n                              <TableCell> Publisher </TableCell> \r\n                              <TableCell width=\"20%\"> Publication date </TableCell> \r\n                              <TableCell width=\"15%\"> No. of books </TableCell> \r\n                              <TableCell width=\"15%\"> No. Issued books </TableCell> \r\n                              <TableCell width=\"5%\"> ISBN</TableCell>  \r\n                            </TableRow>\r\n                        </TableHead>\r\n                        <TableBody>\r\n                        {searchbookList.map((row) => (\r\n                            \r\n                            <TableRow key={row.book_item.isbn}>\r\n                              <TableCell>\r\n                                  <IconButton onClick={(event ) => {handleAllMoreClick(event, row) }}> \r\n                                      <MoreVert/>\r\n                                  </IconButton>\r\n                                  <AllBooksMenu/>\r\n                              </TableCell> \r\n                              <TableCell  >  {row.book_item.title}  </TableCell>\r\n                              <TableCell>{row.book_item.authors}</TableCell> \r\n                              <TableCell>{row.book_item.publisher}</TableCell> \r\n                              <TableCell>{row.book_item.publication_date}</TableCell> \r\n                              <TableCell>{row.inventory_item.count}</TableCell> \r\n                              <TableCell>{row.inventory_item.checkout_count}</TableCell> \r\n                              <TableCell>{row.book_item.isbn}</TableCell>  \r\n                            </TableRow>\r\n                        ))}\r\n                        </TableBody> \r\n                    </Table> \r\n                    </TableContainer>\r\n                </Paper>}\r\n              </Grid>\r\n          </Accordion> \r\n        </Grid>\r\n            <Grid item xs={12} md={4} lg={12}>\r\n            <Paper className={fixedHeightPaper}>            \r\n              <Title>Checked Books </Title>            \r\n                <TableContainer className={classes.tablecontainer}>\r\n                  <Table  stickyHeader aria-label=\"sticky table\">\r\n                    <TableHead>\r\n                      <TableRow>\r\n                          <TableCell width=\"5%\">  </TableCell> \r\n                          <TableCell width=\"30%\"> Title </TableCell>\r\n                          <TableCell width=\"20%\"> Authors </TableCell> \r\n                          <TableCell width=\"20%\"> Member</TableCell> \r\n                          <TableCell width=\"10%\"> Status </TableCell> \r\n                          <TableCell width=\"30%\"> Issue Date </TableCell> \r\n                          <TableCell width=\"40%\"> ReturnDate </TableCell> \r\n                          <TableCell width=\"15%\"> ISBN</TableCell>  \r\n                      </TableRow>\r\n                      </TableHead>\r\n                      <TableBody>\r\n                      {bookBagList.map((row) => (\r\n                          \r\n                        <TableRow key={row.bag_item.bagId}>\r\n                          <TableCell  width=\"5%\">\r\n                              <IconButton aria-controls=\"simple-menu\" aria-haspopup=\"true\"  onClick={(event ) => {handleMoreClick(event, row) }}> \r\n                                  <MoreVert/>\r\n                              </IconButton>\r\n                              <CheckoutMenu></CheckoutMenu>\r\n                          </TableCell> \r\n                          <TableCell width=\"30%\">{row.book_item.title}</TableCell>\r\n                          <TableCell width=\"20%\">{row.book_item.authors}</TableCell> \r\n                          <TableCell width=\"20%\">{row.member_item.first_name + \" \" +row.member_item.last_name}</TableCell> \r\n                          <TableCell width=\"10%\">{row.bag_item.status==1?\"Issued\":\"Returned\"}</TableCell> \r\n                          <TableCell width=\"30%\">{row.bag_item.checkout_date}</TableCell> \r\n                          <TableCell width=\"40%\">{row.bag_item.checkin_date?row.bag_item.checkin_date:\"-\"}</TableCell> \r\n                          <TableCell width=\"10%\">{row.book_item.isbn}</TableCell>  \r\n                        </TableRow>\r\n                      ))}\r\n                      </TableBody> \r\n                  </Table> \r\n                  </TableContainer>\r\n                </Paper>\r\n            </Grid>\r\n             \r\n            <Grid item xs={12} md={8} lg={12}>\r\n                <Paper className={fixedHeightPaper}>            \r\n                    <Title>All Books </Title>            \r\n                    <TableContainer className={classes.tablecontainer}>\r\n                    <Table  stickyHeader aria-label=\"sticky table\">\r\n                        <TableHead>\r\n                            <TableRow>\r\n                              <TableCell>  </TableCell> \r\n                              <TableCell width=\"30%\"> Title </TableCell>\r\n                              <TableCell> Authors </TableCell> \r\n                              <TableCell> Publisher </TableCell> \r\n                              <TableCell width=\"20%\"> Publication date </TableCell> \r\n                              <TableCell width=\"15%\"> No. of books </TableCell> \r\n                              <TableCell width=\"15%\"> No. Issued books </TableCell> \r\n                              <TableCell width=\"5%\"> ISBN</TableCell>  \r\n                            </TableRow>\r\n                        </TableHead>\r\n                        <TableBody>\r\n                        {bookList.map((row) => (\r\n                            \r\n                            <TableRow key={row.book_item.isbn}>\r\n                              <TableCell>\r\n                                  <IconButton onClick={(event ) => {handleAllMoreClick(event, row) }}> \r\n                                      <MoreVert/>\r\n                                  </IconButton>\r\n                                  <AllBooksMenu/>\r\n                              </TableCell> \r\n                              <TableCell  >  {row.book_item.title}  </TableCell>\r\n                              <TableCell>{row.book_item.authors}</TableCell> \r\n                              <TableCell>{row.book_item.publisher}</TableCell> \r\n                              <TableCell>{row.book_item.publication_date}</TableCell> \r\n                              <TableCell>{row.inventory_item.count}</TableCell> \r\n                              <TableCell>{row.inventory_item.checkout_count}</TableCell> \r\n                              <TableCell>{row.book_item.isbn}</TableCell>  \r\n                            </TableRow>\r\n                        ))}\r\n                        </TableBody> \r\n                    </Table> \r\n                    </TableContainer>\r\n                </Paper>\r\n            </Grid>\r\n\r\n            </Grid>\r\n        <InfoDialog selectedValue={selectedInfoValue} open={infoDialogOpen} onClose={handleClose} />          \r\n        <BookUpdateDialog selectedValue={selectedInfoValue} open={updateDialogOpen}  onClose={handleClose} onUpdateData={updateDialogData} />            \r\n        <BookIssueDialog selectedValue={selectedInfoValue} memberList={memberList} open={issueDialogOpen}  onClose={handleClose} onCheckoutData={issueDialogData} />            \r\n        <Box pt={4}>\r\n            <Copyright />\r\n        </Box>\r\n        <Snackbar\r\n          anchorOrigin={{vertical: 'top', horizontal: 'center' }}\r\n          open={deleteopen} \r\n          message=\"Book Deleted Successfully\"\r\n          autoHideDuration={1000}\r\n          key=\"topcenter\"\r\n        />\r\n     </Container>\r\n    )\r\n}","import React from 'react';\r\nimport PropTypes from 'prop-types'; \r\nimport { makeStyles } from '@material-ui/core/styles'; \r\nimport {Button, Typography, IconButton,TextField} from '@material-ui/core'; \r\nimport {DialogTitle ,DialogContent,DialogActions,Dialog }from '@material-ui/core';   \r\nimport CloseIcon from '@material-ui/icons/Close';  \r\n \r\n\r\nconst useStyles =  makeStyles((theme) => ({\r\n    \r\n  root: {\r\n    margin: 0,\r\n    padding: theme.spacing(2),\r\n  },\r\n  closeButton: {\r\n    position: 'absolute',\r\n    right: theme.spacing(1),\r\n    top: theme.spacing(1),\r\n    color: theme.palette.grey[500],\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(1),\r\n    display: 'flex',\r\n    overflow: 'auto',\r\n    flexDirection: 'column',\r\n  },\r\n}));\r\n\r\nexport default function MemberUpdateDialog(props) { \r\n    let updateEntity;\r\n    const { onClose, selectedValue, open, onUpdateData } = props; \r\n    const classes = useStyles(); \r\n\r\n    const Details = (prop)=>{         \r\n        var pairs = [];\r\n          for(var key in prop.data){\r\n            if(key!==\"id\")\r\n            pairs.push(\r\n              <TextField\r\n              autoFocus\r\n              margin=\"dense\"\r\n              id= {key}\r\n              label= {key.replace(\"_\",\" \")} \r\n              fullWidth \r\n              defaultValue = {prop.data[key]}\r\n              onChange={(event)=>updateData(event)}                  \r\n            /> \r\n            ) \r\n          } \r\n        return (\r\n                <div className=\"Data-item\">{pairs}</div>\r\n        );\r\n      }\r\n    const updateData = (event) => { \r\n        if(updateEntity==null)\r\n          updateEntity=selectedValue\r\n        updateEntity[event.target.id]=event.target.value  \r\n      };\r\n      const handleClose = () => { \r\n              onClose();\r\n      }; \r\n  \r\n      const updateMember = () => { \r\n        if(updateEntity)\r\n          onUpdateData(updateEntity)      \r\n        onClose();\r\n      }; \r\n    return (\r\n       \r\n        <Dialog onClose={handleClose} aria-labelledby=\"simple-dialog-title\" className={classes.root} open={open} fullWidth=\"md\" maxWidth=\"md\">\r\n          <DialogTitle id=\"simple-dialog-title\">Update Book Info</DialogTitle>\r\n          <IconButton aria-label=\"close\" className={classes.closeButton}  onClick={handleClose}>\r\n            <CloseIcon />\r\n          </IconButton>\r\n          <DialogContent dividers>     \r\n            <Typography gutterBottom > \r\n                <Details data={selectedValue!=null?selectedValue:{}}></Details>           \r\n            </Typography>\r\n          </DialogContent>\r\n          \r\n          <DialogActions>\r\n            <Button autoFocus onClick={handleClose} color=\"primary\">\r\n              Close\r\n            </Button>\r\n            <Button autoFocus onClick={updateMember} color=\"primary\">\r\n              Update\r\n            </Button>\r\n          </DialogActions>\r\n   \r\n        </Dialog>\r\n      );\r\n\r\n}\r\nMemberUpdateDialog.propTypes = {\r\n  onClose: PropTypes.func.isRequired,   \r\n  onUpdateData: PropTypes.func.isRequired,   \r\n  open: PropTypes.bool.isRequired,\r\n  selectedValue: PropTypes.object.isRequired,\r\n};","import React from 'react';\r\nimport PropTypes from 'prop-types'; \r\nimport { makeStyles } from '@material-ui/core/styles'; \r\nimport {Button, Typography, IconButton,TextField} from '@material-ui/core'; \r\nimport {DialogTitle ,DialogContent,DialogActions,Dialog }from '@material-ui/core';   \r\nimport CloseIcon from '@material-ui/icons/Close';  \r\n \r\n\r\nconst useStyles =  makeStyles((theme) => ({    \r\n  root: {\r\n    margin: 0,\r\n    padding: theme.spacing(2),\r\n  },\r\n  closeButton: {\r\n    position: 'absolute',\r\n    right: theme.spacing(1),\r\n    top: theme.spacing(1),\r\n    color: theme.palette.grey[500],\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(1),\r\n    display: 'flex',\r\n    overflow: 'auto',\r\n    flexDirection: 'column',\r\n  },\r\n}));\r\n\r\nexport default function MemberInsertDialog(props) {  \r\n    const { onClose, open, onInsertData } = props; \r\n    const [insertinfo,setInsertInfo] = React.useState( { \"user_id\": \"\", \"first_name\": \"\", \"last_name\": \"\", \"dob\": \"\" ,\"psswd\":\"\"});\r\n    const classes = useStyles(); \r\n\r\n    const Details = (prop)=>{         \r\n        var pairs = [];\r\n          for(var key in prop.data){\r\n            if(key!==\"psswd\")\r\n            pairs.push(\r\n              <TextField\r\n              autoFocus\r\n              margin=\"dense\"\r\n              id= {key}\r\n              label= {key.replace(\"_\",\" \")} \r\n              fullWidth  \r\n              defaultValue = {prop.data[key]}\r\n              onChange={(event)=>updateData(event)}                  \r\n            /> \r\n            ) \r\n          } \r\n        return (\r\n                <div className=\"Data-item\">{pairs}</div>\r\n        );\r\n      }\r\n    const updateData = (event) => {  \r\n        insertinfo[event.target.id]=event.target.value  \r\n    };\r\n    const handleClose = () => { \r\n      onClose();\r\n    }; \r\n  \r\n    const updateMember = () => {  \r\n      if(insertinfo.user_id!==\"\")\r\n          onInsertData(insertinfo)      \r\n      onClose();\r\n    }; \r\n    return (       \r\n      <Dialog onClose={handleClose} aria-labelledby=\"simple-dialog-title\" className={classes.root} open={open} fullWidth=\"md\" maxWidth=\"md\">\r\n        <DialogTitle id=\"simple-dialog-title\">Add new member</DialogTitle>\r\n        <IconButton aria-label=\"close\" className={classes.closeButton}  onClick={handleClose}>\r\n          <CloseIcon />\r\n        </IconButton>\r\n        <DialogContent dividers>     \r\n          <Typography gutterBottom > \r\n              <Details data={ insertinfo}\r\n              ></Details>           \r\n          </Typography>\r\n        </DialogContent>\r\n        \r\n        <DialogActions>\r\n          <Button autoFocus onClick={handleClose} color=\"primary\">\r\n            Close\r\n          </Button>\r\n          <Button autoFocus onClick={updateMember} color=\"primary\">\r\n            Add\r\n          </Button>\r\n        </DialogActions>\r\n  \r\n      </Dialog>\r\n      );\r\n\r\n}\r\nMemberInsertDialog.propTypes = {\r\n  onClose: PropTypes.func.isRequired,   \r\n  onInsertData: PropTypes.func.isRequired,   \r\n  open: PropTypes.bool.isRequired, \r\n};","import React from 'react';\r\nimport clsx from 'clsx';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n \r\nimport Title from './Title';\r\nimport {Paper,Grid,Typography,Container,Box} from '@material-ui/core';\r\nimport {Table ,TableBody ,TableCell,TableContainer,TableHead,TableRow} from '@material-ui/core';  \r\nimport {Link, IconButton,Snackbar,Fab} from '@material-ui/core'; \r\nimport {Menu ,MenuItem} from '@material-ui/core';     \r\nimport MoreVert from '@material-ui/icons/MoreVert';   \r\nimport AddIcon from '@material-ui/icons/Add'; \r\nimport MemberUpdateDialog from './MemberUpdateDialog';\r\nimport MemberInsertDialog from './MemberInsertDialog'; \r\n\r\nfunction preventDefault(event) {\r\n  event.preventDefault();\r\n}\r\n\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {'Copyright  '}\r\n      <Link color=\"inherit\" href=\"#\" onClick={preventDefault}>\r\n        Your Website\r\n      </Link>{' '}\r\n      {new Date().getFullYear()}\r\n      {'.'}\r\n    </Typography>\r\n  );\r\n} \r\nconst useStyles = makeStyles((theme) => ({ \r\n    container: {\r\n      paddingTop: theme.spacing(4),\r\n      paddingBottom: theme.spacing(4),\r\n    },\r\n    paper: {\r\n      padding: theme.spacing(2),\r\n      display: 'flex',\r\n      overflow: 'auto',\r\n      flexDirection: 'column',\r\n    },\r\n    fixedHeight: {\r\n      height: 600,\r\n    }, \r\n    extendedIcon: {\r\n      marginRight: theme.spacing(1),\r\n    },\r\n  }));\r\n\r\n  async function deleteMember(id) {\r\n    let url = process.env.REACT_APP_API_URL+'deleteMember?memberId=' + id; \r\n    return fetch(url).then(data => data.json()) \r\n   }\r\n   async function insertMemberDetails(details){\r\n    return fetch(process.env.REACT_APP_API_URL+'signup', {\r\n      method: 'POST',\r\n      headers: {\r\n        'mode':'no-cors',\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify(details)\r\n    })\r\n    .then(data => data.json()) \r\n  }\r\n  async function updateMemberDetails(details) {  \r\n    return fetch(process.env.REACT_APP_API_URL+'updateMemberDetails', {\r\n      method: 'POST',\r\n      headers: {\r\n        'mode':'no-cors',\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify(details)\r\n    })\r\n    .then(data => data.json()) \r\n   }\r\n\r\n  function createMemberData(id,user_id,join_date,first_name,last_name,dob,role,debt) {  \r\n    return {id,user_id,join_date,first_name,last_name,dob,role,debt};\r\n  }\r\n\r\nexport default function MemberFrame() {\r\n  const classes = useStyles();\r\n  const fixedHeightPaper = clsx(classes.paper, classes.fixedHeight); \r\n  const [memberList, setMemberList] = React.useState([]);\r\n  const [anchorE1, setAnchorE1] = React.useState(null);\r\n  const [selectedMenuRow, setSelectedMenuRow] = React.useState();\r\n  const [selectedInfoValue, setSelectedInfoValue] = React.useState(null); \r\n  const [updateDialogOpen, setUpdateDialogOpen] = React.useState(false);\r\n  const [insertDialogOpen, setInsertDialogOpen] = React.useState(false);\r\n  const [deleteopen, setDeleteopen] = React.useState();\r\n\r\n \r\n  React.useEffect(() => {\r\n    fetch(process.env.REACT_APP_API_URL+'getMemberList')\r\n    .then(results => results.json())\r\n    .then(data => {  updateMemberList(data) })}, []);\r\n\r\n    const updateMemberList =(data)=>{\r\n      memberList.splice(0,memberList.length)\r\n      let memberRows=[]\r\n      data[\"memberlist\"].forEach((item) => {   \r\n        memberRows.push(createMemberData(item.id,item.user_id,item.join_date,item.first_name,item.last_name,item.dob,item.role,item.debt));\r\n      }); \r\n       setMemberList(memberRows) \r\n    }\r\n\r\n    const updatemember = (row) => {  \r\n      setSelectedInfoValue(row)\r\n      setUpdateDialogOpen(true)    \r\n      setAnchorE1(null);\r\n    };\r\n    const deletemember = (row) => {       \r\n      deleteSubmit(row[\"id\"])       \r\n      setAnchorE1(null);\r\n    };\r\n    const handleMoreClick = (event,row) => {\r\n      setSelectedMenuRow(row) \r\n      setAnchorE1(event.currentTarget);\r\n    };\r\n\r\n    const handleAddMember = (event)=>{\r\n      setInsertDialogOpen(true)\r\n    }\r\n    const handleClose = (event,row) => {\r\n      setAnchorE1(null);\r\n      setUpdateDialogOpen(false);\r\n      setInsertDialogOpen(false);\r\n      };\r\n\r\n    function updateDialogData(data){   \r\n      let dataid= data[\"id\"]\r\n      delete data.id;\r\n      updateSubmit(dataid,data)\r\n    };\r\n\r\n    function insertDialogData(data){   \r\n      insertSubmit(data.user_id,data.psswd,data.first_name,data.last_name,data.dob)\r\n    };\r\n\r\n    const updateSubmit = async (memberId,memberDetails) => {  \r\n      const data = await updateMemberDetails({memberId, memberDetails }); \r\n      updateMemberList(data)\r\n    }  \r\n    const insertSubmit = async (user_id,psswd,first_name,last_name,dob) => {  \r\n      const data = await insertMemberDetails({ user_id,psswd,first_name,last_name,dob  }); \r\n      updateMemberList(data)\r\n    }  \r\n\r\n    const deleteSubmit = async (id) => {  \r\n      const data = await deleteMember( id ); \r\n       updateMemberList(data)\r\n    }\r\n\r\n    function MemberMenu(){\r\n      return (<Menu\r\n            id=\"booklist-menu\"\r\n            anchorEl={anchorE1}\r\n            keepMounted\r\n            open={Boolean(anchorE1)}\r\n            onClose={handleClose}\r\n          >\r\n            <MenuItem onClick={()=>{updatemember(selectedMenuRow)}} >Update Member Details</MenuItem>\r\n            <MenuItem onClick={()=> {deletemember(selectedMenuRow)}}>Delete this member</MenuItem>  \r\n        </Menu>);\r\n      }\r\n\r\n    return(\r\n    <Container maxWidth=\"lg\" className={classes.container}>\r\n           <Grid container spacing={3}> \r\n            <Grid item xs={12} md={4} lg={12}>\r\n\r\n            \r\n            <Paper className={fixedHeightPaper}>            \r\n              <Title>All Library Members </Title> \r\n              \r\n              <TableContainer className={classes.tablecontainer}>\r\n              <Table  stickyHeader aria-label=\"sticky table\">\r\n                <TableHead>\r\n                  <TableRow>\r\n                      <TableCell> \r\n                        <Fab color=\"secondary\" aria-label=\"add\" onClick={(event ) => {handleAddMember(event) }}> \r\n                        <AddIcon />\r\n                        </Fab>\r\n                      </TableCell> \r\n                      <TableCell >User Id</TableCell>\r\n                      <TableCell>First name</TableCell> \r\n                      <TableCell>Last Name</TableCell> \r\n                      <TableCell >DOB</TableCell> \r\n                      <TableCell >Role</TableCell> \r\n                      <TableCell >Debt</TableCell> \r\n                      <TableCell >DOJ</TableCell>  \r\n                    </TableRow>\r\n                  </TableHead>\r\n                  <TableBody>\r\n                  {memberList.map((row) => (                            \r\n                    <TableRow key={row.id}>\r\n                      <TableCell>\r\n                          <IconButton onClick={(event ) => {handleMoreClick(event, row) }}> \r\n                              <MoreVert/>\r\n                          </IconButton>\r\n                          <MemberMenu/>\r\n                      </TableCell> \r\n                      <TableCell>  {row.user_id}  </TableCell>\r\n                      <TableCell>{row.first_name}</TableCell> \r\n                      <TableCell>{row.last_name}</TableCell> \r\n                      <TableCell>{row.dob}</TableCell> \r\n                      <TableCell>{row.role}</TableCell> \r\n                      <TableCell>{row.debt}</TableCell> \r\n                      <TableCell>{row.join_date}</TableCell>  \r\n                    </TableRow>\r\n                  ))}\r\n                  </TableBody> \r\n              </Table> \r\n              </TableContainer> \r\n            </Paper>\r\n            </Grid>\r\n            </Grid>\r\n            <MemberUpdateDialog selectedValue={selectedInfoValue} open={updateDialogOpen}  onClose={handleClose} onUpdateData={updateDialogData} />            \r\n            <MemberInsertDialog open={insertDialogOpen}  onClose={handleClose} onInsertData={insertDialogData} />            \r\n          <Box pt={4}>\r\n            <Copyright />\r\n          </Box>\r\n          <Snackbar\r\n            anchorOrigin={{vertical: 'top', horizontal: 'center' }}\r\n            open={deleteopen} \r\n            message=\"Book Deleted Successfully\"\r\n            autoHideDuration={1000}\r\n            key=\"topcenter\"\r\n        />\r\n     </Container>\r\n  )\r\n}","import React from 'react';\r\nimport PropTypes from 'prop-types'; \r\nimport { makeStyles } from '@material-ui/core/styles';   \r\nimport {Button, Typography, IconButton} from '@material-ui/core'; \r\nimport {DialogTitle ,DialogContent,DialogActions,Dialog }from '@material-ui/core';   \r\nimport CloseIcon from '@material-ui/icons/Close';  \r\n\r\nconst useStyles =  makeStyles((theme) => ({\r\n    root: {\r\n      margin: 0,\r\n      padding: theme.spacing(2),\r\n    },\r\n    closeButton: {\r\n      position: 'absolute',\r\n      right: theme.spacing(1),\r\n      top: theme.spacing(1),\r\n      color: theme.palette.grey[500],\r\n    },\r\n  }));\r\n  \r\nexport default function BookInfoDialog(props) { \r\n  const { onClose, selectedValue, open } = props;\r\n  const classes = useStyles(); \r\n\r\n  const Details = (prop)=>{    \r\n    var pairs = [];\r\n      for(var key in prop.data){\r\n        if(key!=\"count\")\r\n          pairs.push(<p>{key} : {prop.data[key]}</p>);\r\n      } \r\n    return (\r\n            <div className=\"Data-item\">{pairs}</div>\r\n    );\r\n  }\r\n\r\n  const handleClose = () => { \r\n    onClose();\r\n  };\r\n  \r\n  return (       \r\n    <Dialog onClose={handleClose} aria-labelledby=\"simple-dialog-title\"  className={classes.root} open={open} fullWidth=\"md\" maxWidth=\"md\">\r\n      <DialogTitle id=\"simple-dialog-title\">Book Information</DialogTitle>\r\n      <IconButton aria-label=\"close\" className={classes.closeButton}  onClick={onClose}>\r\n        <CloseIcon />\r\n      </IconButton>\r\n      <DialogContent dividers>   \r\n        <Typography gutterBottom > \r\n            <Details data={selectedValue!=null?selectedValue:{}}></Details>           \r\n        </Typography>\r\n      </DialogContent>        \r\n      <DialogActions>\r\n        <Button autoFocus onClick={handleClose} color=\"primary\">\r\n          Close\r\n        </Button>\r\n      </DialogActions> \r\n    </Dialog>\r\n  );\r\n}  \r\nBookInfoDialog.propTypes = {\r\n  onClose: PropTypes.func.isRequired,\r\n  open: PropTypes.bool.isRequired,\r\n  selectedValue: PropTypes.object.isRequired,\r\n};","import React from 'react';\r\nimport PropTypes from 'prop-types'; \r\nimport { makeStyles } from '@material-ui/core/styles';  \r\nimport {Grid,Paper,Button, IconButton,TextField} from '@material-ui/core'; \r\nimport {DialogTitle ,DialogContent,DialogActions,Dialog }from '@material-ui/core';   \r\nimport CloseIcon from '@material-ui/icons/Close';  \r\n \r\n\r\nconst useStyles =  makeStyles((theme) => ({\r\n  root: {\r\n    margin: 0,\r\n    padding: theme.spacing(2),\r\n  },\r\n  closeButton: {\r\n    position: 'absolute',\r\n    right: theme.spacing(1),\r\n    top: theme.spacing(1),\r\n    color: theme.palette.grey[500],\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(1),\r\n    display: 'flex',\r\n    overflow: 'auto',\r\n    flexDirection: 'column',\r\n  },\r\n}));\r\n\r\nexport default function BookImportDialog(props) { \r\n    const { onClose, selectedValue, open, onCheckoutData } = props;  \r\n    const [ importCount, setImportCount] = React.useState( null);\r\n    const classes = useStyles();  \r\n\r\n    const Details = (prop)=>{    \r\n      var pairs = [];\r\n        for(var key in prop.data){\r\n          if(key!==\"count\" && key!==\"inventory_count\")\r\n            pairs.push(<p>{key} : {prop.data[key]}</p>);\r\n        } \r\n      return (\r\n             <div className=\"Data-item\">{pairs}</div>\r\n      );\r\n    }\r\n \r\n    \r\n    const checkoutData = () => {   \r\n      let updateEntity=selectedValue\r\n      updateEntity[\"import_count\"]= importCount\r\n      onCheckoutData(updateEntity)\r\n      handleClose()\r\n    };\r\n\r\n    const handleClose = () => { \r\n      onClose();\r\n    }; \r\n\r\n    const handleCountChange=(event)=>{\r\n      setImportCount(event.target.value)\r\n    }\r\n \r\n    return (\r\n      <Dialog onClose={handleClose} aria-labelledby=\"simple-dialog-title\" className={classes.root} open={open} fullWidth=\"md\" maxWidth=\"md\">\r\n        <DialogTitle id=\"simple-dialog-title\">Import Book</DialogTitle>\r\n        <IconButton aria-label=\"close\" className={classes.closeButton}  onClick={handleClose}>\r\n          <CloseIcon />\r\n        </IconButton>\r\n        <DialogContent dividers>    \r\n        <Grid container spacing={3}> \r\n         <Grid item xs={12} md={4} lg={6}>  \r\n            <Paper className={classes.paper} elevation={3} >\r\n              <h3>Inventory Details</h3>\r\n              <p> Book Count in Inventory : {selectedValue!=null?selectedValue[\"inventory_count\"]:0}</p>\r\n              <p> Enter Count to import to Inventory : </p>\r\n              <TextField\r\n                id=\"member-list\" \r\n                label=\" \"                              \r\n                type=\"number\"\r\n                InputLabelProps={{\r\n                  shrink: true,\r\n                }}\r\n                onChange={handleCountChange}\r\n                helperText=\"Please enter import count\"\r\n              />\r\n            </Paper>  \r\n          </Grid>\r\n          <Grid item xs={12} md={4} lg={6}>  \r\n            <Paper className={classes.paper} elevation={3}>\r\n              <h3>Books Details</h3>\r\n              <Details data={selectedValue!=null?selectedValue:{}}></Details>         \r\n            </Paper>\r\n          </Grid>\r\n          </Grid> \r\n        </DialogContent>\r\n        \r\n        <DialogActions>\r\n          <Button autoFocus onClick={handleClose} color=\"primary\">\r\n            Close\r\n          </Button>\r\n          <Button autoFocus onClick={checkoutData} color=\"primary\" disabled={!importCount}>\r\n            Import Book\r\n          </Button>\r\n        </DialogActions>\r\n \r\n      </Dialog>\r\n    );\r\n  }\r\n  \r\n  BookImportDialog.propTypes = {\r\n    onClose: PropTypes.func.isRequired,   \r\n    onCheckoutData: PropTypes.func.isRequired,   \r\n    open: PropTypes.bool.isRequired,\r\n    selectedValue: PropTypes.object.isRequired\r\n  };","import React from 'react';\r\nimport clsx from 'clsx';\r\nimport Title from './Title';\r\nimport { makeStyles } from '@material-ui/core/styles';  \r\nimport {Paper,Grid,Typography,Container,Box} from '@material-ui/core';\r\nimport {Table,TableBody,TableCell,TableContainer,TableHead,TableRow} from '@material-ui/core';  \r\nimport {Link,IconButton} from '@material-ui/core'; \r\nimport {TextField,Button, ButtonGroup} from '@material-ui/core';  \r\nimport {AddCircle,Info} from '@material-ui/icons';  \r\nimport BookInfoDialog from './BookInfoDialog';\r\nimport BookImportDialog from './BookImportDialog';\r\n\r\n\r\nfunction preventDefault(event) {\r\n  event.preventDefault();\r\n}\r\n\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {'Copyright  '}\r\n      <Link color=\"inherit\" href=\"#\" onClick={preventDefault}>\r\n        Your Website\r\n      </Link>{' '}\r\n      {new Date().getFullYear()}\r\n      {'.'}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  container: {\r\n    paddingTop: theme.spacing(4),\r\n    paddingBottom: theme.spacing(4),\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(2),\r\n    display: 'flex',\r\n    overflow: 'auto',\r\n    flexDirection: 'column',\r\n  },\r\n  fixedHeight: {\r\n    height: 450,\r\n  }, \r\n  searchFixedHeight: {\r\n      height: 200,\r\n    }, \r\n  extendedIcon: {\r\n    marginRight: theme.spacing(1),\r\n  },\r\n  formgrid:{ \r\n    '& .MuiTextField-root': {\r\n      margin: theme.spacing(1),\r\n      width: '25ch',\r\n    },\r\n    '& .Button-root': {\r\n      margin: theme.spacing(1),\r\n      width: '25ch',\r\n    },\r\n  }\r\n}));\r\n\r\nasync function importBookToSystem(details) {  \r\n  return fetch(process.env.REACT_APP_API_URL+'addBooksToSystem', {\r\n    method: 'POST',\r\n    headers: {\r\n      'mode':'no-cors',\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify(details)\r\n  })\r\n  .then(data => data.json()) \r\n  }\r\n\r\nexport default function ImportBookFrame() {\r\n  const classes = useStyles();\r\n  const searchFixedHeight = clsx(classes.paper, classes.searchFixedHeight); \r\n  const fixedHeightPaper = clsx(classes.paper, classes.fixedHeightPaper);  \r\n  const [bookImportList, setBookImportList] = React.useState([]);   \r\n  const [selectedInfoValue, setSelectedInfoValue] = React.useState(null); \r\n  const [infoDialogOpen, setInfoDialogOpen] = React.useState(false);\r\n  const [importDialogOpen, setImportDialogOpen] = React.useState(false); \r\n  const [searchParams, setSearchParams] = React.useState({}); \r\n\r\n  const importlist = async () => {\r\n    let queryString=\"?\"\r\n    for(var key in searchParams){ \r\n        queryString += key+\"=\"+searchParams[key]\r\n        queryString +=\"&&\" \r\n    } \r\n    console.log(queryString)\r\n    fetch(process.env.REACT_APP_API_URL+'getApiBookList'+queryString)\r\n      .then(data => data.json())  \r\n      .then(data=>{\r\n          console.log(data)\r\n            bookImportList.splice(0,bookImportList.length) \r\n          setBookImportList(data)\r\n      })\r\n  }  \r\n    \r\n  const handleClose = () => { \r\n      setInfoDialogOpen(false) \r\n      setImportDialogOpen(false) \r\n  };\r\n  const importDialogData = async (book_data)=>{  \r\n      const data = await importBookToSystem({\"import_book\":book_data})\r\n      if(data[\"status\"]==\"success\")\r\n          importlist()\r\n  };\r\n  const showInfoDialog = (event, row)=>{\r\n      setSelectedInfoValue(row)\r\n      setInfoDialogOpen(true) \r\n  }\r\n  const showImportDialog = (event, row)=>{\r\n      setSelectedInfoValue(row)\r\n      setImportDialogOpen(true) \r\n  }\r\n  const handleParamChange=(event)=>{\r\n    let id = (event.target.id).replace(\"-input\",\"\")      \r\n    if(event.target.value==\"\")\r\n    delete  searchParams[id]\r\n    else searchParams[id]=event.target.value\r\n    console.log(searchParams)\r\n  }\r\n  return(\r\n   <Container maxWidth=\"lg\" className={classes.container}>\r\n      <Grid container spacing={3}>             \r\n        <Grid item xs={12} md={4} lg={12}>            \r\n          <Paper className={searchFixedHeight}>            \r\n            <Title>Import Books from Frappe </Title>\r\n              <div className={classes.formgrid}>\r\n              <TextField  id=\"title-input\"  label=\"Title\"   type=\"text\" onChange={handleParamChange} />\r\n              <TextField  id=\"authors-input\"  label=\"Author\"   type=\"text\" onChange={handleParamChange}/>\r\n              <TextField  id=\"publisher-input\"  label=\"Publisher\"  type=\"text\" onChange={handleParamChange} />\r\n              <TextField  id=\"isbn-input\"  label=\"isbn\"  type=\"numer\" onChange={handleParamChange}/>\r\n              <TextField  id=\"page-input\"  label=\"Page\"  type=\"number\" onChange={handleParamChange} />\r\n            </div>\r\n            \r\n            <Button variant=\"contained\" \r\n              color=\"primary\"\r\n                style={{width:\"20%\",marginTop:\"20px\"}}\r\n                onClick={importlist}>\r\n              Search  \r\n            </Button>\r\n          </Paper>\r\n        </Grid>\r\n        <Grid item xs={12} md={4} lg={12}>            \r\n          <Paper className={fixedHeightPaper}>            \r\n            <Title>Books from Frappe</Title> \r\n            \r\n            <TableContainer disableElevation className={classes.tablecontainer}>\r\n            <Table  stickyHeader aria-label=\"sticky table\">\r\n              <TableHead>\r\n                <TableRow>  \r\n                    <TableCell>  </TableCell> \r\n                    <TableCell width=\"30%\"> Title </TableCell>\r\n                    <TableCell> Authors </TableCell> \r\n                    <TableCell> Publisher </TableCell> \r\n                    <TableCell width=\"20%\"> Publication date </TableCell> \r\n                    <TableCell width=\"15%\"> Inventory Count </TableCell>  \r\n                    <TableCell width=\"5%\"> ISBN </TableCell>  \r\n                </TableRow> \r\n              </TableHead>\r\n              <TableBody>\r\n                {bookImportList.map((row) => (                  \r\n                <TableRow key={row.bookID}>\r\n                  <TableCell>\r\n                  <ButtonGroup  disableElevation  aria-label=\"outlined primary button group\">\r\n                    <IconButton  onClick={(event ) => {showInfoDialog(event, row) }}> \r\n                        <Info/>\r\n                    </IconButton> \r\n                    <IconButton  onClick={(event ) => {showImportDialog(event, row) }}> \r\n                        <AddCircle/>\r\n                    </IconButton> \r\n                    </ButtonGroup>\r\n                  </TableCell> \r\n                  <TableCell>{row.title} </TableCell>\r\n                  <TableCell>{row.authors}</TableCell> \r\n                  <TableCell>{row.publisher}</TableCell> \r\n                  <TableCell>{row.publication_date}</TableCell> \r\n                  <TableCell>{row.inventory_count}</TableCell>  \r\n                  <TableCell>{row.isbn}</TableCell>  \r\n                </TableRow>\r\n              ))}\r\n              </TableBody> \r\n            </Table> \r\n            </TableContainer> \r\n          </Paper>\r\n        </Grid>\r\n      </Grid>\r\n      <BookInfoDialog selectedValue={selectedInfoValue} open={infoDialogOpen} onClose={handleClose} />\r\n      <BookImportDialog selectedValue={selectedInfoValue} open={importDialogOpen}  onClose={handleClose} onCheckoutData={importDialogData} />     \r\n      <Box pt={4}>\r\n        <Copyright />\r\n      </Box> \r\n    </Container>\r\n  )\r\n}","import React from 'react';\r\nimport clsx from 'clsx'; \r\nimport Title from './Title';\r\nimport { makeStyles } from '@material-ui/core/styles';  \r\nimport {Paper,Grid,Typography,Container,Box} from '@material-ui/core';\r\nimport {Table ,TableBody ,TableCell,TableContainer,TableHead,TableRow} from '@material-ui/core';   \r\nimport {Select,FormControl,InputLabel,Button,MenuItem,Link} from '@material-ui/core';  \r\nimport DashTileBooks from './DashTileBooks';\r\nimport DashTileCustomers from './DashTileCustomers';   \r\n\r\nfunction preventDefault(event) {\r\n  event.preventDefault();\r\n}\r\n\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {'Copyright  '}\r\n      <Link color=\"inherit\" href=\"#\" onClick={preventDefault}>\r\n        Your Website\r\n      </Link>{' '}\r\n      {new Date().getFullYear()}\r\n      {'.'}\r\n    </Typography>\r\n  );\r\n} \r\n\r\nconst useStyles = makeStyles((theme) => ({  \r\n  container: {\r\n    paddingTop: theme.spacing(4),\r\n    paddingBottom: theme.spacing(4),\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(2),\r\n    display: 'flex',\r\n    overflow: 'auto',\r\n    flexDirection: 'column',\r\n  },\r\n  fixedHeight: {\r\n    height: 400,\r\n  },\r\n  searchFixedHeight: {\r\n      height: 200,\r\n  }, \r\n}));\r\nasync function reportDownload(apiname,filename) {\r\n  let url = process.env.REACT_APP_API_URL+apiname;  \r\n  return fetch(url)  \r\n  .then( res => res.blob() )\r\n  .then( blob => {\r\n    console.log(blob)\r\n    var url = window.URL.createObjectURL(blob);\r\n    var a = document.createElement('a');\r\n    a.href = url;\r\n    a.download = filename+\".xlsx\";\r\n    document.body.appendChild(a); // we need to append the element to the dom -> otherwise it will not work in firefox\r\n    a.click();    \r\n    a.remove();\r\n  });\r\n }\r\nexport default function ReportFrame() {\r\n  const classes = useStyles();\r\n  const [reportIndex, setReportIndex] = React.useState('');\r\n  const [reportType, setReportType] = React.useState(''); \r\n  const [custReportData, setCustReportData] = React.useState([]); \r\n  const [bookReportData, setBookReportData] = React.useState([]);  \r\n  const searchFixedHeight = clsx(classes.paper, classes.searchFixedHeight); \r\n  const fixedHeight = clsx(classes.paper, classes.fixedHeight); \r\n \r\n  const handleChange = (event) => {\r\n    setReportIndex(event.target.value); \r\n    setReportType(event.target.value)    \r\n  };\r\n \r\n  const custDataReady=(data)=>{  \r\n    setCustReportData(data[\"rank_list\"])\r\n  };\r\n  const bookDataReady=(data)=>{  \r\n    setBookReportData(data[\"rank_list\"])\r\n  };\r\n  const handleDownload=()=>{   \r\n    reportDownload(reportType==\"member\"?\"getCustomerRankingReport\":\"getTopBooksReport\",\r\n                                     reportType==\"member\"?\"HighestPayingCustomers\":\"TopBooksReport\")     \r\n  }    \r\n\r\nreturn(\r\n  <Container maxWidth=\"lg\" className={classes.container}>\r\n    <Grid container spacing={3}>             \r\n      <Grid item xs={12} md={4} lg={12}>            \r\n        <Paper className={searchFixedHeight}>            \r\n          <Title>Select Report to view </Title>            \r\n          <FormControl variant=\"outlined\" className={classes.formControl}>\r\n            <InputLabel id=\"demo-simple-select-outlined-label\">Report</InputLabel>\r\n            <Select\r\n              labelId=\"demo-simple-select-outlined-label\"\r\n              id=\"demo-simple-select-outlined\"\r\n              value={reportIndex}\r\n              onChange={handleChange}\r\n              label=\"Age\">\r\n              <MenuItem value=\"\"> <em>None</em> </MenuItem>\r\n              <MenuItem value={\"book\"}>Top Issued Books </MenuItem>\r\n              <MenuItem value={\"member\"}>Highest Paying Customers</MenuItem> \r\n            </Select>\r\n          </FormControl>\r\n          <Button variant=\"contained\" color=\"primary\" style={{width:\"20%\",marginTop:\"20px\"}} disabled={reportType==\"\"} onClick={handleDownload}>\r\n            Download Report  \r\n          </Button>\r\n        </Paper>\r\n      </Grid>\r\n      {reportIndex!=\"\"?\r\n      <Grid item xs={12} md={4} lg={4}>            \r\n        <Paper className={fixedHeight}>   \r\n          {reportType==\"book\"?<DashTileBooks hideLink={true} bookDataReady={bookDataReady}/>:\r\n          reportType==\"member\"?<DashTileCustomers hideLink={true} custDataReady={custDataReady}/>:<p></p>} \r\n        </Paper>\r\n      </Grid>:<div></div>}\r\n      {reportIndex!=\"\"?\r\n      <Grid item xs={12} md={4} lg={8}>            \r\n        <Paper className={fixedHeight}>   \r\n          <TableContainer className={classes.tablecontainer} >\r\n            <Table  stickyHeader aria-label=\"sticky table\">\r\n            <TableHead>\r\n                {reportType==\"member\"?<TableRow> \r\n                  <TableCell> Amount Spend </TableCell>\r\n                  <TableCell> First Name </TableCell>\r\n                  <TableCell> last name </TableCell> \r\n                  <TableCell> Type </TableCell>  \r\n                </TableRow>\r\n                :reportType==\"book\"?<TableRow> \r\n                  <TableCell>Title</TableCell>\r\n                  <TableCell> Author </TableCell>\r\n                  <TableCell> Publish </TableCell> \r\n                  <TableCell> Issue Count </TableCell> \r\n                  <TableCell> Available </TableCell>  \r\n                  <TableCell> Total </TableCell>  \r\n              </TableRow>:<div></div>}\r\n            </TableHead>\r\n            <TableBody>\r\n            {reportType==\"member\"?custReportData.slice(0).reverse().map((row) => (                            \r\n                <TableRow key={row.member_item.id}>\r\n                  <TableCell>{row.item_count}</TableCell> \r\n                  <TableCell>{row.member_item.first_name}</TableCell>\r\n                  <TableCell>{row.member_item.last_name}</TableCell> \r\n                  <TableCell>{row.member_item.role}</TableCell>  \r\n                </TableRow>\r\n                )):reportType==\"book\"?bookReportData.slice(0).reverse().map((row) => (                            \r\n              <TableRow key={row.book_item.bookID}>\r\n                <TableCell>{row.book_item.title}</TableCell> \r\n                <TableCell>{row.book_item.authors}</TableCell>\r\n                <TableCell>{row.book_item.publisher}</TableCell> \r\n                <TableCell>{row.item_count}</TableCell>  \r\n                <TableCell>{row.inventory_count- row.checkout_count}</TableCell>                                \r\n                <TableCell>{row.inventory_count}</TableCell>  \r\n              </TableRow>\r\n              )):<div></div>}\r\n                </TableBody> \r\n            </Table> \r\n            </TableContainer> \r\n          </Paper>\r\n        </Grid>:<div></div>}\r\n    </Grid>\r\n    <Box pt={4}>\r\n      <Copyright />\r\n    </Box>\r\n  </Container>\r\n  )\r\n}","import React from 'react';\r\nimport clsx from 'clsx';\r\nimport { makeStyles } from '@material-ui/core/styles'; \r\nimport Title from './Title'; \r\nimport {Paper,Grid,Typography,Container,Box,Link} from '@material-ui/core'; \r\nimport {Table ,TableBody ,TableCell,TableContainer,TableHead,TableRow} from '@material-ui/core';   \r\n\r\nfunction preventDefault(event) {\r\n  event.preventDefault();\r\n}\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {'Copyright  '}\r\n      <Link color=\"inherit\" href=\"#\" onClick={preventDefault}>\r\n        Your Website\r\n      </Link>{' '}\r\n      {new Date().getFullYear()}\r\n      {'.'}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  container: {\r\n    paddingTop: theme.spacing(4),\r\n    paddingBottom: theme.spacing(4),\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(2),\r\n    display: 'flex',\r\n    overflow: 'auto',\r\n    flexDirection: 'column',\r\n  },\r\n  fixedHeight: {\r\n    height: 600,\r\n  }, \r\n  extendedIcon: {\r\n    marginRight: theme.spacing(1),\r\n  },\r\n}));\r\n \r\n\r\nexport default function GuestViewFrame() {\r\n  const classes = useStyles();\r\n  const fixedHeightPaper = clsx(classes.paper, classes.fixedHeight); \r\n  const [bookList, setBookList] = React.useState([]); \r\n\r\n \r\n  React.useEffect(() => {\r\n    fetch(process.env.REACT_APP_API_URL+'getBooksInventory')\r\n    .then(results => results.json())\r\n    .then(data => {  updateMemberList(data) })}, []);\r\n\r\n    const updateMemberList =(data)=>{\r\n        bookList.splice(0,bookList.length)  \r\n        setBookList(data[\"booklist\"]) \r\n  }\r\n\r\n\r\n  return(\r\n    <Container maxWidth=\"lg\" className={classes.container}>\r\n      <Grid container spacing={3}> \r\n        <Grid item xs={12} md={4} lg={12}>      \r\n          <Paper className={fixedHeightPaper}>            \r\n            <Title>All Library Books </Title>             \r\n            <TableContainer className={classes.tablecontainer}>\r\n            <Table  stickyHeader aria-label=\"sticky table\">\r\n                <TableHead>\r\n                  <TableRow> \r\n                    <TableCell>  Book ID </TableCell> \r\n                    <TableCell> Title </TableCell> \r\n                    <TableCell> Authors  </TableCell> \r\n                    <TableCell> Publisher </TableCell> \r\n                    <TableCell>  Publication date </TableCell> \r\n                    <TableCell>  Num pages  </TableCell> \r\n                    <TableCell>  Average rating  </TableCell> \r\n                    <TableCell>  Ratings count  </TableCell> \r\n                    <TableCell>  Text Reviews Count  </TableCell> \r\n                    <TableCell> Language code  </TableCell> \r\n                    <TableCell>  isbn </TableCell>  \r\n                    <TableCell> isbn13 </TableCell> \r\n                  </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                {bookList.map((row) => ( \r\n                  <TableRow key={row.book_item.bookID}>                                \r\n                    <TableCell  >  {row.book_item.bookID}  </TableCell> \r\n                    <TableCell>  {row.book_item.title}  </TableCell> \r\n                    <TableCell>  {row.book_item.authors}  </TableCell> \r\n                    <TableCell>  {row.book_item.publisher}  </TableCell> \r\n                    <TableCell>  {row.book_item.publication_date}  </TableCell> \r\n                    <TableCell>  {row.book_item.num_pages}  </TableCell> \r\n                    <TableCell>  {row.book_item.average_rating}  </TableCell> \r\n                    <TableCell>  {row.book_item.ratings_count}  </TableCell> \r\n                    <TableCell>  {row.book_item.text_reviews_count}  </TableCell> \r\n                    <TableCell>  {row.book_item.language_code}  </TableCell> \r\n                    <TableCell>  {row.book_item.isbn}  </TableCell>  \r\n                    <TableCell>  {row.book_item.isbn13}  </TableCell>\r\n                  </TableRow>\r\n                ))}\r\n                </TableBody> \r\n              </Table> \r\n            </TableContainer> \r\n          </Paper>\r\n        </Grid>\r\n      </Grid>\r\n      <Box pt={4}> <Copyright /> </Box>      \r\n    </Container>\r\n  )\r\n}","import React from 'react';\r\nimport clsx from 'clsx';\r\nimport PropTypes from 'prop-types';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport List from '@material-ui/core/List';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Badge from '@material-ui/core/Badge'; \r\nimport ExitToApp from '@material-ui/icons/ExitToApp'\r\nimport Link from '@material-ui/core/Link';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\r\nimport NotificationsIcon from '@material-ui/icons/Notifications';\r\nimport { mainListItems, secondaryListItems } from './listItems'; \r\nimport DashFrame from './DashFrame';\r\nimport BookFrame from './BookFrame';\r\nimport MemberFrame from './MemberFrame';\r\nimport ImportBookFrame from './ImportBookFrame';\r\nimport ReportFrame from './ReportFrame';\r\nimport GuestViewFrame from './GuestViewFrame';\r\n\r\nfunction preventDefault(event) {\r\n  event.preventDefault();\r\n  return false\r\n}\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {'Copyright  '}\r\n      <Link color=\"inherit\" href=\"#\" preventDefault onClick={preventDefault}>\r\n        Your Website\r\n      </Link>{' '}\r\n      {new Date().getFullYear()}\r\n      {'.'}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst drawerWidth = 240;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: 'flex',\r\n  },\r\n  toolbar: {\r\n    paddingRight: 24, // keep right padding when drawer closed\r\n  },\r\n  toolbarIcon: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'flex-end',\r\n    padding: '0 8px',\r\n    ...theme.mixins.toolbar,\r\n  },\r\n  appBar: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    transition: theme.transitions.create(['width', 'margin'], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n  },\r\n  appBarShift: {\r\n    marginLeft: drawerWidth,\r\n    width: `calc(100% - ${drawerWidth}px)`,\r\n    transition: theme.transitions.create(['width', 'margin'], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n  },\r\n  menuButton: {\r\n    marginRight: 36,\r\n  },\r\n  menuButtonHidden: {\r\n    display: 'none',\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n  },\r\n  drawerPaper: {\r\n    position: 'relative',\r\n    whiteSpace: 'nowrap',\r\n    width: drawerWidth,\r\n    transition: theme.transitions.create('width', {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n  },\r\n  drawerPaperClose: {\r\n    overflowX: 'hidden',\r\n    transition: theme.transitions.create('width', {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n    width: theme.spacing(7),\r\n    [theme.breakpoints.up('sm')]: {\r\n      width: theme.spacing(9),\r\n    },\r\n  },\r\n  appBarSpacer: theme.mixins.toolbar,\r\n  content: {\r\n    flexGrow: 1,\r\n    height: '100vh',\r\n    overflow: 'auto',\r\n  },\r\n  container: {\r\n    paddingTop: theme.spacing(4),\r\n    paddingBottom: theme.spacing(4),\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(2),\r\n    display: 'flex',\r\n    overflow: 'auto',\r\n    flexDirection: 'column',\r\n    background:\"#eff3f2\"\r\n  },\r\n  fixedHeight: {\r\n    height: 240,\r\n  },\r\n}));\r\n\r\nexport default function Dashboard(props) {\r\n  const { user_token,logout } = props;\r\n  const classes = useStyles();\r\n  const [open, setOpen] = React.useState(false);\r\n  const [category, setcategory] = React.useState(\"dashboard\");\r\n  const handleDrawerOpen = () => { \r\n    if(user_token[\"user_details\"][\"role\"]==\"admin\")\r\n      setOpen(true);\r\n  };\r\n  const handleDrawerClose = () => {\r\n    setOpen(false);\r\n  };\r\n  const handleMenuClick = (event) => {  \r\n    if(event.target.innerText)\r\n      setcategory(event.target.innerText.toLowerCase()) \r\n    else if(event.target.getAttribute(\"name\"))\r\n      setcategory(event.target.getAttribute(\"name\").toLowerCase())\r\n    else if(event.target.tagName == \"svg\")\r\n      setcategory(event.target.parentNode.getAttribute(\"name\").toLowerCase()) \r\n    else if(event.target.tagName == \"path\")\r\n      setcategory(event.target.parentNode.parentNode.getAttribute(\"name\").toLowerCase())  \r\n  };\r\n  const fixedHeightPaper = clsx(classes.paper, classes.fixedHeight);\r\n  const categorySwitch=(type)=>{setcategory(type)}\r\n  return (\r\n    <div className={classes.root}>\r\n      <CssBaseline />\r\n      <AppBar position=\"absolute\" className={clsx(classes.appBar, open && classes.appBarShift)}>\r\n        <Toolbar className={classes.toolbar}>\r\n          <IconButton\r\n            edge=\"start\"\r\n            color=\"inherit\"\r\n            aria-label=\"open drawer\"\r\n            onClick={handleDrawerOpen}\r\n            className={clsx(classes.menuButton, open && classes.menuButtonHidden)}\r\n          >\r\n          <MenuIcon />\r\n          </IconButton>\r\n          <Typography component=\"h1\" variant=\"h6\" color=\"inherit\" noWrap className={classes.title}>\r\n            Library\r\n          </Typography>\r\n          <IconButton color=\"inherit\"> \r\n              <ExitToApp onClick={logout} /> \r\n          </IconButton>\r\n        </Toolbar>\r\n      </AppBar>\r\n      <Drawer\r\n        variant=\"permanent\"\r\n        classes={{\r\n          paper: clsx(classes.drawerPaper, !open && classes.drawerPaperClose),\r\n        }}\r\n        open={open}\r\n        hidden={user_token[\"user_details\"][\"role\"]!=\"admin\"}\r\n      >\r\n        <div className={classes.toolbarIcon}>\r\n          <IconButton onClick={handleDrawerClose}>\r\n            <ChevronLeftIcon />\r\n          </IconButton>\r\n        </div>\r\n        <Divider />\r\n        <List onClick={handleMenuClick}>\r\n          {mainListItems}\r\n        </List>\r\n        <Divider />\r\n        {/* <List>{secondaryListItems}</List> */}\r\n      </Drawer>\r\n      <main className={classes.content}>\r\n        <div className={classes.appBarSpacer} />\r\n        {(user_token[\"user_details\"][\"role\"]!=\"admin\")?<GuestViewFrame/>:category ==\"books\"?<BookFrame/>:\r\n         category ==\"members\"?<MemberFrame/>:\r\n          category ==\"reports\"?<ReportFrame/>: \r\n           category ==\"importbooks\"?<ImportBookFrame/>:\r\n            <DashFrame categorySwitch = {categorySwitch}/>}\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\nDashboard.propTypes = {\r\n  user_token: PropTypes.object.isRequired,\r\n  logout: PropTypes.func.isRequired\r\n}","import logo from './logo.svg';\nimport './App.css';\nimport Signin from './components/Signin'\nimport Dashboard from './components/Dashboard'\nimport { useState,useEffect } from 'react';\nimport { HashRouter as Router,Route, Switch} from \"react-router-dom\";\n\nfunction App() {\n  const [token, setToken] = useState();\n  \n  let localStorage= window.localStorage;\n\n  useEffect(() => { \n    if(localStorage.getItem('usertoken'))\n      setToken( JSON.parse(localStorage.getItem('usertoken')))\n  },[]);\n\n  const setUserToken=(data)=>{\n    var receiveddata = JSON.stringify(data); \n    localStorage.setItem('usertoken', receiveddata); \n    setToken(data)\n  }\n\n  const logoutUser=()=>{\n    localStorage.removeItem('usertoken')\n    setToken(null)\n  }\n\n  if(!token) {\n    return <Signin setToken={setUserToken} />\n  } \n  return (  \n    <div className=\"wrapper\"> \n      <Router>        \n        <Route exact path=\"/\" component={Dashboard} > \n        <Dashboard user_token={token} logout={logoutUser}/> </Route>\n      </Router>\n    </div>\n  );\n}\n\nexport default App; ","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}