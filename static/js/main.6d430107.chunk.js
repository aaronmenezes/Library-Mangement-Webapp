(this["webpackJsonpbook-library"]=this["webpackJsonpbook-library"]||[]).push([[0],{280:function(e,t,n){},281:function(e,t,n){},423:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),i=n(24),r=n.n(i),s=(n(280),n(8)),o=(n.p,n(281),n(14)),l=n.n(o),j=n(28),d=n(513),u=n(427),b=n(472),h=n(512),p=n(469),m=n(252),x=n(507),O=n(471),f=n(426),g=n(220),v=n.n(g),k=n(106),y=n(470),_=n(1);function w(){return Object(_.jsxs)(k.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(_.jsx)(p.a,{color:"inherit",href:"#",children:"Your Website"})," ",(new Date).getFullYear(),"."]})}var C=Object(y.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(https://images.unsplash.com/photo-1481627834876-b7833e8f5570?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1682&q=80)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function S(e){return N.apply(this,arguments)}function N(){return(N=Object(j.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("https://librarymanageservice.herokuapp.com/signin",{method:"POST",headers:{mode:"no-cors","Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(e){var t=e.setToken,n=C(),i=Object(a.useState)(),r=Object(s.a)(i,2),o=r[0],p=r[1],g=Object(a.useState)(),y=Object(s.a)(g,2),N=y[0],B=y[1],D=c.a.useState(!1),I=Object(s.a)(D,2),T=I[0],F=I[1],H=function(){var e=Object(j.a)(l.a.mark((function e(n){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,S({userId:o,psswd:N});case 3:a=e.sent,console.log(a),"success"==a.login?t(a):F(!0);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(_.jsxs)(O.a,{container:!0,component:"main",className:n.root,children:[Object(_.jsx)(b.a,{}),Object(_.jsx)(O.a,{item:!0,xs:!1,sm:4,md:7,className:n.image}),Object(_.jsx)(O.a,{item:!0,xs:12,sm:8,md:5,component:m.a,elevation:6,square:!0,children:Object(_.jsxs)("div",{className:n.paper,children:[Object(_.jsx)(d.a,{className:n.avatar,children:Object(_.jsx)(v.a,{})}),Object(_.jsx)(k.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(_.jsxs)("form",{className:n.form,noValidate:!0,onSubmit:H,children:[Object(_.jsx)(h.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"User Id",name:"user_id",autoFocus:!0,onChange:function(e){return p(e.target.value)}}),Object(_.jsx)(h.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){return B(e.target.value)}}),T?Object(_.jsx)(f.a,{children:"Invalid username or password"}):null,Object(_.jsx)(u.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:n.submit,children:"Sign In"}),Object(_.jsx)(x.a,{mt:5,children:Object(_.jsx)(w,{})})]})]})})]})}var D=n(137),I=n(221),T=n(4),F=n(516),H=n(503),A=n(504),W=n(478),P=n(506),R=n(488),M=n(505),E=n(244),L=n.n(E),V=n(246),Y=n.n(V),U=n(245),J=n.n(U),G=n(428),z=n(479),q=n(480),K=n(481),X=n(222),Q=n.n(X),Z=n(223),$=n.n(Z),ee=n(224),te=n.n(ee),ne=n(225),ae=n.n(ne),ce=n(226),ie=n.n(ce),re=n(144),se=n.n(re),oe=Object(_.jsxs)("div",{children:[Object(_.jsxs)(G.a,{button:!0,name:"Dashboard",children:[Object(_.jsx)(z.a,{name:"Dashboard",children:Object(_.jsx)(Q.a,{})}),Object(_.jsx)(q.a,{primary:"Dashboard"})]}),Object(_.jsxs)(G.a,{button:!0,name:"Books",children:[Object(_.jsx)(z.a,{name:"Books",children:Object(_.jsx)($.a,{})}),Object(_.jsx)(q.a,{primary:"Books"})]}),Object(_.jsxs)(G.a,{button:!0,name:"Members",children:[Object(_.jsx)(z.a,{name:"Members",children:Object(_.jsx)(te.a,{})}),Object(_.jsx)(q.a,{primary:"Members"})]}),Object(_.jsxs)(G.a,{button:!0,name:"Reports",children:[Object(_.jsx)(z.a,{name:"Reports",children:Object(_.jsx)(ae.a,{})}),Object(_.jsx)(q.a,{primary:"Reports"})]}),Object(_.jsxs)(G.a,{button:!0,name:"ImportBooks",children:[Object(_.jsx)(z.a,{name:"ImportBooks",children:Object(_.jsx)(ie.a,{})}),Object(_.jsx)(q.a,{primary:"ImportBooks"})]})]}),le=(K.a,G.a,z.a,se.a,q.a,G.a,z.a,se.a,q.a,G.a,z.a,se.a,q.a,n(498)),je=n(49),de=n(482),ue=n(515),be=n(242),he=n(121),pe=n(249);function me(e){return Object(_.jsx)(k.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0,children:e.children})}function xe(e){var t=e.categorySwitch,n=e.hideLink,a=e.bookDataReady,i=(Object(je.a)(),c.a.useState([])),r=Object(s.a)(i,2),o=r[0],l=r[1];c.a.useEffect((function(){j()}),[]);var j=function(){fetch("https://librarymanageservice.herokuapp.com/getTopBooks").then((function(e){return e.json()})).then((function(e){var t=[];o.splice(0,o.length),e.rank_list.slice(0).reverse().map((function(e){t.push({name:e.book_item.title,issued:e.item_count,inventory_count:e.inventory_count,checkout_count:e.checkout_count})})),l(t),a&&a(e)}))},d=function(e){var t=e.active,n=e.payload,a=e.label;return t&&n&&n.length?Object(_.jsxs)("div",{className:"custom-tooltip",style:{background:"rgba(238, 245, 246, 0.79)",padding:"10"},children:[Object(_.jsx)("p",{className:"label",children:"".concat(a," ")}),Object(_.jsx)("p",{className:"label",children:"Issued: ".concat(n[0].payload.issued," ")}),Object(_.jsx)("p",{className:"label",children:"Available: ".concat(n[0].payload.inventory_count-n[0].payload.checkout_count)}),Object(_.jsx)("p",{className:"label",children:"TotalCount: ".concat(n[0].payload.inventory_count)})]}):null};return Object(_.jsxs)(c.a.Fragment,{children:[Object(_.jsx)(me,{children:"Top Issued Books"}),Object(_.jsx)(de.a,{width:"100%",height:"100%",children:Object(_.jsxs)(ue.a,{data:o,margin:{top:5,right:5,left:5,bottom:5},children:[Object(_.jsx)(be.a,{dataKey:"name"}),Object(_.jsx)(he.a,{content:Object(_.jsx)(d,{})}),Object(_.jsx)(pe.a,{dataKey:"issued",label:!0,fill:"#8884d8"})]})}),Object(_.jsx)("div",{hidden:n,children:Object(_.jsx)(p.a,{color:"primary",href:"#",onClick:function(e){!function(e){e.preventDefault()}(e),t("reports")},children:"View All Reports"})})]})}var Oe=Object(y.a)({depositContext:{flex:1}});function fe(e){var t=e.categorySwitch,n=e.hideLink,a=e.custDataReady,i=(Oe(),c.a.useState([])),r=Object(s.a)(i,2),o=r[0],l=r[1];c.a.useEffect((function(){j()}),[]);var j=function(){fetch("https://librarymanageservice.herokuapp.com/getCustomerRanking").then((function(e){return e.json()})).then((function(e){var t=[];o.splice(0,o.length),e.rank_list.slice(0).reverse().map((function(e){t.push({name:e.member_item.first_name+" "+e.member_item.last_name,amount:e.item_count})})),l(t),a&&a(e)}))};return Object(_.jsxs)(c.a.Fragment,{children:[Object(_.jsx)(me,{children:"Highest Paying Customers"}),Object(_.jsx)(de.a,{width:"100%",height:"100%",children:Object(_.jsxs)(ue.a,{data:o,margin:{top:5,right:5,left:5,bottom:5},children:[Object(_.jsx)(be.a,{dataKey:"name"}),Object(_.jsx)(he.a,{}),Object(_.jsx)(pe.a,{dataKey:"amount",label:!0,fill:"#8884d8"})]})}),Object(_.jsx)("div",{hidden:n,children:Object(_.jsx)(p.a,{color:"primary",href:"#",onClick:function(e){!function(e){e.preventDefault()}(e),t("members")},children:"See All Member Info"})})]})}var ge=n(492),ve=n(493),ke=n(494),ye=n(495),_e=n(496),we=n(497),Ce=n(250),Se=n(491),Ne=n(91),Be=n.n(Ne),De=n(486),Ie=n(487),Te=n(489),Fe=n(490),He=n(44),Ae=n.n(He),We=Object(y.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}));function Pe(e){var t=e.onClose,n=e.selectedValue,a=e.open,c=We(),i=function(e){var t=[];for(var n in e.data)t.push(Object(_.jsxs)("p",{children:[n," : ",e.data[n]]}));return Object(_.jsx)("div",{className:"Data-item",children:t})},r=function(){t()};return Object(_.jsxs)(De.a,{onClose:r,"aria-labelledby":"simple-dialog-title",className:c.root,open:a,fullWidth:"md",maxWidth:"md",children:[Object(_.jsx)(Ie.a,{id:"simple-dialog-title",children:"All Information"}),Object(_.jsx)(R.a,{"aria-label":"close",className:c.closeButton,onClick:t,children:Object(_.jsx)(Ae.a,{})}),Object(_.jsxs)(Te.a,{dividers:!0,children:[Object(_.jsxs)(k.a,{gutterBottom:!0,children:[Object(_.jsx)("h2",{children:"Book Issue Details"}),Object(_.jsx)(i,{data:null!=n?n.bag_item:{}})]}),Object(_.jsxs)(k.a,{gutterBottom:!0,children:[Object(_.jsx)("h2",{children:"User Details"}),Object(_.jsx)(i,{data:null!=n?n.member_item:{}})]}),Object(_.jsxs)(k.a,{gutterBottom:!0,children:[Object(_.jsx)("h2",{children:"Book Details"}),Object(_.jsx)(i,{data:null!=n?n.book_item:{}})]})]}),Object(_.jsx)(Fe.a,{children:Object(_.jsx)(u.a,{autoFocus:!0,onClick:r,color:"primary",children:"Close"})})]})}var Re=Object(y.a)((function(e){return{root:{display:"flex"},content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},tablecontainer:{maxHeight:500},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:450}}}));function Me(e){return Ee.apply(this,arguments)}function Ee(){return(Ee=Object(j.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("https://librarymanageservice.herokuapp.com/checkin",{method:"POST",headers:{mode:"no-cors","Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Le(e){var t=e.categorySwitch,n=Re(),a=c.a.useState([]),i=Object(s.a)(a,2),r=i[0],o=i[1],d=(Object(T.a)(n.paper,n.fixedHeight),c.a.useState()),u=Object(s.a)(d,2),b=u[0],h=u[1],m=c.a.useState(null),x=Object(s.a)(m,2),O=x[0],f=x[1],g=c.a.useState(null),v=Object(s.a)(g,2),k=(v[0],v[1]),y=c.a.useState(!1),w=Object(s.a)(y,2),C=w[0],S=w[1],N=c.a.useState(null),B=Object(s.a)(N,2),D=B[0],I=B[1];c.a.useEffect((function(){H()}),[]);var F=function(){f(null),k(null),S(!1)},H=function(){fetch("https://librarymanageservice.herokuapp.com/getCheckedBooks").then((function(e){return e.json()})).then((function(e){r.splice(0,r.length);var t=[];e.booklist.forEach((function(e){var n,a,c;e.bag_item.status&&t.push((n=e.book_item,a=e.bag_item,c=e.member_item,{book_item:n,bag_item:a,member_item:c}))})),o(t)}))},A=function(){var e=Object(j.a)(l.a.mark((function e(t,n,a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Me({userId:t,bookId:n,bagId:a});case 2:"success"==e.sent.status&&H();case 4:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}();function W(){return Object(_.jsxs)(Ce.a,{id:"issuebook-menu",anchorEl:O,keepMounted:!0,open:Boolean(O),onClose:F,children:[Object(_.jsx)(Se.a,{onClick:function(){var e;A((e=b).member_item.id,e.book_item.bookID,e.bag_item.bagId),f(null)},children:"Return Book"}),Object(_.jsx)(Se.a,{onClick:function(){I(b),S(!0),k(null)},children:"See All Info"})]})}return Object(_.jsxs)(c.a.Fragment,{children:[Object(_.jsx)(me,{children:"Issued Books "}),Object(_.jsx)(ge.a,{className:n.tablecontainer,children:Object(_.jsxs)(ve.a,{stickyHeader:!0,"aria-label":"sticky table",children:[Object(_.jsx)(ke.a,{children:Object(_.jsxs)(ye.a,{children:[Object(_.jsx)(_e.a,{width:"5%",children:"  "}),Object(_.jsx)(_e.a,{width:"30%",children:" Title "}),Object(_.jsx)(_e.a,{width:"20%",children:" Authors "}),Object(_.jsx)(_e.a,{width:"20%",children:" Member"}),Object(_.jsx)(_e.a,{width:"10%",children:" Status "}),Object(_.jsx)(_e.a,{width:"30%",children:" Issue Date "}),Object(_.jsx)(_e.a,{width:"40%",children:" ReturnDate "}),Object(_.jsx)(_e.a,{width:"15%",children:" ISBN"})]})}),Object(_.jsx)(we.a,{children:r.map((function(e){return Object(_.jsxs)(ye.a,{children:[Object(_.jsxs)(_e.a,{width:"5%",children:[Object(_.jsx)(R.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(t){!function(e,t){h(t),f(e.currentTarget)}(t,e)},children:Object(_.jsx)(Be.a,{})}),Object(_.jsx)(W,{})]}),Object(_.jsx)(_e.a,{width:"30%",children:e.book_item.title}),Object(_.jsx)(_e.a,{width:"20%",children:e.book_item.authors}),Object(_.jsx)(_e.a,{width:"20%",children:e.member_item.first_name+" "+e.member_item.last_name}),Object(_.jsx)(_e.a,{width:"10%",children:1==e.bag_item.status?"Issued":"Returned"}),Object(_.jsx)(_e.a,{width:"30%",children:e.bag_item.checkout_date}),Object(_.jsx)(_e.a,{width:"40%",children:e.bag_item.checkin_date?e.bag_item.checkin_date:"-"}),Object(_.jsx)(_e.a,{width:"10%",children:e.book_item.isbn})]},e.bag_item.bagId)}))})]})}),Object(_.jsx)("div",{className:n.seeMore,children:Object(_.jsx)(p.a,{color:"primary",href:"#",onClick:function(e){!function(e){e.preventDefault()}(e),t("books")},children:"See All Book Details"})}),Object(_.jsx)(Pe,{selectedValue:D,open:C,onClose:F})]})}function Ve(){return Object(_.jsxs)(k.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(_.jsx)(p.a,{color:"inherit",href:"#",children:"Your Website"})," ",(new Date).getFullYear(),"."]})}var Ye=Object(y.a)((function(e){return{content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:350}}}));function Ue(e){var t=e.categorySwitch,n=Ye(),a=Object(T.a)(n.paper,n.fixedHeight);return Object(_.jsxs)(le.a,{maxWidth:"lg",className:n.container,children:[Object(_.jsxs)(O.a,{container:!0,spacing:3,children:[Object(_.jsx)(O.a,{item:!0,xs:12,md:8,lg:8,children:Object(_.jsx)(m.a,{className:a,children:Object(_.jsx)(xe,{categorySwitch:t})})}),Object(_.jsx)(O.a,{item:!0,xs:12,md:4,lg:4,children:Object(_.jsx)(m.a,{className:a,children:Object(_.jsx)(fe,{categorySwitch:t})})}),Object(_.jsx)(O.a,{item:!0,xs:12,children:Object(_.jsx)(m.a,{className:n.paper,children:Object(_.jsx)(Le,{categorySwitch:t})})})]}),Object(_.jsx)(x.a,{pt:4,children:Object(_.jsx)(Ve,{})})]})}var Je=n(510),Ge=Object(y.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}));function ze(e){var t,n=e.onClose,a=e.selectedValue,c=e.open,i=e.onUpdateData,r=Ge(),s=function(e){var t=[];for(var n in e.data)"bookID"!=n&&t.push(Object(_.jsx)(h.a,{autoFocus:!0,margin:"dense",id:n,label:n.replace("_"," "),fullWidth:!0,defaultValue:e.data[n],onChange:function(e){return o(e)}}));return Object(_.jsx)("div",{className:"Data-item",children:t})},o=function(e){null==t&&(t=a.book_item),t[e.target.id]=e.target.value},l=function(){n()};return Object(_.jsxs)(De.a,{onClose:l,"aria-labelledby":"simple-dialog-title",className:r.root,open:c,fullWidth:"md",maxWidth:"md",children:[Object(_.jsx)(Ie.a,{id:"simple-dialog-title",children:"Update Book Info"}),Object(_.jsx)(R.a,{"aria-label":"close",className:r.closeButton,onClick:l,children:Object(_.jsx)(Ae.a,{})}),Object(_.jsx)(Te.a,{dividers:!0,children:Object(_.jsx)(k.a,{gutterBottom:!0,children:Object(_.jsx)(s,{data:null!=a?a.book_item:{}})})}),Object(_.jsxs)(Fe.a,{children:[Object(_.jsx)(u.a,{autoFocus:!0,onClick:l,color:"primary",children:"Close"}),Object(_.jsx)(u.a,{autoFocus:!0,onClick:function(){t&&i(t),n()},color:"primary",children:"Update"})]})]})}var qe=Object(y.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},paper:{padding:e.spacing(1),display:"flex",overflow:"auto",flexDirection:"column"}}}));function Ke(e){var t=e.onClose,n=e.selectedValue,a=e.open,i=e.onCheckoutData,r=e.memberList,o=c.a.useState(null),l=Object(s.a)(o,2),j=l[0],d=l[1],b=qe(),p=function(e){var t=[];for(var n in e.data)t.push(Object(_.jsxs)("p",{children:[n," : ",e.data[n]]}));return Object(_.jsx)("div",{className:"Data-item",children:t})},x=function(e){var t=[];for(var n in e.data)t.push(Object(_.jsxs)("p",{children:[n," : ",e.data[n]]}));return Object(_.jsx)("div",{className:"Data-item",children:t})},f=function(){t()};return c.a.useEffect((function(){d(r[0])}),[]),Object(_.jsxs)(De.a,{onClose:f,"aria-labelledby":"simple-dialog-title",className:b.root,open:a,fullWidth:"md",maxWidth:"md",children:[Object(_.jsx)(Ie.a,{id:"simple-dialog-title",children:"Issue Book"}),Object(_.jsx)(R.a,{"aria-label":"close",className:b.closeButton,onClick:f,children:Object(_.jsx)(Ae.a,{})}),Object(_.jsx)(Te.a,{dividers:!0,children:Object(_.jsxs)(O.a,{container:!0,spacing:3,children:[Object(_.jsxs)(O.a,{item:!0,xs:12,md:4,lg:6,children:[Object(_.jsx)(m.a,{className:b.paper,elevation:3,children:null!=n&&null!=n.inventory_item&&n.inventory_item.checkout_count<n.inventory_item.count?Object(_.jsx)("div",{children:Object(_.jsx)(h.a,{id:"member-list",select:!0,label:"Select Member",value:j,onChange:function(e){d(e.target.value)},helperText:"Please select member",children:r.map((function(e){return Object(_.jsx)(Se.a,{value:e,children:e.first_name+" "+e.last_name},e.id)}))})}):Object(_.jsx)("div",{children:"Copy Not Available"})}),Object(_.jsxs)(m.a,{className:b.paper,elevation:3,style:{marginTop:"20px"},children:[Object(_.jsx)("h3",{children:"Member Details"}),Object(_.jsx)(x,{data:null!=j?j:{},children:"  "})]})]}),Object(_.jsx)(O.a,{item:!0,xs:12,md:4,lg:6,children:Object(_.jsxs)(m.a,{className:b.paper,elevation:3,children:[Object(_.jsx)("h3",{children:"Books Details"}),Object(_.jsx)(p,{data:null!=n?n.book_item:{}})]})})]})}),Object(_.jsxs)(Fe.a,{children:[Object(_.jsx)(u.a,{autoFocus:!0,onClick:f,color:"primary",children:"Close"}),Object(_.jsx)(u.a,{autoFocus:!0,onClick:function(){var e=[];e.book_item=n.book_item,e.selected_member=j,i(e),f()},color:"primary",disabled:null==j,children:"Issue Book"})]})]})}function Xe(){return Object(_.jsxs)(k.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(_.jsx)(p.a,{color:"inherit",href:"#",children:"Your Website"})," ",(new Date).getFullYear(),"."]})}function Qe(e){return Ze.apply(this,arguments)}function Ze(){return(Ze=Object(j.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://librarymanageservice.herokuapp.com/deleteBook?bookId="+t,e.abrupt("return",fetch(n).then((function(e){return e.json()})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $e(e){return et.apply(this,arguments)}function et(){return(et=Object(j.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("https://librarymanageservice.herokuapp.com/checkin",{method:"POST",headers:{mode:"no-cors","Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tt(e){return nt.apply(this,arguments)}function nt(){return(nt=Object(j.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("https://librarymanageservice.herokuapp.com/updateBookDetails",{method:"POST",headers:{mode:"no-cors","Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function at(e){return ct.apply(this,arguments)}function ct(){return(ct=Object(j.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("https://librarymanageservice.herokuapp.com/checkout",{method:"POST",headers:{mode:"no-cors","Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var it=Object(y.a)((function(e){return{container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},tablecontainer:{maxHeight:500},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:450}}}));function rt(){var e=it(),t=Object(T.a)(e.paper,e.fixedHeight),n=c.a.useState([]),a=Object(s.a)(n,2),i=a[0],r=a[1],o=c.a.useState([]),d=Object(s.a)(o,2),u=d[0],b=d[1],h=c.a.useState([]),p=Object(s.a)(h,2),f=p[0],g=p[1],v=c.a.useState(),k=Object(s.a)(v,2),y=k[0],w=k[1],C=c.a.useState(),S=Object(s.a)(C,2),N=S[0],B=S[1],D=c.a.useState(null),I=Object(s.a)(D,2),F=I[0],H=I[1],A=c.a.useState(null),W=Object(s.a)(A,2),P=W[0],M=W[1],E=c.a.useState(!1),L=Object(s.a)(E,2),V=L[0],Y=L[1],U=c.a.useState(!1),J=Object(s.a)(U,2),G=J[0],z=J[1],q=c.a.useState(!1),K=Object(s.a)(q,2),X=K[0],Q=K[1],Z=c.a.useState(null),$=Object(s.a)(Z,2),ee=$[0],te=$[1],ne=function(){H(null),M(null),Y(!1),z(!1),Q(!1)};var ae=function(){var e=Object(j.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,at({userId:t,bookId:n});case 2:"success"==e.sent.status&&(je(),oe(),se());case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ce=function(){var e=Object(j.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt({bookId:t,bookDetails:n});case 2:"success"==e.sent.status&&(je(),oe(),se());case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ie=function(){var e=Object(j.a)(l.a.mark((function e(t,n,a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$e({userId:t,bookId:n,bagId:a});case 2:"success"==e.sent.status&&(je(),oe(),se());case 4:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),re=function(){var e=Object(j.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qe(t);case 2:"success"==e.sent.status&&B(!0);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),se=function(){fetch("https://librarymanageservice.herokuapp.com/getCheckedBooks").then((function(e){return e.json()})).then((function(e){i.splice(0,i.length);var t=[];e.booklist.forEach((function(e){var n,a,c;t.push((n=e.book_item,a=e.bag_item,c=e.member_item,{book_item:n,bag_item:a,member_item:c}))})),r(t)}))},oe=function(){fetch("https://librarymanageservice.herokuapp.com/getBooksInventory").then((function(e){return e.json()})).then((function(e){u.splice(0,u.length);var t=[];e.booklist.forEach((function(e){var n,a;t.push((n=e.book_item,a=e.inventory_item,{book_item:n,inventory_item:a}))})),b(t)}))},je=function(){fetch("https://librarymanageservice.herokuapp.com/getMemberList").then((function(e){return e.json()})).then((function(e){f.splice(0,f.length);var t=[];e.memberlist.forEach((function(e){var n,a,c,i,r,s,o,l;t.push((n=e.id,a=e.user_id,c=e.join_date,i=e.first_name,r=e.last_name,s=e.dob,o=e.role,l=e.debt,{id:n,user_id:a,join_date:c,first_name:i,last_name:r,dob:s,role:o,debt:l}))})),g(t)}))};function de(){return Object(_.jsxs)(Ce.a,{id:"issuebook-menu",anchorEl:F,keepMounted:!0,open:Boolean(F),onClose:ne,children:[Object(_.jsx)(Se.a,{onClick:function(){var e;"1"==(e=y).bag_item.status&&ie(e.member_item.id,e.book_item.bookID,e.bag_item.bagId),H(null)},children:"Return Book"}),Object(_.jsx)(Se.a,{onClick:function(){te(y),Y(!0),M(null)},children:"See All Info"})]})}function ue(){return Object(_.jsxs)(Ce.a,{id:"booklist-menu",anchorEl:P,keepMounted:!0,open:Boolean(P),onClose:ne,children:[Object(_.jsx)(Se.a,{onClick:function(){te(y),Q(!0),M(null)},children:"Issue Book"}),Object(_.jsx)(Se.a,{onClick:function(){te(y),z(!0),M(null)},children:"Update Book Info"}),Object(_.jsx)(Se.a,{onClick:function(){re(y.book_item.bookID),M(null)},children:"Delete this Book"})]})}return c.a.useEffect((function(){se()}),[]),c.a.useEffect((function(){oe()}),[]),c.a.useEffect((function(){je()}),[]),Object(_.jsxs)(le.a,{maxWidth:"lg",className:e.container,children:[Object(_.jsxs)(O.a,{container:!0,spacing:3,children:[Object(_.jsx)(O.a,{item:!0,xs:12,md:4,lg:12,children:Object(_.jsxs)(m.a,{className:t,children:[Object(_.jsx)(me,{children:"Checked Books "}),Object(_.jsx)(ge.a,{className:e.tablecontainer,children:Object(_.jsxs)(ve.a,{stickyHeader:!0,"aria-label":"sticky table",children:[Object(_.jsx)(ke.a,{children:Object(_.jsxs)(ye.a,{children:[Object(_.jsx)(_e.a,{width:"5%",children:"  "}),Object(_.jsx)(_e.a,{width:"30%",children:" Title "}),Object(_.jsx)(_e.a,{width:"20%",children:" Authors "}),Object(_.jsx)(_e.a,{width:"20%",children:" Member"}),Object(_.jsx)(_e.a,{width:"10%",children:" Status "}),Object(_.jsx)(_e.a,{width:"30%",children:" Issue Date "}),Object(_.jsx)(_e.a,{width:"40%",children:" ReturnDate "}),Object(_.jsx)(_e.a,{width:"15%",children:" ISBN"})]})}),Object(_.jsx)(we.a,{children:i.map((function(e){return Object(_.jsxs)(ye.a,{children:[Object(_.jsxs)(_e.a,{width:"5%",children:[Object(_.jsx)(R.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(t){!function(e,t){w(t),H(e.currentTarget)}(t,e)},children:Object(_.jsx)(Be.a,{})}),Object(_.jsx)(de,{})]}),Object(_.jsx)(_e.a,{width:"30%",children:e.book_item.title}),Object(_.jsx)(_e.a,{width:"20%",children:e.book_item.authors}),Object(_.jsx)(_e.a,{width:"20%",children:e.member_item.first_name+" "+e.member_item.last_name}),Object(_.jsx)(_e.a,{width:"10%",children:1==e.bag_item.status?"Issued":"Returned"}),Object(_.jsx)(_e.a,{width:"30%",children:e.bag_item.checkout_date}),Object(_.jsx)(_e.a,{width:"40%",children:e.bag_item.checkin_date?e.bag_item.checkin_date:"-"}),Object(_.jsx)(_e.a,{width:"10%",children:e.book_item.isbn})]},e.bag_item.bagId)}))})]})})]})}),Object(_.jsx)(O.a,{item:!0,xs:12,md:8,lg:12,children:Object(_.jsxs)(m.a,{className:t,children:[Object(_.jsx)(me,{children:"All Books "}),Object(_.jsx)(ge.a,{className:e.tablecontainer,children:Object(_.jsxs)(ve.a,{stickyHeader:!0,"aria-label":"sticky table",children:[Object(_.jsx)(ke.a,{children:Object(_.jsxs)(ye.a,{children:[Object(_.jsx)(_e.a,{children:"  "}),Object(_.jsx)(_e.a,{width:"30%",children:" Title "}),Object(_.jsx)(_e.a,{children:" Authors "}),Object(_.jsx)(_e.a,{children:" Publisher "}),Object(_.jsx)(_e.a,{width:"20%",children:" Publication date "}),Object(_.jsx)(_e.a,{width:"15%",children:" No. of books "}),Object(_.jsx)(_e.a,{width:"15%",children:" No. Issued books "}),Object(_.jsx)(_e.a,{width:"5%",children:" ISBN"})]})}),Object(_.jsx)(we.a,{children:u.map((function(e){return Object(_.jsxs)(ye.a,{children:[Object(_.jsxs)(_e.a,{children:[Object(_.jsx)(R.a,{onClick:function(t){!function(e,t){w(t),M(e.currentTarget)}(t,e)},children:Object(_.jsx)(Be.a,{})}),Object(_.jsx)(ue,{})]}),Object(_.jsxs)(_e.a,{children:["  ",e.book_item.title,"  "]}),Object(_.jsx)(_e.a,{children:e.book_item.authors}),Object(_.jsx)(_e.a,{children:e.book_item.publisher}),Object(_.jsx)(_e.a,{children:e.book_item.publication_date}),Object(_.jsx)(_e.a,{children:e.inventory_item.count}),Object(_.jsx)(_e.a,{children:e.inventory_item.checkout_count}),Object(_.jsx)(_e.a,{children:e.book_item.isbn})]},e.book_item.isbn)}))})]})})]})})]}),Object(_.jsx)(Pe,{selectedValue:ee,open:V,onClose:ne}),Object(_.jsx)(ze,{selectedValue:ee,open:G,onClose:ne,onUpdateData:function(e){var t=e.bookID;delete e.bookID,ce(t,e)}}),Object(_.jsx)(Ke,{selectedValue:ee,memberList:f,open:X,onClose:ne,onCheckoutData:function(e){ae(e.selected_member.id,e.book_item.bookID)}}),Object(_.jsx)(x.a,{pt:4,children:Object(_.jsx)(Xe,{})}),Object(_.jsx)(Je.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:N,message:"Book Deleted Successfully",autoHideDuration:1e3},"topcenter")]})}var st=n(499),ot=n(243),lt=n.n(ot),jt=Object(y.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},paper:{padding:e.spacing(1),display:"flex",overflow:"auto",flexDirection:"column"}}}));function dt(e){var t,n=e.onClose,a=e.selectedValue,c=e.open,i=e.onUpdateData,r=jt(),s=function(e){var t=[];for(var n in e.data)"id"!==n&&t.push(Object(_.jsx)(h.a,{autoFocus:!0,margin:"dense",id:n,label:n.replace("_"," "),fullWidth:!0,defaultValue:e.data[n],onChange:function(e){return o(e)}}));return Object(_.jsx)("div",{className:"Data-item",children:t})},o=function(e){null==t&&(t=a),t[e.target.id]=e.target.value},l=function(){n()};return Object(_.jsxs)(De.a,{onClose:l,"aria-labelledby":"simple-dialog-title",className:r.root,open:c,fullWidth:"md",maxWidth:"md",children:[Object(_.jsx)(Ie.a,{id:"simple-dialog-title",children:"Update Book Info"}),Object(_.jsx)(R.a,{"aria-label":"close",className:r.closeButton,onClick:l,children:Object(_.jsx)(Ae.a,{})}),Object(_.jsx)(Te.a,{dividers:!0,children:Object(_.jsx)(k.a,{gutterBottom:!0,children:Object(_.jsx)(s,{data:null!=a?a:{}})})}),Object(_.jsxs)(Fe.a,{children:[Object(_.jsx)(u.a,{autoFocus:!0,onClick:l,color:"primary",children:"Close"}),Object(_.jsx)(u.a,{autoFocus:!0,onClick:function(){t&&i(t),n()},color:"primary",children:"Update"})]})]})}var ut=Object(y.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},paper:{padding:e.spacing(1),display:"flex",overflow:"auto",flexDirection:"column"}}}));function bt(e){var t=e.onClose,n=e.open,a=e.onInsertData,i=c.a.useState({user_id:"",first_name:"",last_name:"",dob:"",psswd:""}),r=Object(s.a)(i,2),o=r[0],l=(r[1],ut()),j=function(e){var t=[];for(var n in e.data)"psswd"!==n&&t.push(Object(_.jsx)(h.a,{autoFocus:!0,margin:"dense",id:n,label:n.replace("_"," "),fullWidth:!0,defaultValue:e.data[n],onChange:function(e){return d(e)}}));return Object(_.jsx)("div",{className:"Data-item",children:t})},d=function(e){o[e.target.id]=e.target.value},b=function(){t()};return Object(_.jsxs)(De.a,{onClose:b,"aria-labelledby":"simple-dialog-title",className:l.root,open:n,fullWidth:"md",maxWidth:"md",children:[Object(_.jsx)(Ie.a,{id:"simple-dialog-title",children:"Add new member"}),Object(_.jsx)(R.a,{"aria-label":"close",className:l.closeButton,onClick:b,children:Object(_.jsx)(Ae.a,{})}),Object(_.jsx)(Te.a,{dividers:!0,children:Object(_.jsx)(k.a,{gutterBottom:!0,children:Object(_.jsx)(j,{data:o})})}),Object(_.jsxs)(Fe.a,{children:[Object(_.jsx)(u.a,{autoFocus:!0,onClick:b,color:"primary",children:"Close"}),Object(_.jsx)(u.a,{autoFocus:!0,onClick:function(){""!==o.user_id&&a(o),t()},color:"primary",children:"Add"})]})]})}function ht(){return Object(_.jsxs)(k.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(_.jsx)(p.a,{color:"inherit",href:"#",children:"Your Website"})," ",(new Date).getFullYear(),"."]})}var pt=Object(y.a)((function(e){return{container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:600},extendedIcon:{marginRight:e.spacing(1)}}}));function mt(e){return xt.apply(this,arguments)}function xt(){return(xt=Object(j.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://librarymanageservice.herokuapp.com/deleteMember?memberId="+t,e.abrupt("return",fetch(n).then((function(e){return e.json()})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ot(e){return ft.apply(this,arguments)}function ft(){return(ft=Object(j.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("https://librarymanageservice.herokuapp.com/signup",{method:"POST",headers:{mode:"no-cors","Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gt(e){return vt.apply(this,arguments)}function vt(){return(vt=Object(j.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("https://librarymanageservice.herokuapp.com/updateMemberDetails",{method:"POST",headers:{mode:"no-cors","Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kt(){var e=pt(),t=Object(T.a)(e.paper,e.fixedHeight),n=c.a.useState([]),a=Object(s.a)(n,2),i=a[0],r=a[1],o=c.a.useState(null),d=Object(s.a)(o,2),u=d[0],b=d[1],h=c.a.useState(),p=Object(s.a)(h,2),f=p[0],g=p[1],v=c.a.useState(null),k=Object(s.a)(v,2),y=k[0],w=k[1],C=c.a.useState(!1),S=Object(s.a)(C,2),N=S[0],B=S[1],D=c.a.useState(!1),I=Object(s.a)(D,2),F=I[0],H=I[1],A=c.a.useState(),W=Object(s.a)(A,2),P=W[0];W[1];c.a.useEffect((function(){fetch("https://librarymanageservice.herokuapp.com/getMemberList").then((function(e){return e.json()})).then((function(e){M(e)}))}),[]);var M=function(e){i.splice(0,i.length);var t=[];e.memberlist.forEach((function(e){var n,a,c,i,r,s,o,l;t.push((n=e.id,a=e.user_id,c=e.join_date,i=e.first_name,r=e.last_name,s=e.dob,o=e.role,l=e.debt,{id:n,user_id:a,join_date:c,first_name:i,last_name:r,dob:s,role:o,debt:l}))})),r(t)},E=function(e,t){b(null),B(!1),H(!1)};var L=function(){var e=Object(j.a)(l.a.mark((function e(t,n){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gt({memberId:t,memberDetails:n});case 2:a=e.sent,M(a);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),V=function(){var e=Object(j.a)(l.a.mark((function e(t,n,a,c,i){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ot({user_id:t,psswd:n,first_name:a,last_name:c,dob:i});case 2:r=e.sent,M(r);case 4:case"end":return e.stop()}}),e)})));return function(t,n,a,c,i){return e.apply(this,arguments)}}(),Y=function(){var e=Object(j.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mt(t);case 2:n=e.sent,M(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function U(){return Object(_.jsxs)(Ce.a,{id:"booklist-menu",anchorEl:u,keepMounted:!0,open:Boolean(u),onClose:E,children:[Object(_.jsx)(Se.a,{onClick:function(){w(f),B(!0),b(null)},children:"Update Member Details"}),Object(_.jsx)(Se.a,{onClick:function(){Y(f.id),b(null)},children:"Delete this member"})]})}return Object(_.jsxs)(le.a,{maxWidth:"lg",className:e.container,children:[Object(_.jsx)(O.a,{container:!0,spacing:3,children:Object(_.jsx)(O.a,{item:!0,xs:12,md:4,lg:12,children:Object(_.jsxs)(m.a,{className:t,children:[Object(_.jsx)(me,{children:"All Library Members "}),Object(_.jsx)(ge.a,{className:e.tablecontainer,children:Object(_.jsxs)(ve.a,{stickyHeader:!0,"aria-label":"sticky table",children:[Object(_.jsx)(ke.a,{children:Object(_.jsxs)(ye.a,{children:[Object(_.jsx)(_e.a,{children:Object(_.jsx)(st.a,{color:"secondary","aria-label":"add",onClick:function(e){H(!0)},children:Object(_.jsx)(lt.a,{})})}),Object(_.jsx)(_e.a,{children:"User Id"}),Object(_.jsx)(_e.a,{children:"First name"}),Object(_.jsx)(_e.a,{children:"Last Name"}),Object(_.jsx)(_e.a,{children:"DOB"}),Object(_.jsx)(_e.a,{children:"Role"}),Object(_.jsx)(_e.a,{children:"Debt"}),Object(_.jsx)(_e.a,{children:"DOJ"})]})}),Object(_.jsx)(we.a,{children:i.map((function(e){return Object(_.jsxs)(ye.a,{children:[Object(_.jsxs)(_e.a,{children:[Object(_.jsx)(R.a,{onClick:function(t){!function(e,t){g(t),b(e.currentTarget)}(t,e)},children:Object(_.jsx)(Be.a,{})}),Object(_.jsx)(U,{})]}),Object(_.jsxs)(_e.a,{children:["  ",e.user_id,"  "]}),Object(_.jsx)(_e.a,{children:e.first_name}),Object(_.jsx)(_e.a,{children:e.last_name}),Object(_.jsx)(_e.a,{children:e.dob}),Object(_.jsx)(_e.a,{children:e.role}),Object(_.jsx)(_e.a,{children:e.debt}),Object(_.jsx)(_e.a,{children:e.join_date})]},e.id)}))})]})})]})})}),Object(_.jsx)(dt,{selectedValue:y,open:N,onClose:E,onUpdateData:function(e){var t=e.id;delete e.id,L(t,e)}}),Object(_.jsx)(bt,{open:F,onClose:E,onInsertData:function(e){V(e.user_id,e.psswd,e.first_name,e.last_name,e.dob)}}),Object(_.jsx)(x.a,{pt:4,children:Object(_.jsx)(ht,{})}),Object(_.jsx)(Je.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:P,message:"Book Deleted Successfully",autoHideDuration:1e3},"topcenter")]})}var yt=n(500),_t=n(501),wt=n(502),Ct=Object(y.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}));function St(e){var t=e.onClose,n=e.selectedValue,a=e.open,c=Ct(),i=function(e){var t=[];for(var n in e.data)"count"!=n&&t.push(Object(_.jsxs)("p",{children:[n," : ",e.data[n]]}));return Object(_.jsx)("div",{className:"Data-item",children:t})},r=function(){t()};return Object(_.jsxs)(De.a,{onClose:r,"aria-labelledby":"simple-dialog-title",className:c.root,open:a,fullWidth:"md",maxWidth:"md",children:[Object(_.jsx)(Ie.a,{id:"simple-dialog-title",children:"Book Information"}),Object(_.jsx)(R.a,{"aria-label":"close",className:c.closeButton,onClick:t,children:Object(_.jsx)(Ae.a,{})}),Object(_.jsx)(Te.a,{dividers:!0,children:Object(_.jsx)(k.a,{gutterBottom:!0,children:Object(_.jsx)(i,{data:null!=n?n:{}})})}),Object(_.jsx)(Fe.a,{children:Object(_.jsx)(u.a,{autoFocus:!0,onClick:r,color:"primary",children:"Close"})})]})}var Nt=Object(y.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},paper:{padding:e.spacing(1),display:"flex",overflow:"auto",flexDirection:"column"}}}));function Bt(e){var t=e.onClose,n=e.selectedValue,a=e.open,i=e.onCheckoutData,r=c.a.useState(null),o=Object(s.a)(r,2),l=o[0],j=o[1],d=Nt(),b=function(e){var t=[];for(var n in e.data)"count"!==n&&"inventory_count"!==n&&t.push(Object(_.jsxs)("p",{children:[n," : ",e.data[n]]}));return Object(_.jsx)("div",{className:"Data-item",children:t})},p=function(){t()};return Object(_.jsxs)(De.a,{onClose:p,"aria-labelledby":"simple-dialog-title",className:d.root,open:a,fullWidth:"md",maxWidth:"md",children:[Object(_.jsx)(Ie.a,{id:"simple-dialog-title",children:"Import Book"}),Object(_.jsx)(R.a,{"aria-label":"close",className:d.closeButton,onClick:p,children:Object(_.jsx)(Ae.a,{})}),Object(_.jsx)(Te.a,{dividers:!0,children:Object(_.jsxs)(O.a,{container:!0,spacing:3,children:[Object(_.jsx)(O.a,{item:!0,xs:12,md:4,lg:6,children:Object(_.jsxs)(m.a,{className:d.paper,elevation:3,children:[Object(_.jsx)("h3",{children:"Inventory Details"}),Object(_.jsxs)("p",{children:[" Book Count in Inventory : ",null!=n?n.inventory_count:0]}),Object(_.jsx)("p",{children:" Enter Count to import to Inventory : "}),Object(_.jsx)(h.a,{id:"member-list",label:" ",type:"number",InputLabelProps:{shrink:!0},onChange:function(e){j(e.target.value)},helperText:"Please enter import count"})]})}),Object(_.jsx)(O.a,{item:!0,xs:12,md:4,lg:6,children:Object(_.jsxs)(m.a,{className:d.paper,elevation:3,children:[Object(_.jsx)("h3",{children:"Books Details"}),Object(_.jsx)(b,{data:null!=n?n:{}})]})})]})}),Object(_.jsxs)(Fe.a,{children:[Object(_.jsx)(u.a,{autoFocus:!0,onClick:p,color:"primary",children:"Close"}),Object(_.jsx)(u.a,{autoFocus:!0,onClick:function(){var e=n;e.import_count=l,i(e),p()},color:"primary",disabled:!l,children:"Import Book"})]})]})}function Dt(){return Object(_.jsxs)(k.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(_.jsx)(p.a,{color:"inherit",href:"#",children:"Your Website"})," ",(new Date).getFullYear(),"."]})}var It=Object(y.a)((function(e){return{container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:450},searchFixedHeight:{height:200},extendedIcon:{marginRight:e.spacing(1)},formgrid:{"& .MuiTextField-root":{margin:e.spacing(1),width:"25ch"},"& .Button-root":{margin:e.spacing(1),width:"25ch"}}}}));function Tt(e){return Ft.apply(this,arguments)}function Ft(){return(Ft=Object(j.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("https://librarymanageservice.herokuapp.com/addBooksToSystem",{method:"POST",headers:{mode:"no-cors","Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ht(){var e=It(),t=Object(T.a)(e.paper,e.searchFixedHeight),n=Object(T.a)(e.paper,e.fixedHeightPaper),a=c.a.useState([]),i=Object(s.a)(a,2),r=i[0],o=i[1],d=c.a.useState(null),b=Object(s.a)(d,2),p=b[0],f=b[1],g=c.a.useState(!1),v=Object(s.a)(g,2),k=v[0],y=v[1],w=c.a.useState(!1),C=Object(s.a)(w,2),S=C[0],N=C[1],B=c.a.useState({}),D=Object(s.a)(B,2),I=D[0],F=(D[1],function(){var e=Object(j.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n in t="?",I)t+=n+"="+I[n],t+="&&";console.log(t),fetch("https://librarymanageservice.herokuapp.com/getApiBookList"+t).then((function(e){return e.json()})).then((function(e){console.log(e),r.splice(0,r.length),o(e)}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),H=function(){y(!1),N(!1)},A=function(){var e=Object(j.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tt({import_book:t});case 2:"success"==e.sent.status&&F();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=function(e){var t=e.target.id.replace("-input","");""==e.target.value?delete I[t]:I[t]=e.target.value,console.log(I)};return Object(_.jsxs)(le.a,{maxWidth:"lg",className:e.container,children:[Object(_.jsxs)(O.a,{container:!0,spacing:3,children:[Object(_.jsx)(O.a,{item:!0,xs:12,md:4,lg:12,children:Object(_.jsxs)(m.a,{className:t,children:[Object(_.jsx)(me,{children:"Import Books from Frappe "}),Object(_.jsxs)("div",{className:e.formgrid,children:[Object(_.jsx)(h.a,{id:"title-input",label:"Title",type:"text",onChange:W}),Object(_.jsx)(h.a,{id:"authors-input",label:"Author",type:"text",onChange:W}),Object(_.jsx)(h.a,{id:"publisher-input",label:"Publisher",type:"text",onChange:W}),Object(_.jsx)(h.a,{id:"isbn-input",label:"isbn",type:"numer",onChange:W}),Object(_.jsx)(h.a,{id:"page-input",label:"Page",type:"number",onChange:W})]}),Object(_.jsx)(u.a,{variant:"contained",color:"primary",style:{width:"20%",marginTop:"20px"},onClick:F,children:"Search"})]})}),Object(_.jsx)(O.a,{item:!0,xs:12,md:4,lg:12,children:Object(_.jsxs)(m.a,{className:n,children:[Object(_.jsx)(me,{children:"Books from Frappe"}),Object(_.jsx)(ge.a,{disableElevation:!0,className:e.tablecontainer,children:Object(_.jsxs)(ve.a,{stickyHeader:!0,"aria-label":"sticky table",children:[Object(_.jsx)(ke.a,{children:Object(_.jsxs)(ye.a,{children:[Object(_.jsx)(_e.a,{children:"  "}),Object(_.jsx)(_e.a,{width:"30%",children:" Title "}),Object(_.jsx)(_e.a,{children:" Authors "}),Object(_.jsx)(_e.a,{children:" Publisher "}),Object(_.jsx)(_e.a,{width:"20%",children:" Publication date "}),Object(_.jsx)(_e.a,{width:"15%",children:" Inventory Count "}),Object(_.jsx)(_e.a,{width:"5%",children:" ISBN "})]})}),Object(_.jsx)(we.a,{children:r.map((function(e){return Object(_.jsxs)(ye.a,{children:[Object(_.jsx)(_e.a,{children:Object(_.jsxs)(yt.a,{disableElevation:!0,"aria-label":"outlined primary button group",children:[Object(_.jsx)(R.a,{onClick:function(t){!function(e,t){f(t),y(!0)}(0,e)},children:Object(_.jsx)(_t.a,{})}),Object(_.jsx)(R.a,{onClick:function(t){!function(e,t){f(t),N(!0)}(0,e)},children:Object(_.jsx)(wt.a,{})})]})}),Object(_.jsxs)(_e.a,{children:[e.title," "]}),Object(_.jsx)(_e.a,{children:e.authors}),Object(_.jsx)(_e.a,{children:e.publisher}),Object(_.jsx)(_e.a,{children:e.publication_date}),Object(_.jsx)(_e.a,{children:e.inventory_count}),Object(_.jsx)(_e.a,{children:e.isbn})]},e.bookID)}))})]})})]})})]}),Object(_.jsx)(St,{selectedValue:p,open:k,onClose:H}),Object(_.jsx)(Bt,{selectedValue:p,open:S,onClose:H,onCheckoutData:A}),Object(_.jsx)(x.a,{pt:4,children:Object(_.jsx)(Dt,{})})]})}var At=n(475),Wt=n(476),Pt=n(509);function Rt(){return Object(_.jsxs)(k.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(_.jsx)(p.a,{color:"inherit",href:"#",children:"Your Website"})," ",(new Date).getFullYear(),"."]})}var Mt=Object(y.a)((function(e){return{container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:400},searchFixedHeight:{height:200}}}));function Et(){var e=Mt(),t=c.a.useState(""),n=Object(s.a)(t,2),a=n[0],i=n[1],r=c.a.useState(""),o=Object(s.a)(r,2),l=o[0],j=o[1],d=c.a.useState([]),b=Object(s.a)(d,2),h=b[0],p=b[1],f=c.a.useState([]),g=Object(s.a)(f,2),v=g[0],k=g[1],y=Object(T.a)(e.paper,e.searchFixedHeight),w=Object(T.a)(e.paper,e.fixedHeight);return Object(_.jsxs)(le.a,{maxWidth:"lg",className:e.container,children:[Object(_.jsxs)(O.a,{container:!0,spacing:3,children:[Object(_.jsx)(O.a,{item:!0,xs:12,md:4,lg:12,children:Object(_.jsxs)(m.a,{className:y,children:[Object(_.jsx)(me,{children:"Select Report to view "}),Object(_.jsxs)(At.a,{variant:"outlined",className:e.formControl,children:[Object(_.jsx)(Wt.a,{id:"demo-simple-select-outlined-label",children:"Report"}),Object(_.jsxs)(Pt.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:a,onChange:function(e){i(e.target.value),j(e.target.value)},label:"Age",children:[Object(_.jsxs)(Se.a,{value:"",children:[" ",Object(_.jsx)("em",{children:"None"})," "]}),Object(_.jsx)(Se.a,{value:"book",children:"Top Issued Books "}),Object(_.jsx)(Se.a,{value:"member",children:"Highest Paying Customers"})]})]}),Object(_.jsx)(u.a,{variant:"contained",color:"primary",style:{width:"20%",marginTop:"20px"},disabled:""==l,onClick:function(){var e="data:text/csv;charset=utf-8,";"member"==l?(e+="Amount Spend,First Name,Last name,Type\n",h.map((function(t){e+=t.item_count+",",e+=t.member_item.first_name+",",e+=t.member_item.last_name+",",e+=t.member_item.role+"\n"}))):(e+="Title,Author,Publish,Issue Count,Available,Total\n",v.map((function(t){e+=t.book_item.title+",",e+=t.book_item.authors+",",e+=t.book_item.publisher+",",e+=t.item_count+",",e+=t.inventory_count-t.checkout_count+",",e+=t.inventory_count+"\n"})));var t=encodeURI(e),n=document.createElement("a");n.setAttribute("href",t),n.setAttribute("download","member"==l?"HighestPayingCustomers.csv":"TopIssuedBooks.csv"),document.body.appendChild(n),n.click()},children:"Download Report"})]})}),""!=a?Object(_.jsx)(O.a,{item:!0,xs:12,md:4,lg:4,children:Object(_.jsx)(m.a,{className:w,children:"book"==l?Object(_.jsx)(xe,{hideLink:!0,bookDataReady:function(e){k(e.rank_list)}}):"member"==l?Object(_.jsx)(fe,{hideLink:!0,custDataReady:function(e){p(e.rank_list)}}):Object(_.jsx)("p",{})})}):Object(_.jsx)("div",{}),""!=a?Object(_.jsx)(O.a,{item:!0,xs:12,md:4,lg:8,children:Object(_.jsx)(m.a,{className:w,children:Object(_.jsx)(ge.a,{className:e.tablecontainer,children:Object(_.jsxs)(ve.a,{stickyHeader:!0,"aria-label":"sticky table",children:[Object(_.jsx)(ke.a,{children:"member"==l?Object(_.jsxs)(ye.a,{children:[Object(_.jsx)(_e.a,{children:" Amount Spend "}),Object(_.jsx)(_e.a,{children:" First Name "}),Object(_.jsx)(_e.a,{children:" last name "}),Object(_.jsx)(_e.a,{children:" Type "})]}):"book"==l?Object(_.jsxs)(ye.a,{children:[Object(_.jsx)(_e.a,{children:"Title"}),Object(_.jsx)(_e.a,{children:" Author "}),Object(_.jsx)(_e.a,{children:" Publish "}),Object(_.jsx)(_e.a,{children:" Issue Count "}),Object(_.jsx)(_e.a,{children:" Available "}),Object(_.jsx)(_e.a,{children:" Total "})]}):Object(_.jsx)("div",{})}),Object(_.jsx)(we.a,{children:"member"==l?h.slice(0).reverse().map((function(e){return Object(_.jsxs)(ye.a,{children:[Object(_.jsx)(_e.a,{children:e.item_count}),Object(_.jsx)(_e.a,{children:e.member_item.first_name}),Object(_.jsx)(_e.a,{children:e.member_item.last_name}),Object(_.jsx)(_e.a,{children:e.member_item.role})]},e.member_item.id)})):"book"==l?v.slice(0).reverse().map((function(e){return Object(_.jsxs)(ye.a,{children:[Object(_.jsx)(_e.a,{children:e.book_item.title}),Object(_.jsx)(_e.a,{children:e.book_item.authors}),Object(_.jsx)(_e.a,{children:e.book_item.publisher}),Object(_.jsx)(_e.a,{children:e.item_count}),Object(_.jsx)(_e.a,{children:e.inventory_count-e.checkout_count}),Object(_.jsx)(_e.a,{children:e.inventory_count})]},e.book_item.bookID)})):Object(_.jsx)("div",{})})]})})})}):Object(_.jsx)("div",{})]}),Object(_.jsx)(x.a,{pt:4,children:Object(_.jsx)(Rt,{})})]})}function Lt(){return Object(_.jsxs)(k.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(_.jsx)(p.a,{color:"inherit",href:"https://material-ui.com/",children:"Your Website"})," ",(new Date).getFullYear(),"."]})}var Vt=Object(y.a)((function(e){return{container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:600},extendedIcon:{marginRight:e.spacing(1)}}}));function Yt(){var e=Vt(),t=Object(T.a)(e.paper,e.fixedHeight),n=c.a.useState([]),a=Object(s.a)(n,2),i=a[0],r=a[1];c.a.useEffect((function(){fetch("https://librarymanageservice.herokuapp.com/getBooksInventory").then((function(e){return e.json()})).then((function(e){o(e)}))}),[]);var o=function(e){i.splice(0,i.length),r(e.booklist)};return Object(_.jsxs)(le.a,{maxWidth:"lg",className:e.container,children:[Object(_.jsx)(O.a,{container:!0,spacing:3,children:Object(_.jsx)(O.a,{item:!0,xs:12,md:4,lg:12,children:Object(_.jsxs)(m.a,{className:t,children:[Object(_.jsx)(me,{children:"All Library Books "}),Object(_.jsx)(ge.a,{className:e.tablecontainer,children:Object(_.jsxs)(ve.a,{stickyHeader:!0,"aria-label":"sticky table",children:[Object(_.jsx)(ke.a,{children:Object(_.jsxs)(ye.a,{children:[Object(_.jsx)(_e.a,{children:"  Book ID "}),Object(_.jsx)(_e.a,{children:" Title "}),Object(_.jsx)(_e.a,{children:" Authors  "}),Object(_.jsx)(_e.a,{children:" Publisher "}),Object(_.jsx)(_e.a,{children:"  Publication date "}),Object(_.jsx)(_e.a,{children:"  Num pages  "}),Object(_.jsx)(_e.a,{children:"  Average rating  "}),Object(_.jsx)(_e.a,{children:"  Ratings count  "}),Object(_.jsx)(_e.a,{children:"  Text Reviews Count  "}),Object(_.jsx)(_e.a,{children:" Language code  "}),Object(_.jsx)(_e.a,{children:"  isbn "}),Object(_.jsx)(_e.a,{children:" isbn13 "})]})}),Object(_.jsx)(we.a,{children:i.map((function(e){return Object(_.jsxs)(ye.a,{children:[Object(_.jsxs)(_e.a,{children:["  ",e.book_item.bookID,"  "]}),Object(_.jsxs)(_e.a,{children:["  ",e.book_item.title,"  "]}),Object(_.jsxs)(_e.a,{children:["  ",e.book_item.authors,"  "]}),Object(_.jsxs)(_e.a,{children:["  ",e.book_item.publisher,"  "]}),Object(_.jsxs)(_e.a,{children:["  ",e.book_item.publication_date,"  "]}),Object(_.jsxs)(_e.a,{children:["  ",e.book_item.num_pages,"  "]}),Object(_.jsxs)(_e.a,{children:["  ",e.book_item.average_rating,"  "]}),Object(_.jsxs)(_e.a,{children:["  ",e.book_item.ratings_count,"  "]}),Object(_.jsxs)(_e.a,{children:["  ",e.book_item.text_reviews_count,"  "]}),Object(_.jsxs)(_e.a,{children:["  ",e.book_item.language_code,"  "]}),Object(_.jsxs)(_e.a,{children:["  ",e.book_item.isbn,"  "]}),Object(_.jsxs)(_e.a,{children:["  ",e.book_item.isbn13,"  "]})]},e.book_item.bookID)}))})]})})]})})}),Object(_.jsxs)(x.a,{pt:4,children:[" ",Object(_.jsx)(Lt,{})," "]})]})}var Ut=Object(y.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(I.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(D.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",background:"#eff3f2"},fixedHeight:{height:240}}}));function Jt(e){var t=e.user_token,n=Ut(),a=c.a.useState(!1),i=Object(s.a)(a,2),r=i[0],o=i[1],l=c.a.useState("dashboard"),j=Object(s.a)(l,2),d=j[0],u=j[1];Object(T.a)(n.paper,n.fixedHeight);return Object(_.jsxs)("div",{className:n.root,children:[Object(_.jsx)(b.a,{}),Object(_.jsx)(H.a,{position:"absolute",className:Object(T.a)(n.appBar,r&&n.appBarShift),children:Object(_.jsxs)(A.a,{className:n.toolbar,children:[Object(_.jsx)(R.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:function(){"admin"==t.user_details.role&&o(!0)},className:Object(T.a)(n.menuButton,r&&n.menuButtonHidden),children:Object(_.jsx)(L.a,{})}),Object(_.jsx)(k.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:n.title,children:"Library"}),Object(_.jsx)(R.a,{color:"inherit",children:Object(_.jsx)(M.a,{badgeContent:4,color:"secondary",children:Object(_.jsx)(J.a,{})})})]})}),Object(_.jsxs)(F.a,{variant:"permanent",classes:{paper:Object(T.a)(n.drawerPaper,!r&&n.drawerPaperClose)},open:r,hidden:"admin"!=t.user_details.role,children:[Object(_.jsx)("div",{className:n.toolbarIcon,children:Object(_.jsx)(R.a,{onClick:function(){o(!1)},children:Object(_.jsx)(Y.a,{})})}),Object(_.jsx)(P.a,{}),Object(_.jsx)(W.a,{onClick:function(e){e.target.innerText?u(e.target.innerText.toLowerCase()):e.target.getAttribute("name")?u(e.target.getAttribute("name").toLowerCase()):"svg"==e.target.tagName?u(e.target.parentNode.getAttribute("name").toLowerCase()):"path"==e.target.tagName&&u(e.target.parentNode.parentNode.getAttribute("name").toLowerCase())},children:oe}),Object(_.jsx)(P.a,{})]}),Object(_.jsxs)("main",{className:n.content,children:[Object(_.jsx)("div",{className:n.appBarSpacer}),"admin"!=t.user_details.role?Object(_.jsx)(Yt,{}):"books"==d?Object(_.jsx)(rt,{}):"members"==d?Object(_.jsx)(kt,{}):"reports"==d?Object(_.jsx)(Et,{}):"importbooks"==d?Object(_.jsx)(Ht,{}):Object(_.jsx)(Ue,{categorySwitch:function(e){u(e)}})]})]})}var Gt=n(247),zt=n(32);var qt=function(){var e=Object(a.useState)(),t=Object(s.a)(e,2),n=t[0],c=t[1];return n?Object(_.jsx)("div",{className:"wrapper",children:Object(_.jsx)(Gt.a,{children:Object(_.jsxs)(zt.a,{exact:!0,path:"/",component:Jt,children:[Object(_.jsx)(Jt,{user_token:n})," "]})})}):Object(_.jsx)(B,{setToken:c})},Kt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,517)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),i(e),r(e)}))};r.a.render(Object(_.jsx)(c.a.StrictMode,{children:Object(_.jsx)(qt,{})}),document.getElementById("root")),Kt()}},[[423,1,2]]]);
//# sourceMappingURL=main.6d430107.chunk.js.map