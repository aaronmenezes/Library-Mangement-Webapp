(this["webpackJsonpbook-library"]=this["webpackJsonpbook-library"]||[]).push([[0],{284:function(e,t,n){},285:function(e,t,n){},427:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),i=n(24),r=n.n(i),s=(n(284),n(8)),o=(n.p,n(285),n(14)),l=n.n(o),j=n(28),d=n(520),u=n(430),b=n(477),h=n(518),p=n(474),x=n(255),m=n(512),O=n(476),f=n(429),g=n(222),v=n.n(g),k=n(109),y=n(475),_=n(1);function w(e){e.preventDefault()}function C(){return Object(_.jsxs)(k.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(_.jsx)(p.a,{color:"inherit",href:"#",onClick:w,children:"Your Website"})," ",(new Date).getFullYear(),"."]})}var S=Object(y.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(https://images.unsplash.com/photo-1481627834876-b7833e8f5570?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1682&q=80)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function N(e){return D.apply(this,arguments)}function D(){return(D=Object(j.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("https://librarymanageservice.herokuapp.com/signin",{method:"POST",headers:{mode:"no-cors","Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(e){var t=e.setToken,n=S(),i=Object(a.useState)(),r=Object(s.a)(i,2),o=r[0],p=r[1],g=Object(a.useState)(),y=Object(s.a)(g,2),w=y[0],D=y[1],B=c.a.useState(!1),I=Object(s.a)(B,2),T=I[0],F=I[1],H=function(){var e=Object(j.a)(l.a.mark((function e(n){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,N({userId:o,psswd:w});case 3:a=e.sent,console.log(a),"success"==a.login?t(a):F(!0);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(_.jsxs)(O.a,{container:!0,component:"main",className:n.root,children:[Object(_.jsx)(b.a,{}),Object(_.jsx)(O.a,{item:!0,xs:!1,sm:4,md:7,className:n.image}),Object(_.jsx)(O.a,{item:!0,xs:12,sm:8,md:5,component:x.a,elevation:6,square:!0,children:Object(_.jsxs)("div",{className:n.paper,children:[Object(_.jsx)(d.a,{className:n.avatar,children:Object(_.jsx)(v.a,{})}),Object(_.jsx)(k.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(_.jsxs)("form",{className:n.form,noValidate:!0,onSubmit:H,children:[Object(_.jsx)(h.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"User Id",name:"user_id",autoFocus:!0,onChange:function(e){return p(e.target.value)}}),Object(_.jsx)(h.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){return D(e.target.value)}}),T?Object(_.jsx)(f.a,{children:"Invalid username or password"}):null,Object(_.jsx)(u.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:n.submit,children:"Sign In"}),Object(_.jsx)(m.a,{mt:5,children:Object(_.jsx)(C,{})})]})]})})]})}var I=n(143),T=n(223),F=n(4),H=n(519),A=n(509),P=n(510),W=n(483),R=n(511),E=n(433),M=n(248),L=n.n(M),V=n(247),Y=n.n(V),U=n(249),J=n.n(U),q=n(431),G=n(484),z=n(485),K=n(486),Q=n(224),X=n.n(Q),Z=n(225),$=n.n(Z),ee=n(226),te=n.n(ee),ne=n(227),ae=n.n(ne),ce=n(228),ie=n.n(ce),re=n(151),se=n.n(re),oe=Object(_.jsxs)("div",{children:[Object(_.jsxs)(q.a,{button:!0,name:"Dashboard",children:[Object(_.jsx)(G.a,{name:"Dashboard",children:Object(_.jsx)(X.a,{})}),Object(_.jsx)(z.a,{primary:"Dashboard"})]}),Object(_.jsxs)(q.a,{button:!0,name:"Books",children:[Object(_.jsx)(G.a,{name:"Books",children:Object(_.jsx)($.a,{})}),Object(_.jsx)(z.a,{primary:"Books"})]}),Object(_.jsxs)(q.a,{button:!0,name:"Members",children:[Object(_.jsx)(G.a,{name:"Members",children:Object(_.jsx)(te.a,{})}),Object(_.jsx)(z.a,{primary:"Members"})]}),Object(_.jsxs)(q.a,{button:!0,name:"Reports",children:[Object(_.jsx)(G.a,{name:"Reports",children:Object(_.jsx)(ae.a,{})}),Object(_.jsx)(z.a,{primary:"Reports"})]}),Object(_.jsxs)(q.a,{button:!0,name:"ImportBooks",children:[Object(_.jsx)(G.a,{name:"ImportBooks",children:Object(_.jsx)(ie.a,{})}),Object(_.jsx)(z.a,{primary:"ImportBooks"})]})]}),le=(K.a,q.a,G.a,se.a,z.a,q.a,G.a,se.a,z.a,q.a,G.a,se.a,z.a,n(502)),je=n(47),de=n(487),ue=n(522),be=n(244),he=n(124),pe=n(252);function xe(e){return Object(_.jsx)(k.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0,children:e.children})}function me(e){var t=e.categorySwitch,n=e.hideLink,a=e.bookDataReady,i=(Object(je.a)(),c.a.useState([])),r=Object(s.a)(i,2),o=r[0],l=r[1];c.a.useEffect((function(){j()}),[]);var j=function(){fetch("https://librarymanageservice.herokuapp.com/getTopBooks").then((function(e){return e.json()})).then((function(e){var t=[];o.splice(0,o.length),e.rank_list.slice(0).reverse().map((function(e){t.push({name:e.book_item.title,issued:e.item_count,inventory_count:e.inventory_count,checkout_count:e.checkout_count})})),l(t.slice(0,10)),a&&a(e)}))},d=function(e){var t=e.active,n=e.payload,a=e.label;return t&&n&&n.length?Object(_.jsxs)("div",{className:"custom-tooltip",style:{padding:"5px",background:"#ffffff",border:"1px solid #D3D7D8"},children:[Object(_.jsx)("p",{className:"label",children:"".concat(a," ")}),Object(_.jsx)("p",{className:"label",children:"Issued: ".concat(n[0].payload.issued," ")}),Object(_.jsx)("p",{className:"label",children:"Available: ".concat(n[0].payload.inventory_count-n[0].payload.checkout_count)}),Object(_.jsx)("p",{className:"label",children:"TotalCount: ".concat(n[0].payload.inventory_count)})]}):null};return Object(_.jsxs)(c.a.Fragment,{children:[Object(_.jsx)(xe,{children:"Top Issued Books"}),Object(_.jsx)(de.a,{width:"100%",height:"100%",children:Object(_.jsxs)(ue.a,{data:o,margin:{top:5,right:5,left:5,bottom:5},children:[Object(_.jsx)(be.a,{dataKey:"name"}),Object(_.jsx)(he.a,{content:Object(_.jsx)(d,{})}),Object(_.jsx)(pe.a,{dataKey:"issued",label:!0,fill:"#8884d8"})]})}),Object(_.jsx)("div",{hidden:n,children:Object(_.jsx)(p.a,{color:"primary",href:"#",onClick:function(e){!function(e){e.preventDefault()}(e),t("reports")},children:"View All Reports"})})]})}var Oe=Object(y.a)({depositContext:{flex:1}});function fe(e){var t=e.categorySwitch,n=e.hideLink,a=e.custDataReady,i=(Oe(),c.a.useState([])),r=Object(s.a)(i,2),o=r[0],l=r[1];c.a.useEffect((function(){j()}),[]);var j=function(){fetch("https://librarymanageservice.herokuapp.com/getCustomerRanking").then((function(e){return e.json()})).then((function(e){var t=[];o.splice(0,o.length),e.rank_list.slice(0).reverse().map((function(e){t.push({name:e.member_item.first_name+" "+e.member_item.last_name,amount:e.item_count})})),l(t),a&&a(e)}))};return Object(_.jsxs)(c.a.Fragment,{children:[Object(_.jsx)(xe,{children:"Highest Paying Customers"}),Object(_.jsx)(de.a,{width:"100%",height:"100%",children:Object(_.jsxs)(ue.a,{data:o,margin:{top:5,right:5,left:5,bottom:5},children:[Object(_.jsx)(be.a,{dataKey:"name"}),Object(_.jsx)(he.a,{}),Object(_.jsx)(pe.a,{dataKey:"amount",label:!0,fill:"#8884d8"})]})}),Object(_.jsx)("div",{hidden:n,children:Object(_.jsx)(p.a,{color:"primary",href:"#",onClick:function(e){!function(e){e.preventDefault()}(e),t("members")},children:"See All Member Info"})})]})}var ge=n(496),ve=n(497),ke=n(498),ye=n(499),_e=n(500),we=n(501),Ce=n(253),Se=n(495),Ne=n(81),De=n.n(Ne),Be=n(491),Ie=n(492),Te=n(493),Fe=n(494),He=n(48),Ae=n.n(He),Pe=Object(y.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}));function We(e){var t=e.onClose,n=e.selectedValue,a=e.open,c=Pe(),i=function(e){var t=[];for(var n in e.data)t.push(Object(_.jsxs)("p",{children:[n," : ",e.data[n]]}));return Object(_.jsx)("div",{className:"Data-item",children:t})},r=function(){t()};return Object(_.jsxs)(Be.a,{onClose:r,"aria-labelledby":"simple-dialog-title",className:c.root,open:a,fullWidth:"md",maxWidth:"md",children:[Object(_.jsx)(Ie.a,{id:"simple-dialog-title",children:"All Information"}),Object(_.jsx)(E.a,{"aria-label":"close",className:c.closeButton,onClick:t,children:Object(_.jsx)(Ae.a,{})}),Object(_.jsxs)(Te.a,{dividers:!0,children:[Object(_.jsxs)(k.a,{gutterBottom:!0,children:[Object(_.jsx)("h2",{children:"Book Issue Details"}),Object(_.jsx)(i,{data:null!=n?n.bag_item:{}})]}),Object(_.jsxs)(k.a,{gutterBottom:!0,children:[Object(_.jsx)("h2",{children:"User Details"}),Object(_.jsx)(i,{data:null!=n?n.member_item:{}})]}),Object(_.jsxs)(k.a,{gutterBottom:!0,children:[Object(_.jsx)("h2",{children:"Book Details"}),Object(_.jsx)(i,{data:null!=n?n.book_item:{}})]})]}),Object(_.jsx)(Fe.a,{children:Object(_.jsx)(u.a,{autoFocus:!0,onClick:r,color:"primary",children:"Close"})})]})}var Re=Object(y.a)((function(e){return{root:{display:"flex"},content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},tablecontainer:{maxHeight:500},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:450}}}));function Ee(e){return Me.apply(this,arguments)}function Me(){return(Me=Object(j.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("https://librarymanageservice.herokuapp.com/checkin",{method:"POST",headers:{mode:"no-cors","Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Le(e){var t=e.categorySwitch,n=Re(),a=c.a.useState([]),i=Object(s.a)(a,2),r=i[0],o=i[1],d=(Object(F.a)(n.paper,n.fixedHeight),c.a.useState()),u=Object(s.a)(d,2),b=u[0],h=u[1],x=c.a.useState(null),m=Object(s.a)(x,2),O=m[0],f=m[1],g=c.a.useState(null),v=Object(s.a)(g,2),k=(v[0],v[1]),y=c.a.useState(!1),w=Object(s.a)(y,2),C=w[0],S=w[1],N=c.a.useState(null),D=Object(s.a)(N,2),B=D[0],I=D[1];c.a.useEffect((function(){H()}),[]);var T=function(){f(null),k(null),S(!1)},H=function(){fetch("https://librarymanageservice.herokuapp.com/getCheckedBooks").then((function(e){return e.json()})).then((function(e){r.splice(0,r.length);var t=[];e.booklist.forEach((function(e){var n,a,c;e.bag_item.status&&t.push((n=e.book_item,a=e.bag_item,c=e.member_item,{book_item:n,bag_item:a,member_item:c}))})),o(t)}))},A=function(){var e=Object(j.a)(l.a.mark((function e(t,n,a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee({userId:t,bookId:n,bagId:a});case 2:"success"==e.sent.status&&H();case 4:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}();function P(){return Object(_.jsxs)(Ce.a,{id:"issuebook-menu",anchorEl:O,keepMounted:!0,open:Boolean(O),onClose:T,children:[Object(_.jsx)(Se.a,{onClick:function(){var e;A((e=b).member_item.id,e.book_item.bookID,e.bag_item.bagId),f(null)},children:"Return Book"}),Object(_.jsx)(Se.a,{onClick:function(){I(b),S(!0),k(null)},children:"See All Info"})]})}return Object(_.jsxs)(c.a.Fragment,{children:[Object(_.jsx)(xe,{children:"Issued Books "}),Object(_.jsx)(ge.a,{className:n.tablecontainer,children:Object(_.jsxs)(ve.a,{stickyHeader:!0,"aria-label":"sticky table",children:[Object(_.jsx)(ke.a,{children:Object(_.jsxs)(ye.a,{children:[Object(_.jsx)(_e.a,{width:"5%",children:"  "}),Object(_.jsx)(_e.a,{width:"30%",children:" Title "}),Object(_.jsx)(_e.a,{width:"20%",children:" Authors "}),Object(_.jsx)(_e.a,{width:"20%",children:" Member"}),Object(_.jsx)(_e.a,{width:"10%",children:" Status "}),Object(_.jsx)(_e.a,{width:"30%",children:" Issue Date "}),Object(_.jsx)(_e.a,{width:"40%",children:" ReturnDate "}),Object(_.jsx)(_e.a,{width:"15%",children:" ISBN"})]})}),Object(_.jsx)(we.a,{children:r.map((function(e){return Object(_.jsxs)(ye.a,{children:[Object(_.jsxs)(_e.a,{width:"5%",children:[Object(_.jsx)(E.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(t){!function(e,t){h(t),f(e.currentTarget)}(t,e)},children:Object(_.jsx)(De.a,{})}),Object(_.jsx)(P,{})]}),Object(_.jsx)(_e.a,{width:"30%",children:e.book_item.title}),Object(_.jsx)(_e.a,{width:"20%",children:e.book_item.authors}),Object(_.jsx)(_e.a,{width:"20%",children:e.member_item.first_name+" "+e.member_item.last_name}),Object(_.jsx)(_e.a,{width:"10%",children:1==e.bag_item.status?"Issued":"Returned"}),Object(_.jsx)(_e.a,{width:"30%",children:e.bag_item.checkout_date}),Object(_.jsx)(_e.a,{width:"40%",children:e.bag_item.checkin_date?e.bag_item.checkin_date:"-"}),Object(_.jsx)(_e.a,{width:"10%",children:e.book_item.isbn})]},e.bag_item.bagId)}))})]})}),Object(_.jsx)("div",{className:n.seeMore,children:Object(_.jsx)(p.a,{color:"primary",href:"#",onClick:function(e){!function(e){e.preventDefault()}(e),t("books")},children:"See All Book Details"})}),Object(_.jsx)(We,{selectedValue:B,open:C,onClose:T})]})}function Ve(e){e.preventDefault()}function Ye(){return Object(_.jsxs)(k.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(_.jsx)(p.a,{color:"inherit",href:"#",onClick:Ve,children:"Your Website"})," ",(new Date).getFullYear(),"."]})}var Ue=Object(y.a)((function(e){return{content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:350}}}));function Je(e){var t=e.categorySwitch,n=Ue(),a=Object(F.a)(n.paper,n.fixedHeight);return Object(_.jsxs)(le.a,{maxWidth:"lg",className:n.container,children:[Object(_.jsxs)(O.a,{container:!0,spacing:3,children:[Object(_.jsx)(O.a,{item:!0,xs:12,md:8,lg:8,children:Object(_.jsx)(x.a,{className:a,children:Object(_.jsx)(me,{categorySwitch:t})})}),Object(_.jsx)(O.a,{item:!0,xs:12,md:4,lg:4,children:Object(_.jsx)(x.a,{className:a,children:Object(_.jsx)(fe,{categorySwitch:t})})}),Object(_.jsx)(O.a,{item:!0,xs:12,children:Object(_.jsx)(x.a,{className:n.paper,children:Object(_.jsx)(Le,{categorySwitch:t})})})]}),Object(_.jsx)(m.a,{pt:4,children:Object(_.jsx)(Ye,{})})]})}var qe=n(515),Ge=n(516),ze=n(503),Ke=n(504),Qe=Object(y.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}));function Xe(e){var t,n=e.onClose,a=e.selectedValue,c=e.open,i=e.onUpdateData,r=Qe(),s=function(e){var t=[];for(var n in e.data)"bookID"!=n&&t.push(Object(_.jsx)(h.a,{autoFocus:!0,margin:"dense",id:n,label:n.replace("_"," "),fullWidth:!0,defaultValue:e.data[n],onChange:function(e){return o(e)}}));return Object(_.jsx)("div",{className:"Data-item",children:t})},o=function(e){null==t&&(t=a.book_item),t[e.target.id]=e.target.value},l=function(){n()};return Object(_.jsxs)(Be.a,{onClose:l,"aria-labelledby":"simple-dialog-title",className:r.root,open:c,fullWidth:"md",maxWidth:"md",children:[Object(_.jsx)(Ie.a,{id:"simple-dialog-title",children:"Update Book Info"}),Object(_.jsx)(E.a,{"aria-label":"close",className:r.closeButton,onClick:l,children:Object(_.jsx)(Ae.a,{})}),Object(_.jsx)(Te.a,{dividers:!0,children:Object(_.jsx)(k.a,{gutterBottom:!0,children:Object(_.jsx)(s,{data:null!=a?a.book_item:{}})})}),Object(_.jsxs)(Fe.a,{children:[Object(_.jsx)(u.a,{autoFocus:!0,onClick:l,color:"primary",children:"Close"}),Object(_.jsx)(u.a,{autoFocus:!0,onClick:function(){t&&i(t),n()},color:"primary",children:"Update"})]})]})}var Ze=Object(y.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},paper:{padding:e.spacing(1),display:"flex",overflow:"auto",flexDirection:"column"}}}));function $e(e){var t=e.onClose,n=e.selectedValue,a=e.open,i=e.onCheckoutData,r=e.memberList,o=c.a.useState(null),l=Object(s.a)(o,2),j=l[0],d=l[1],b=Ze(),p=function(e){var t=[];for(var n in e.data)t.push(Object(_.jsxs)("p",{children:[n," : ",e.data[n]]}));return Object(_.jsx)("div",{className:"Data-item",children:t})},m=function(e){var t=[];for(var n in e.data)t.push(Object(_.jsxs)("p",{children:[n," : ",e.data[n]]}));return Object(_.jsx)("div",{className:"Data-item",children:t})},f=function(){t()};return c.a.useEffect((function(){d(r[0])}),[]),Object(_.jsxs)(Be.a,{onClose:f,"aria-labelledby":"simple-dialog-title",className:b.root,open:a,fullWidth:"md",maxWidth:"md",children:[Object(_.jsx)(Ie.a,{id:"simple-dialog-title",children:"Issue Book"}),Object(_.jsx)(E.a,{"aria-label":"close",className:b.closeButton,onClick:f,children:Object(_.jsx)(Ae.a,{})}),Object(_.jsx)(Te.a,{dividers:!0,children:Object(_.jsxs)(O.a,{container:!0,spacing:3,children:[Object(_.jsxs)(O.a,{item:!0,xs:12,md:4,lg:6,children:[Object(_.jsx)(x.a,{className:b.paper,elevation:3,children:null!=n&&null!=n.inventory_item&&n.inventory_item.checkout_count<n.inventory_item.count?Object(_.jsx)("div",{children:Object(_.jsx)(h.a,{id:"member-list",select:!0,label:"Select Member",value:j,onChange:function(e){d(e.target.value)},helperText:"Please select member",children:r.map((function(e){return Object(_.jsx)(Se.a,{value:e,children:e.first_name+" "+e.last_name},e.id)}))})}):Object(_.jsx)("div",{children:"Copy Not Available"})}),Object(_.jsxs)(x.a,{className:b.paper,elevation:3,style:{marginTop:"20px"},children:[Object(_.jsx)("h3",{children:"Member Details"}),Object(_.jsx)(m,{data:null!=j?j:{},children:"  "})]})]}),Object(_.jsx)(O.a,{item:!0,xs:12,md:4,lg:6,children:Object(_.jsxs)(x.a,{className:b.paper,elevation:3,children:[Object(_.jsx)("h3",{children:"Books Details"}),Object(_.jsx)(p,{data:null!=n?n.book_item:{}})]})})]})}),Object(_.jsxs)(Fe.a,{children:[Object(_.jsx)(u.a,{autoFocus:!0,onClick:f,color:"primary",children:"Close"}),Object(_.jsx)(u.a,{autoFocus:!0,onClick:function(){var e=[];e.book_item=n.book_item,e.selected_member=j,i(e),f()},color:"primary",disabled:null==j,children:"Issue Book"})]})]})}var et=n(245),tt=n.n(et);function nt(e){e.preventDefault()}function at(){return Object(_.jsxs)(k.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(_.jsx)(p.a,{color:"inherit",href:"#",onClick:nt,children:"Your Website"})," ",(new Date).getFullYear(),"."]})}function ct(e){return it.apply(this,arguments)}function it(){return(it=Object(j.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://librarymanageservice.herokuapp.com/deleteBook?bookId="+t,e.abrupt("return",fetch(n).then((function(e){return e.json()})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rt(e){return st.apply(this,arguments)}function st(){return(st=Object(j.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("https://librarymanageservice.herokuapp.com/checkin",{method:"POST",headers:{mode:"no-cors","Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ot(e){return lt.apply(this,arguments)}function lt(){return(lt=Object(j.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("https://librarymanageservice.herokuapp.com/updateBookDetails",{method:"POST",headers:{mode:"no-cors","Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jt(e){return dt.apply(this,arguments)}function dt(){return(dt=Object(j.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("https://librarymanageservice.herokuapp.com/checkout",{method:"POST",headers:{mode:"no-cors","Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ut=Object(y.a)((function(e){return{container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},tablecontainer:{maxHeight:500},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:450},searchFixedHeight:{height:150}}}));function bt(e,t){return{book_item:e,inventory_item:t}}function ht(){var e=ut(),t=Object(F.a)(e.paper,e.fixedHeight),n=(Object(F.a)(e.paper,e.searchFixedHeight),c.a.useState([])),a=Object(s.a)(n,2),i=a[0],r=a[1],o=c.a.useState([]),d=Object(s.a)(o,2),b=d[0],p=d[1],f=c.a.useState([]),g=Object(s.a)(f,2),v=g[0],y=g[1],w=c.a.useState([]),C=Object(s.a)(w,2),S=C[0],N=C[1],D=c.a.useState(),B=Object(s.a)(D,2),I=B[0],T=B[1],H=c.a.useState(),A=Object(s.a)(H,2),P=A[0],W=A[1],R=c.a.useState(null),M=Object(s.a)(R,2),L=M[0],V=M[1],Y=c.a.useState(null),U=Object(s.a)(Y,2),J=U[0],q=U[1],G=c.a.useState(!1),z=Object(s.a)(G,2),K=z[0],Q=z[1],X=c.a.useState(!1),Z=Object(s.a)(X,2),$=Z[0],ee=Z[1],te=c.a.useState(!1),ne=Object(s.a)(te,2),ae=ne[0],ce=ne[1],ie=c.a.useState(null),re=Object(s.a)(ie,2),se=re[0],oe=re[1],je=c.a.useState({}),de=Object(s.a)(je,2),ue=de[0],be=(de[1],c.a.useState(!0)),he=Object(s.a)(be,2),pe=he[0],me=he[1],Oe=function(){V(null),q(null),Q(!1),ee(!1),ce(!1)};var fe=function(e,t){T(t),q(e.currentTarget)},Ne=function(){var e=Object(j.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jt({userId:t,bookId:n});case 2:"success"==e.sent.status&&(Ae(),He(),Fe());case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Be=function(){var e=Object(j.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ot({bookId:t,bookDetails:n});case 2:"success"==e.sent.status&&(Ae(),He(),Fe());case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ie=function(){var e=Object(j.a)(l.a.mark((function e(t,n,a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rt({userId:t,bookId:n,bagId:a});case 2:"success"==e.sent.status&&(Ae(),He(),Fe());case 4:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Te=function(){var e=Object(j.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ct(t);case 2:"success"==e.sent.status&&W(!0);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Fe=function(){fetch("https://librarymanageservice.herokuapp.com/getCheckedBooks").then((function(e){return e.json()})).then((function(e){i.splice(0,i.length);var t=[];e.booklist.forEach((function(e){var n,a,c;t.push((n=e.book_item,a=e.bag_item,c=e.member_item,{book_item:n,bag_item:a,member_item:c}))})),r(t)}))},He=function(){fetch("https://librarymanageservice.herokuapp.com/getBooksInventory").then((function(e){return e.json()})).then((function(e){b.splice(0,b.length);var t=[];e.booklist.forEach((function(e){t.push(bt(e.book_item,e.inventory_item))})),p(t)}))},Ae=function(){fetch("https://librarymanageservice.herokuapp.com/getMemberList").then((function(e){return e.json()})).then((function(e){S.splice(0,S.length);var t=[];e.memberlist.forEach((function(e){var n,a,c,i,r,s,o,l;t.push((n=e.id,a=e.user_id,c=e.join_date,i=e.first_name,r=e.last_name,s=e.dob,o=e.role,l=e.debt,{id:n,user_id:a,join_date:c,first_name:i,last_name:r,dob:s,role:o,debt:l}))})),N(t)}))};function Pe(){return Object(_.jsxs)(Ce.a,{id:"issuebook-menu",anchorEl:L,keepMounted:!0,open:Boolean(L),onClose:Oe,children:[Object(_.jsx)(Se.a,{onClick:function(){var e;"1"==(e=I).bag_item.status&&Ie(e.member_item.id,e.book_item.bookID,e.bag_item.bagId),V(null)},children:"Return Book"}),Object(_.jsx)(Se.a,{onClick:function(){oe(I),Q(!0),q(null)},children:"See All Info"})]})}c.a.useEffect((function(){Fe()}),[]),c.a.useEffect((function(){He()}),[]),c.a.useEffect((function(){Ae()}),[]);var Re=function(e){var t=e.target.id.replace("-input","");""==e.target.value?delete ue[t]:ue[t]=e.target.value,me(!ue||void 0==ue.title&&void 0==ue.authors)};function Ee(){return Object(_.jsxs)(Ce.a,{id:"booklist-menu",anchorEl:J,keepMounted:!0,open:Boolean(J),onClose:Oe,children:[Object(_.jsx)(Se.a,{onClick:function(){oe(I),ce(!0),q(null)},children:"Issue Book"}),Object(_.jsx)(Se.a,{onClick:function(){oe(I),ee(!0),q(null)},children:"Update Book Info"}),Object(_.jsx)(Se.a,{onClick:function(){Te(I.book_item.bookID),q(null)},children:"Delete this Book"})]})}return Object(_.jsxs)(le.a,{maxWidth:"lg",className:e.container,children:[Object(_.jsxs)(O.a,{container:!0,spacing:3,children:[Object(_.jsx)(O.a,{item:!0,xs:12,md:4,lg:12,children:Object(_.jsxs)(Ge.a,{children:[Object(_.jsx)(ze.a,{id:"panel1a-header","aria-controls":"panel1a-content",expandIcon:Object(_.jsx)(tt.a,{}),children:Object(_.jsx)(xe,{children:"Quick Search"})}),Object(_.jsx)(Ke.a,{children:Object(_.jsxs)(O.a,{item:!0,container:!0,children:[Object(_.jsx)(O.a,{item:!0,xs:3,children:Object(_.jsx)(h.a,{id:"title-input",label:"Title",variant:"outlined",type:"text",onChange:Re})}),Object(_.jsx)(O.a,{item:!0,xs:3,children:Object(_.jsx)(h.a,{id:"authors-input",label:"Author",variant:"outlined",type:"text",onChange:Re})}),Object(_.jsx)(O.a,{item:!0,xs:1,children:Object(_.jsx)(u.a,{variant:"contained",lg:!0,color:"primary",style:{height:"100%"},disabled:pe,onClick:function(){var e=ue.title?ue.title:"",t=ue.authors?ue.authors:"";fetch("https://librarymanageservice.herokuapp.com/quickBookSearch?book_q="+e+"&auth_q="+t).then((function(e){return e.json()})).then((function(e){v.splice(0,v.length);var t=[];e.booklist.forEach((function(e){t.push(bt(e.book_item,e.inventory_item))})),y(t)}))},children:"Search"})}),Object(_.jsx)(O.a,{item:!0,xs:3,children:Object(_.jsx)(u.a,{variant:"contained",lg:!0,color:"accent",style:{height:"100%"},preventDefault:!0,onClick:function(){y([])},children:"Clear Search"})}),Object(_.jsx)(O.a,{item:!0,xs:2,children:Object(_.jsx)(k.a,{children:v.length+"  Search results"})})]})}),Object(_.jsx)(O.a,{item:!0,xs:12,md:4,lg:12,children:0==v.length?null:Object(_.jsx)(x.a,{className:t,children:Object(_.jsx)(ge.a,{className:e.tablecontainer,children:Object(_.jsxs)(ve.a,{stickyHeader:!0,"aria-label":"sticky table",children:[Object(_.jsx)(ke.a,{children:Object(_.jsxs)(ye.a,{children:[Object(_.jsx)(_e.a,{children:"  "}),Object(_.jsx)(_e.a,{width:"30%",children:" Title "}),Object(_.jsx)(_e.a,{children:" Authors "}),Object(_.jsx)(_e.a,{children:" Publisher "}),Object(_.jsx)(_e.a,{width:"20%",children:" Publication date "}),Object(_.jsx)(_e.a,{width:"15%",children:" No. of books "}),Object(_.jsx)(_e.a,{width:"15%",children:" No. Issued books "}),Object(_.jsx)(_e.a,{width:"5%",children:" ISBN"})]})}),Object(_.jsx)(we.a,{children:v.map((function(e){return Object(_.jsxs)(ye.a,{children:[Object(_.jsxs)(_e.a,{children:[Object(_.jsx)(E.a,{onClick:function(t){fe(t,e)},children:Object(_.jsx)(De.a,{})}),Object(_.jsx)(Ee,{})]}),Object(_.jsxs)(_e.a,{children:["  ",e.book_item.title,"  "]}),Object(_.jsx)(_e.a,{children:e.book_item.authors}),Object(_.jsx)(_e.a,{children:e.book_item.publisher}),Object(_.jsx)(_e.a,{children:e.book_item.publication_date}),Object(_.jsx)(_e.a,{children:e.inventory_item.count}),Object(_.jsx)(_e.a,{children:e.inventory_item.checkout_count}),Object(_.jsx)(_e.a,{children:e.book_item.isbn})]},e.book_item.isbn)}))})]})})})})]})}),Object(_.jsx)(O.a,{item:!0,xs:12,md:4,lg:12,children:Object(_.jsxs)(x.a,{className:t,children:[Object(_.jsx)(xe,{children:"Checked Books "}),Object(_.jsx)(ge.a,{className:e.tablecontainer,children:Object(_.jsxs)(ve.a,{stickyHeader:!0,"aria-label":"sticky table",children:[Object(_.jsx)(ke.a,{children:Object(_.jsxs)(ye.a,{children:[Object(_.jsx)(_e.a,{width:"5%",children:"  "}),Object(_.jsx)(_e.a,{width:"30%",children:" Title "}),Object(_.jsx)(_e.a,{width:"20%",children:" Authors "}),Object(_.jsx)(_e.a,{width:"20%",children:" Member"}),Object(_.jsx)(_e.a,{width:"10%",children:" Status "}),Object(_.jsx)(_e.a,{width:"30%",children:" Issue Date "}),Object(_.jsx)(_e.a,{width:"40%",children:" ReturnDate "}),Object(_.jsx)(_e.a,{width:"15%",children:" ISBN"})]})}),Object(_.jsx)(we.a,{children:i.map((function(e){return Object(_.jsxs)(ye.a,{children:[Object(_.jsxs)(_e.a,{width:"5%",children:[Object(_.jsx)(E.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(t){!function(e,t){T(t),V(e.currentTarget)}(t,e)},children:Object(_.jsx)(De.a,{})}),Object(_.jsx)(Pe,{})]}),Object(_.jsx)(_e.a,{width:"30%",children:e.book_item.title}),Object(_.jsx)(_e.a,{width:"20%",children:e.book_item.authors}),Object(_.jsx)(_e.a,{width:"20%",children:e.member_item.first_name+" "+e.member_item.last_name}),Object(_.jsx)(_e.a,{width:"10%",children:1==e.bag_item.status?"Issued":"Returned"}),Object(_.jsx)(_e.a,{width:"30%",children:e.bag_item.checkout_date}),Object(_.jsx)(_e.a,{width:"40%",children:e.bag_item.checkin_date?e.bag_item.checkin_date:"-"}),Object(_.jsx)(_e.a,{width:"10%",children:e.book_item.isbn})]},e.bag_item.bagId)}))})]})})]})}),Object(_.jsx)(O.a,{item:!0,xs:12,md:8,lg:12,children:Object(_.jsxs)(x.a,{className:t,children:[Object(_.jsx)(xe,{children:"All Books "}),Object(_.jsx)(ge.a,{className:e.tablecontainer,children:Object(_.jsxs)(ve.a,{stickyHeader:!0,"aria-label":"sticky table",children:[Object(_.jsx)(ke.a,{children:Object(_.jsxs)(ye.a,{children:[Object(_.jsx)(_e.a,{children:"  "}),Object(_.jsx)(_e.a,{width:"30%",children:" Title "}),Object(_.jsx)(_e.a,{children:" Authors "}),Object(_.jsx)(_e.a,{children:" Publisher "}),Object(_.jsx)(_e.a,{width:"20%",children:" Publication date "}),Object(_.jsx)(_e.a,{width:"15%",children:" No. of books "}),Object(_.jsx)(_e.a,{width:"15%",children:" No. Issued books "}),Object(_.jsx)(_e.a,{width:"5%",children:" ISBN"})]})}),Object(_.jsx)(we.a,{children:b.map((function(e){return Object(_.jsxs)(ye.a,{children:[Object(_.jsxs)(_e.a,{children:[Object(_.jsx)(E.a,{onClick:function(t){fe(t,e)},children:Object(_.jsx)(De.a,{})}),Object(_.jsx)(Ee,{})]}),Object(_.jsxs)(_e.a,{children:["  ",e.book_item.title,"  "]}),Object(_.jsx)(_e.a,{children:e.book_item.authors}),Object(_.jsx)(_e.a,{children:e.book_item.publisher}),Object(_.jsx)(_e.a,{children:e.book_item.publication_date}),Object(_.jsx)(_e.a,{children:e.inventory_item.count}),Object(_.jsx)(_e.a,{children:e.inventory_item.checkout_count}),Object(_.jsx)(_e.a,{children:e.book_item.isbn})]},e.book_item.isbn)}))})]})})]})})]}),Object(_.jsx)(We,{selectedValue:se,open:K,onClose:Oe}),Object(_.jsx)(Xe,{selectedValue:se,open:$,onClose:Oe,onUpdateData:function(e){var t=e.bookID;delete e.bookID,Be(t,e)}}),Object(_.jsx)($e,{selectedValue:se,memberList:S,open:ae,onClose:Oe,onCheckoutData:function(e){Ne(e.selected_member.id,e.book_item.bookID)}}),Object(_.jsx)(m.a,{pt:4,children:Object(_.jsx)(at,{})}),Object(_.jsx)(qe.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:P,message:"Book Deleted Successfully",autoHideDuration:1e3},"topcenter")]})}var pt=n(505),xt=n(246),mt=n.n(xt),Ot=Object(y.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},paper:{padding:e.spacing(1),display:"flex",overflow:"auto",flexDirection:"column"}}}));function ft(e){var t,n=e.onClose,a=e.selectedValue,c=e.open,i=e.onUpdateData,r=Ot(),s=function(e){var t=[];for(var n in e.data)"id"!==n&&t.push(Object(_.jsx)(h.a,{autoFocus:!0,margin:"dense",id:n,label:n.replace("_"," "),fullWidth:!0,defaultValue:e.data[n],onChange:function(e){return o(e)}}));return Object(_.jsx)("div",{className:"Data-item",children:t})},o=function(e){null==t&&(t=a),t[e.target.id]=e.target.value},l=function(){n()};return Object(_.jsxs)(Be.a,{onClose:l,"aria-labelledby":"simple-dialog-title",className:r.root,open:c,fullWidth:"md",maxWidth:"md",children:[Object(_.jsx)(Ie.a,{id:"simple-dialog-title",children:"Update Book Info"}),Object(_.jsx)(E.a,{"aria-label":"close",className:r.closeButton,onClick:l,children:Object(_.jsx)(Ae.a,{})}),Object(_.jsx)(Te.a,{dividers:!0,children:Object(_.jsx)(k.a,{gutterBottom:!0,children:Object(_.jsx)(s,{data:null!=a?a:{}})})}),Object(_.jsxs)(Fe.a,{children:[Object(_.jsx)(u.a,{autoFocus:!0,onClick:l,color:"primary",children:"Close"}),Object(_.jsx)(u.a,{autoFocus:!0,onClick:function(){t&&i(t),n()},color:"primary",children:"Update"})]})]})}var gt=Object(y.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},paper:{padding:e.spacing(1),display:"flex",overflow:"auto",flexDirection:"column"}}}));function vt(e){var t=e.onClose,n=e.open,a=e.onInsertData,i=c.a.useState({user_id:"",first_name:"",last_name:"",dob:"",psswd:""}),r=Object(s.a)(i,2),o=r[0],l=(r[1],gt()),j=function(e){var t=[];for(var n in e.data)"psswd"!==n&&t.push(Object(_.jsx)(h.a,{autoFocus:!0,margin:"dense",id:n,label:n.replace("_"," "),fullWidth:!0,defaultValue:e.data[n],onChange:function(e){return d(e)}}));return Object(_.jsx)("div",{className:"Data-item",children:t})},d=function(e){o[e.target.id]=e.target.value},b=function(){t()};return Object(_.jsxs)(Be.a,{onClose:b,"aria-labelledby":"simple-dialog-title",className:l.root,open:n,fullWidth:"md",maxWidth:"md",children:[Object(_.jsx)(Ie.a,{id:"simple-dialog-title",children:"Add new member"}),Object(_.jsx)(E.a,{"aria-label":"close",className:l.closeButton,onClick:b,children:Object(_.jsx)(Ae.a,{})}),Object(_.jsx)(Te.a,{dividers:!0,children:Object(_.jsx)(k.a,{gutterBottom:!0,children:Object(_.jsx)(j,{data:o})})}),Object(_.jsxs)(Fe.a,{children:[Object(_.jsx)(u.a,{autoFocus:!0,onClick:b,color:"primary",children:"Close"}),Object(_.jsx)(u.a,{autoFocus:!0,onClick:function(){""!==o.user_id&&a(o),t()},color:"primary",children:"Add"})]})]})}function kt(e){e.preventDefault()}function yt(){return Object(_.jsxs)(k.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(_.jsx)(p.a,{color:"inherit",href:"#",onClick:kt,children:"Your Website"})," ",(new Date).getFullYear(),"."]})}var _t=Object(y.a)((function(e){return{container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:600},extendedIcon:{marginRight:e.spacing(1)}}}));function wt(e){return Ct.apply(this,arguments)}function Ct(){return(Ct=Object(j.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://librarymanageservice.herokuapp.com/deleteMember?memberId="+t,e.abrupt("return",fetch(n).then((function(e){return e.json()})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function St(e){return Nt.apply(this,arguments)}function Nt(){return(Nt=Object(j.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("https://librarymanageservice.herokuapp.com/signup",{method:"POST",headers:{mode:"no-cors","Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Dt(e){return Bt.apply(this,arguments)}function Bt(){return(Bt=Object(j.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("https://librarymanageservice.herokuapp.com/updateMemberDetails",{method:"POST",headers:{mode:"no-cors","Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function It(){var e=_t(),t=Object(F.a)(e.paper,e.fixedHeight),n=c.a.useState([]),a=Object(s.a)(n,2),i=a[0],r=a[1],o=c.a.useState(null),d=Object(s.a)(o,2),u=d[0],b=d[1],h=c.a.useState(),p=Object(s.a)(h,2),f=p[0],g=p[1],v=c.a.useState(null),k=Object(s.a)(v,2),y=k[0],w=k[1],C=c.a.useState(!1),S=Object(s.a)(C,2),N=S[0],D=S[1],B=c.a.useState(!1),I=Object(s.a)(B,2),T=I[0],H=I[1],A=c.a.useState(),P=Object(s.a)(A,2),W=P[0];P[1];c.a.useEffect((function(){fetch("https://librarymanageservice.herokuapp.com/getMemberList").then((function(e){return e.json()})).then((function(e){R(e)}))}),[]);var R=function(e){i.splice(0,i.length);var t=[];e.memberlist.forEach((function(e){var n,a,c,i,r,s,o,l;t.push((n=e.id,a=e.user_id,c=e.join_date,i=e.first_name,r=e.last_name,s=e.dob,o=e.role,l=e.debt,{id:n,user_id:a,join_date:c,first_name:i,last_name:r,dob:s,role:o,debt:l}))})),r(t)},M=function(e,t){b(null),D(!1),H(!1)};var L=function(){var e=Object(j.a)(l.a.mark((function e(t,n){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dt({memberId:t,memberDetails:n});case 2:a=e.sent,R(a);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),V=function(){var e=Object(j.a)(l.a.mark((function e(t,n,a,c,i){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,St({user_id:t,psswd:n,first_name:a,last_name:c,dob:i});case 2:r=e.sent,R(r);case 4:case"end":return e.stop()}}),e)})));return function(t,n,a,c,i){return e.apply(this,arguments)}}(),Y=function(){var e=Object(j.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wt(t);case 2:n=e.sent,R(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function U(){return Object(_.jsxs)(Ce.a,{id:"booklist-menu",anchorEl:u,keepMounted:!0,open:Boolean(u),onClose:M,children:[Object(_.jsx)(Se.a,{onClick:function(){w(f),D(!0),b(null)},children:"Update Member Details"}),Object(_.jsx)(Se.a,{onClick:function(){Y(f.id),b(null)},children:"Delete this member"})]})}return Object(_.jsxs)(le.a,{maxWidth:"lg",className:e.container,children:[Object(_.jsx)(O.a,{container:!0,spacing:3,children:Object(_.jsx)(O.a,{item:!0,xs:12,md:4,lg:12,children:Object(_.jsxs)(x.a,{className:t,children:[Object(_.jsx)(xe,{children:"All Library Members "}),Object(_.jsx)(ge.a,{className:e.tablecontainer,children:Object(_.jsxs)(ve.a,{stickyHeader:!0,"aria-label":"sticky table",children:[Object(_.jsx)(ke.a,{children:Object(_.jsxs)(ye.a,{children:[Object(_.jsx)(_e.a,{children:Object(_.jsx)(pt.a,{color:"secondary","aria-label":"add",onClick:function(e){H(!0)},children:Object(_.jsx)(mt.a,{})})}),Object(_.jsx)(_e.a,{children:"User Id"}),Object(_.jsx)(_e.a,{children:"First name"}),Object(_.jsx)(_e.a,{children:"Last Name"}),Object(_.jsx)(_e.a,{children:"DOB"}),Object(_.jsx)(_e.a,{children:"Role"}),Object(_.jsx)(_e.a,{children:"Debt"}),Object(_.jsx)(_e.a,{children:"DOJ"})]})}),Object(_.jsx)(we.a,{children:i.map((function(e){return Object(_.jsxs)(ye.a,{children:[Object(_.jsxs)(_e.a,{children:[Object(_.jsx)(E.a,{onClick:function(t){!function(e,t){g(t),b(e.currentTarget)}(t,e)},children:Object(_.jsx)(De.a,{})}),Object(_.jsx)(U,{})]}),Object(_.jsxs)(_e.a,{children:["  ",e.user_id,"  "]}),Object(_.jsx)(_e.a,{children:e.first_name}),Object(_.jsx)(_e.a,{children:e.last_name}),Object(_.jsx)(_e.a,{children:e.dob}),Object(_.jsx)(_e.a,{children:e.role}),Object(_.jsx)(_e.a,{children:e.debt}),Object(_.jsx)(_e.a,{children:e.join_date})]},e.id)}))})]})})]})})}),Object(_.jsx)(ft,{selectedValue:y,open:N,onClose:M,onUpdateData:function(e){var t=e.id;delete e.id,L(t,e)}}),Object(_.jsx)(vt,{open:T,onClose:M,onInsertData:function(e){V(e.user_id,e.psswd,e.first_name,e.last_name,e.dob)}}),Object(_.jsx)(m.a,{pt:4,children:Object(_.jsx)(yt,{})}),Object(_.jsx)(qe.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:W,message:"Book Deleted Successfully",autoHideDuration:1e3},"topcenter")]})}var Tt=n(506),Ft=n(507),Ht=n(508),At=Object(y.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}));function Pt(e){var t=e.onClose,n=e.selectedValue,a=e.open,c=At(),i=function(e){var t=[];for(var n in e.data)"count"!=n&&t.push(Object(_.jsxs)("p",{children:[n," : ",e.data[n]]}));return Object(_.jsx)("div",{className:"Data-item",children:t})},r=function(){t()};return Object(_.jsxs)(Be.a,{onClose:r,"aria-labelledby":"simple-dialog-title",className:c.root,open:a,fullWidth:"md",maxWidth:"md",children:[Object(_.jsx)(Ie.a,{id:"simple-dialog-title",children:"Book Information"}),Object(_.jsx)(E.a,{"aria-label":"close",className:c.closeButton,onClick:t,children:Object(_.jsx)(Ae.a,{})}),Object(_.jsx)(Te.a,{dividers:!0,children:Object(_.jsx)(k.a,{gutterBottom:!0,children:Object(_.jsx)(i,{data:null!=n?n:{}})})}),Object(_.jsx)(Fe.a,{children:Object(_.jsx)(u.a,{autoFocus:!0,onClick:r,color:"primary",children:"Close"})})]})}var Wt=Object(y.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},paper:{padding:e.spacing(1),display:"flex",overflow:"auto",flexDirection:"column"}}}));function Rt(e){var t=e.onClose,n=e.selectedValue,a=e.open,i=e.onCheckoutData,r=c.a.useState(null),o=Object(s.a)(r,2),l=o[0],j=o[1],d=Wt(),b=function(e){var t=[];for(var n in e.data)"count"!==n&&"inventory_count"!==n&&t.push(Object(_.jsxs)("p",{children:[n," : ",e.data[n]]}));return Object(_.jsx)("div",{className:"Data-item",children:t})},p=function(){t()};return Object(_.jsxs)(Be.a,{onClose:p,"aria-labelledby":"simple-dialog-title",className:d.root,open:a,fullWidth:"md",maxWidth:"md",children:[Object(_.jsx)(Ie.a,{id:"simple-dialog-title",children:"Import Book"}),Object(_.jsx)(E.a,{"aria-label":"close",className:d.closeButton,onClick:p,children:Object(_.jsx)(Ae.a,{})}),Object(_.jsx)(Te.a,{dividers:!0,children:Object(_.jsxs)(O.a,{container:!0,spacing:3,children:[Object(_.jsx)(O.a,{item:!0,xs:12,md:4,lg:6,children:Object(_.jsxs)(x.a,{className:d.paper,elevation:3,children:[Object(_.jsx)("h3",{children:"Inventory Details"}),Object(_.jsxs)("p",{children:[" Book Count in Inventory : ",null!=n?n.inventory_count:0]}),Object(_.jsx)("p",{children:" Enter Count to import to Inventory : "}),Object(_.jsx)(h.a,{id:"member-list",label:" ",type:"number",InputLabelProps:{shrink:!0},onChange:function(e){j(e.target.value)},helperText:"Please enter import count"})]})}),Object(_.jsx)(O.a,{item:!0,xs:12,md:4,lg:6,children:Object(_.jsxs)(x.a,{className:d.paper,elevation:3,children:[Object(_.jsx)("h3",{children:"Books Details"}),Object(_.jsx)(b,{data:null!=n?n:{}})]})})]})}),Object(_.jsxs)(Fe.a,{children:[Object(_.jsx)(u.a,{autoFocus:!0,onClick:p,color:"primary",children:"Close"}),Object(_.jsx)(u.a,{autoFocus:!0,onClick:function(){var e=n;e.import_count=l,i(e),p()},color:"primary",disabled:!l,children:"Import Book"})]})]})}function Et(e){e.preventDefault()}function Mt(){return Object(_.jsxs)(k.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(_.jsx)(p.a,{color:"inherit",href:"#",onClick:Et,children:"Your Website"})," ",(new Date).getFullYear(),"."]})}var Lt=Object(y.a)((function(e){return{container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:450},searchFixedHeight:{height:200},extendedIcon:{marginRight:e.spacing(1)},formgrid:{"& .MuiTextField-root":{margin:e.spacing(1),width:"25ch"},"& .Button-root":{margin:e.spacing(1),width:"25ch"}}}}));function Vt(e){return Yt.apply(this,arguments)}function Yt(){return(Yt=Object(j.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("https://librarymanageservice.herokuapp.com/addBooksToSystem",{method:"POST",headers:{mode:"no-cors","Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ut(){var e=Lt(),t=Object(F.a)(e.paper,e.searchFixedHeight),n=Object(F.a)(e.paper,e.fixedHeightPaper),a=c.a.useState([]),i=Object(s.a)(a,2),r=i[0],o=i[1],d=c.a.useState(null),b=Object(s.a)(d,2),p=b[0],f=b[1],g=c.a.useState(!1),v=Object(s.a)(g,2),k=v[0],y=v[1],w=c.a.useState(!1),C=Object(s.a)(w,2),S=C[0],N=C[1],D=c.a.useState({}),B=Object(s.a)(D,2),I=B[0],T=(B[1],function(){var e=Object(j.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n in t="?",I)t+=n+"="+I[n],t+="&&";console.log(t),fetch("https://librarymanageservice.herokuapp.com/getApiBookList"+t).then((function(e){return e.json()})).then((function(e){console.log(e),r.splice(0,r.length),o(e)}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),H=function(){y(!1),N(!1)},A=function(){var e=Object(j.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vt({import_book:t});case 2:"success"==e.sent.status&&T();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(e){var t=e.target.id.replace("-input","");""==e.target.value?delete I[t]:I[t]=e.target.value,console.log(I)};return Object(_.jsxs)(le.a,{maxWidth:"lg",className:e.container,children:[Object(_.jsxs)(O.a,{container:!0,spacing:3,children:[Object(_.jsx)(O.a,{item:!0,xs:12,md:4,lg:12,children:Object(_.jsxs)(x.a,{className:t,children:[Object(_.jsx)(xe,{children:"Import Books from Frappe "}),Object(_.jsxs)("div",{className:e.formgrid,children:[Object(_.jsx)(h.a,{id:"title-input",label:"Title",type:"text",onChange:P}),Object(_.jsx)(h.a,{id:"authors-input",label:"Author",type:"text",onChange:P}),Object(_.jsx)(h.a,{id:"publisher-input",label:"Publisher",type:"text",onChange:P}),Object(_.jsx)(h.a,{id:"isbn-input",label:"isbn",type:"numer",onChange:P}),Object(_.jsx)(h.a,{id:"page-input",label:"Page",type:"number",onChange:P})]}),Object(_.jsx)(u.a,{variant:"contained",color:"primary",style:{width:"20%",marginTop:"20px"},onClick:T,children:"Search"})]})}),Object(_.jsx)(O.a,{item:!0,xs:12,md:4,lg:12,children:Object(_.jsxs)(x.a,{className:n,children:[Object(_.jsx)(xe,{children:"Books from Frappe"}),Object(_.jsx)(ge.a,{disableElevation:!0,className:e.tablecontainer,children:Object(_.jsxs)(ve.a,{stickyHeader:!0,"aria-label":"sticky table",children:[Object(_.jsx)(ke.a,{children:Object(_.jsxs)(ye.a,{children:[Object(_.jsx)(_e.a,{children:"  "}),Object(_.jsx)(_e.a,{width:"30%",children:" Title "}),Object(_.jsx)(_e.a,{children:" Authors "}),Object(_.jsx)(_e.a,{children:" Publisher "}),Object(_.jsx)(_e.a,{width:"20%",children:" Publication date "}),Object(_.jsx)(_e.a,{width:"15%",children:" Inventory Count "}),Object(_.jsx)(_e.a,{width:"5%",children:" ISBN "})]})}),Object(_.jsx)(we.a,{children:r.map((function(e){return Object(_.jsxs)(ye.a,{children:[Object(_.jsx)(_e.a,{children:Object(_.jsxs)(Tt.a,{disableElevation:!0,"aria-label":"outlined primary button group",children:[Object(_.jsx)(E.a,{onClick:function(t){!function(e,t){f(t),y(!0)}(0,e)},children:Object(_.jsx)(Ft.a,{})}),Object(_.jsx)(E.a,{onClick:function(t){!function(e,t){f(t),N(!0)}(0,e)},children:Object(_.jsx)(Ht.a,{})})]})}),Object(_.jsxs)(_e.a,{children:[e.title," "]}),Object(_.jsx)(_e.a,{children:e.authors}),Object(_.jsx)(_e.a,{children:e.publisher}),Object(_.jsx)(_e.a,{children:e.publication_date}),Object(_.jsx)(_e.a,{children:e.inventory_count}),Object(_.jsx)(_e.a,{children:e.isbn})]},e.bookID)}))})]})})]})})]}),Object(_.jsx)(Pt,{selectedValue:p,open:k,onClose:H}),Object(_.jsx)(Rt,{selectedValue:p,open:S,onClose:H,onCheckoutData:A}),Object(_.jsx)(m.a,{pt:4,children:Object(_.jsx)(Mt,{})})]})}var Jt=n(480),qt=n(481),Gt=n(514);function zt(e){e.preventDefault()}function Kt(){return Object(_.jsxs)(k.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(_.jsx)(p.a,{color:"inherit",href:"#",onClick:zt,children:"Your Website"})," ",(new Date).getFullYear(),"."]})}var Qt=Object(y.a)((function(e){return{container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:400},searchFixedHeight:{height:200}}}));function Xt(){var e=Qt(),t=c.a.useState(""),n=Object(s.a)(t,2),a=n[0],i=n[1],r=c.a.useState(""),o=Object(s.a)(r,2),l=o[0],j=o[1],d=c.a.useState([]),b=Object(s.a)(d,2),h=b[0],p=b[1],f=c.a.useState([]),g=Object(s.a)(f,2),v=g[0],k=g[1],y=Object(F.a)(e.paper,e.searchFixedHeight),w=Object(F.a)(e.paper,e.fixedHeight);return Object(_.jsxs)(le.a,{maxWidth:"lg",className:e.container,children:[Object(_.jsxs)(O.a,{container:!0,spacing:3,children:[Object(_.jsx)(O.a,{item:!0,xs:12,md:4,lg:12,children:Object(_.jsxs)(x.a,{className:y,children:[Object(_.jsx)(xe,{children:"Select Report to view "}),Object(_.jsxs)(Jt.a,{variant:"outlined",className:e.formControl,children:[Object(_.jsx)(qt.a,{id:"demo-simple-select-outlined-label",children:"Report"}),Object(_.jsxs)(Gt.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:a,onChange:function(e){i(e.target.value),j(e.target.value)},label:"Age",children:[Object(_.jsxs)(Se.a,{value:"",children:[" ",Object(_.jsx)("em",{children:"None"})," "]}),Object(_.jsx)(Se.a,{value:"book",children:"Top Issued Books "}),Object(_.jsx)(Se.a,{value:"member",children:"Highest Paying Customers"})]})]}),Object(_.jsx)(u.a,{variant:"contained",color:"primary",style:{width:"20%",marginTop:"20px"},disabled:""==l,onClick:function(){var e="data:text/csv;charset=utf-8,";"member"==l?(e+="Amount Spend,First Name,Last name,Type\n",h.map((function(t){e+=t.item_count+",",e+=t.member_item.first_name+",",e+=t.member_item.last_name+",",e+=t.member_item.role+"\n"}))):(e+="Title,Author,Publish,Issue Count,Available,Total\n",v.map((function(t){e+=t.book_item.title+",",e+=t.book_item.authors+",",e+=t.book_item.publisher+",",e+=t.item_count+",",e+=t.inventory_count-t.checkout_count+",",e+=t.inventory_count+"\n"})));var t=encodeURI(e),n=document.createElement("a");n.setAttribute("href",t),n.setAttribute("download","member"==l?"HighestPayingCustomers.csv":"TopIssuedBooks.csv"),document.body.appendChild(n),n.click()},children:"Download Report"})]})}),""!=a?Object(_.jsx)(O.a,{item:!0,xs:12,md:4,lg:4,children:Object(_.jsx)(x.a,{className:w,children:"book"==l?Object(_.jsx)(me,{hideLink:!0,bookDataReady:function(e){k(e.rank_list)}}):"member"==l?Object(_.jsx)(fe,{hideLink:!0,custDataReady:function(e){p(e.rank_list)}}):Object(_.jsx)("p",{})})}):Object(_.jsx)("div",{}),""!=a?Object(_.jsx)(O.a,{item:!0,xs:12,md:4,lg:8,children:Object(_.jsx)(x.a,{className:w,children:Object(_.jsx)(ge.a,{className:e.tablecontainer,children:Object(_.jsxs)(ve.a,{stickyHeader:!0,"aria-label":"sticky table",children:[Object(_.jsx)(ke.a,{children:"member"==l?Object(_.jsxs)(ye.a,{children:[Object(_.jsx)(_e.a,{children:" Amount Spend "}),Object(_.jsx)(_e.a,{children:" First Name "}),Object(_.jsx)(_e.a,{children:" last name "}),Object(_.jsx)(_e.a,{children:" Type "})]}):"book"==l?Object(_.jsxs)(ye.a,{children:[Object(_.jsx)(_e.a,{children:"Title"}),Object(_.jsx)(_e.a,{children:" Author "}),Object(_.jsx)(_e.a,{children:" Publish "}),Object(_.jsx)(_e.a,{children:" Issue Count "}),Object(_.jsx)(_e.a,{children:" Available "}),Object(_.jsx)(_e.a,{children:" Total "})]}):Object(_.jsx)("div",{})}),Object(_.jsx)(we.a,{children:"member"==l?h.slice(0).reverse().map((function(e){return Object(_.jsxs)(ye.a,{children:[Object(_.jsx)(_e.a,{children:e.item_count}),Object(_.jsx)(_e.a,{children:e.member_item.first_name}),Object(_.jsx)(_e.a,{children:e.member_item.last_name}),Object(_.jsx)(_e.a,{children:e.member_item.role})]},e.member_item.id)})):"book"==l?v.slice(0).reverse().map((function(e){return Object(_.jsxs)(ye.a,{children:[Object(_.jsx)(_e.a,{children:e.book_item.title}),Object(_.jsx)(_e.a,{children:e.book_item.authors}),Object(_.jsx)(_e.a,{children:e.book_item.publisher}),Object(_.jsx)(_e.a,{children:e.item_count}),Object(_.jsx)(_e.a,{children:e.inventory_count-e.checkout_count}),Object(_.jsx)(_e.a,{children:e.inventory_count})]},e.book_item.bookID)})):Object(_.jsx)("div",{})})]})})})}):Object(_.jsx)("div",{})]}),Object(_.jsx)(m.a,{pt:4,children:Object(_.jsx)(Kt,{})})]})}function Zt(e){e.preventDefault()}function $t(){return Object(_.jsxs)(k.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(_.jsx)(p.a,{color:"inherit",href:"#",onClick:Zt,children:"Your Website"})," ",(new Date).getFullYear(),"."]})}var en=Object(y.a)((function(e){return{container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:600},extendedIcon:{marginRight:e.spacing(1)}}}));function tn(){var e=en(),t=Object(F.a)(e.paper,e.fixedHeight),n=c.a.useState([]),a=Object(s.a)(n,2),i=a[0],r=a[1];c.a.useEffect((function(){fetch("https://librarymanageservice.herokuapp.com/getBooksInventory").then((function(e){return e.json()})).then((function(e){o(e)}))}),[]);var o=function(e){i.splice(0,i.length),r(e.booklist)};return Object(_.jsxs)(le.a,{maxWidth:"lg",className:e.container,children:[Object(_.jsx)(O.a,{container:!0,spacing:3,children:Object(_.jsx)(O.a,{item:!0,xs:12,md:4,lg:12,children:Object(_.jsxs)(x.a,{className:t,children:[Object(_.jsx)(xe,{children:"All Library Books "}),Object(_.jsx)(ge.a,{className:e.tablecontainer,children:Object(_.jsxs)(ve.a,{stickyHeader:!0,"aria-label":"sticky table",children:[Object(_.jsx)(ke.a,{children:Object(_.jsxs)(ye.a,{children:[Object(_.jsx)(_e.a,{children:"  Book ID "}),Object(_.jsx)(_e.a,{children:" Title "}),Object(_.jsx)(_e.a,{children:" Authors  "}),Object(_.jsx)(_e.a,{children:" Publisher "}),Object(_.jsx)(_e.a,{children:"  Publication date "}),Object(_.jsx)(_e.a,{children:"  Num pages  "}),Object(_.jsx)(_e.a,{children:"  Average rating  "}),Object(_.jsx)(_e.a,{children:"  Ratings count  "}),Object(_.jsx)(_e.a,{children:"  Text Reviews Count  "}),Object(_.jsx)(_e.a,{children:" Language code  "}),Object(_.jsx)(_e.a,{children:"  isbn "}),Object(_.jsx)(_e.a,{children:" isbn13 "})]})}),Object(_.jsx)(we.a,{children:i.map((function(e){return Object(_.jsxs)(ye.a,{children:[Object(_.jsxs)(_e.a,{children:["  ",e.book_item.bookID,"  "]}),Object(_.jsxs)(_e.a,{children:["  ",e.book_item.title,"  "]}),Object(_.jsxs)(_e.a,{children:["  ",e.book_item.authors,"  "]}),Object(_.jsxs)(_e.a,{children:["  ",e.book_item.publisher,"  "]}),Object(_.jsxs)(_e.a,{children:["  ",e.book_item.publication_date,"  "]}),Object(_.jsxs)(_e.a,{children:["  ",e.book_item.num_pages,"  "]}),Object(_.jsxs)(_e.a,{children:["  ",e.book_item.average_rating,"  "]}),Object(_.jsxs)(_e.a,{children:["  ",e.book_item.ratings_count,"  "]}),Object(_.jsxs)(_e.a,{children:["  ",e.book_item.text_reviews_count,"  "]}),Object(_.jsxs)(_e.a,{children:["  ",e.book_item.language_code,"  "]}),Object(_.jsxs)(_e.a,{children:["  ",e.book_item.isbn,"  "]}),Object(_.jsxs)(_e.a,{children:["  ",e.book_item.isbn13,"  "]})]},e.book_item.bookID)}))})]})})]})})}),Object(_.jsxs)(m.a,{pt:4,children:[" ",Object(_.jsx)($t,{})," "]})]})}var nn=Object(y.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(T.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(I.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",background:"#eff3f2"},fixedHeight:{height:240}}}));function an(e){var t=e.user_token,n=e.logout,a=nn(),i=c.a.useState(!1),r=Object(s.a)(i,2),o=r[0],l=r[1],j=c.a.useState("dashboard"),d=Object(s.a)(j,2),u=d[0],h=d[1];Object(F.a)(a.paper,a.fixedHeight);return Object(_.jsxs)("div",{className:a.root,children:[Object(_.jsx)(b.a,{}),Object(_.jsx)(A.a,{position:"absolute",className:Object(F.a)(a.appBar,o&&a.appBarShift),children:Object(_.jsxs)(P.a,{className:a.toolbar,children:[Object(_.jsx)(E.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:function(){"admin"==t.user_details.role&&l(!0)},className:Object(F.a)(a.menuButton,o&&a.menuButtonHidden),children:Object(_.jsx)(Y.a,{})}),Object(_.jsx)(k.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:a.title,children:"Library"}),Object(_.jsx)(E.a,{color:"inherit",children:Object(_.jsx)(L.a,{onClick:n})})]})}),Object(_.jsxs)(H.a,{variant:"permanent",classes:{paper:Object(F.a)(a.drawerPaper,!o&&a.drawerPaperClose)},open:o,hidden:"admin"!=t.user_details.role,children:[Object(_.jsx)("div",{className:a.toolbarIcon,children:Object(_.jsx)(E.a,{onClick:function(){l(!1)},children:Object(_.jsx)(J.a,{})})}),Object(_.jsx)(R.a,{}),Object(_.jsx)(W.a,{onClick:function(e){e.target.innerText?h(e.target.innerText.toLowerCase()):e.target.getAttribute("name")?h(e.target.getAttribute("name").toLowerCase()):"svg"==e.target.tagName?h(e.target.parentNode.getAttribute("name").toLowerCase()):"path"==e.target.tagName&&h(e.target.parentNode.parentNode.getAttribute("name").toLowerCase())},children:oe}),Object(_.jsx)(R.a,{})]}),Object(_.jsxs)("main",{className:a.content,children:[Object(_.jsx)("div",{className:a.appBarSpacer}),"admin"!=t.user_details.role?Object(_.jsx)(tn,{}):"books"==u?Object(_.jsx)(ht,{}):"members"==u?Object(_.jsx)(It,{}):"reports"==u?Object(_.jsx)(Xt,{}):"importbooks"==u?Object(_.jsx)(Ut,{}):Object(_.jsx)(Je,{categorySwitch:function(e){h(e)}})]})]})}var cn=n(250),rn=n(32);var sn=function(){var e=Object(a.useState)(),t=Object(s.a)(e,2),n=t[0],c=t[1],i=window.localStorage;return Object(a.useEffect)((function(){i.getItem("usertoken")&&c(JSON.parse(i.getItem("usertoken")))}),[]),n?Object(_.jsx)("div",{className:"wrapper",children:Object(_.jsx)(cn.a,{children:Object(_.jsxs)(rn.a,{exact:!0,path:"/",component:an,children:[Object(_.jsx)(an,{user_token:n,logout:function(){i.removeItem("usertoken"),c(null)}})," "]})})}):Object(_.jsx)(B,{setToken:function(e){var t=JSON.stringify(e);i.setItem("usertoken",t),c(e)}})},on=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,523)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),i(e),r(e)}))};r.a.render(Object(_.jsx)(c.a.StrictMode,{children:Object(_.jsx)(sn,{})}),document.getElementById("root")),on()}},[[427,1,2]]]);
//# sourceMappingURL=main.709b85c8.chunk.js.map