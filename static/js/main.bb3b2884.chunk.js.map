{"version":3,"sources":["logo.svg","components/Signin.js","components/listItems.js","components/Title.js","components/DashTileBooks.js","components/DashTileCustomers.js","components/InfoDialog.js","components/DashTileIssued.js","components/DashFrame.js","components/BookUpdateDialog.js","components/BookIssueDialog.js","components/BookFrame.js","components/MemberUpdateDialog.js","components/MemberInsertDialog.js","components/MemberFrame.js","components/BookInfoDialog.js","components/BookImportDialog.js","components/ImportBookFrame.js","components/ReportFrame.js","components/GuestViewFrame.js","components/Dashboard.js","App.js","reportWebVitals.js","index.js"],"names":["preventDefault","event","Copyright","Typography","variant","color","align","Link","href","onClick","Date","getFullYear","useStyles","makeStyles","theme","root","height","image","backgroundImage","backgroundRepeat","backgroundColor","palette","type","grey","backgroundSize","backgroundPosition","paper","margin","spacing","display","flexDirection","alignItems","avatar","secondary","main","form","width","marginTop","submit","loginUser","credentials","a","fetch","process","method","headers","body","JSON","stringify","then","data","json","SignIn","setToken","classes","useState","userId","setUserId","psswd","setPassword","React","showError","setShowError","handleSubmit","e","token","console","log","Grid","container","component","className","CssBaseline","item","xs","sm","md","Paper","elevation","square","Avatar","noValidate","onSubmit","TextField","required","fullWidth","id","label","name","autoFocus","onChange","target","value","autoComplete","FormLabel","Button","Box","mt","mainListItems","ListItem","button","ListItemIcon","ListItemText","primary","ListSubheader","Title","props","gutterBottom","children","DashTileBooks","categorySwitch","hideLink","bookDataReady","useTheme","chartdata","setChartData","useEffect","getTopBooks","results","tmpdata","splice","length","slice","reverse","map","push","book_item","title","issued","item_count","inventory_count","checkout_count","CustomTooltip","active","payload","style","background","padding","Fragment","ResponsiveContainer","top","right","left","bottom","XAxis","dataKey","Tooltip","content","Bar","fill","hidden","depositContext","flex","DashTileCustomers","custDataReady","getCustomerRanking","member_item","first_name","last_name","amount","closeButton","position","InfoDialog","onClose","selectedValue","open","Details","prop","pairs","key","handleClose","Dialog","maxWidth","DialogTitle","IconButton","DialogContent","dividers","DialogActions","flexGrow","overflow","paddingTop","paddingBottom","tablecontainer","maxHeight","fixedHeight","checkin","checkindetils","DashTileIssued","bookBagList","setBookBagList","clsx","selectedMenuRow","setSelectedMenuRow","anchorEl","setAnchorEl","setAnchorE2","infoDialogOpen","setInfoDialogOpen","selectedInfoValue","setSelectedInfoValue","getUpdatedCheckBooks","bagrows","forEach","bag_item","status","checkinSubmit","bookId","bagId","CheckoutMenu","keepMounted","Boolean","MenuItem","row","TableContainer","Table","stickyHeader","TableHead","TableRow","TableCell","TableBody","currentTarget","handleMoreClick","authors","checkout_date","checkin_date","isbn","seeMore","DashFrame","fixedHeightPaper","Container","lg","pt","BookUpdateDialog","updateEntity","onUpdateData","replace","defaultValue","updateData","onCheckoutData","memberList","member","setMember","MemberDetails","select","helperText","option","disabled","deleteBook","url","updateBookDetails","details","checkOutBook","searchFixedHeight","createData","inventory_item","BookFrame","bookList","setBookList","searchbookList","setSearchBookList","setMemberList","deleteopen","setDeleteopen","anchorE2","updateDialogOpen","setUpdateDialogOpen","issueDialogOpen","setIssueDialogOpen","searchParams","searchDisabled","setSearchDisabled","handleAllMoreClick","checkoutsubmit","getUpdatedMemberList","getUpdatedInventory","updateSubmit","bookDetails","deleteSubmit","bookrows","memberRows","user_id","join_date","dob","role","debt","handleParamChange","undefined","AllBooksMenu","Accordion","AccordionSummary","expandIcon","AccordionDetails","srch_param","auth_param","publisher","publication_date","count","dataid","bookID","selected_member","Snackbar","anchorOrigin","vertical","horizontal","message","autoHideDuration","MemberUpdateDialog","MemberInsertDialog","onInsertData","insertinfo","extendedIcon","marginRight","deleteMember","insertMemberDetails","updateMemberDetails","MemberFrame","anchorE1","setAnchorE1","insertDialogOpen","setInsertDialogOpen","updateMemberList","memberId","memberDetails","insertSubmit","MemberMenu","Fab","BookInfoDialog","BookImportDialog","importCount","setImportCount","InputLabelProps","shrink","formgrid","importBookToSystem","ImportBookFrame","bookImportList","setBookImportList","importDialogOpen","setImportDialogOpen","importlist","queryString","importDialogData","book_data","disableElevation","ButtonGroup","showInfoDialog","Info","showImportDialog","AddCircle","ReportFrame","reportIndex","setReportIndex","reportType","setReportType","custReportData","setCustReportData","bookReportData","setBookReportData","FormControl","formControl","InputLabel","Select","labelId","csvContent","encodedUri","encodeURI","link","document","createElement","setAttribute","appendChild","click","GuestViewFrame","num_pages","average_rating","ratings_count","text_reviews_count","language_code","isbn13","toolbar","paddingRight","toolbarIcon","justifyContent","mixins","appBar","zIndex","drawer","transition","transitions","create","easing","sharp","duration","leavingScreen","appBarShift","marginLeft","enteringScreen","menuButton","menuButtonHidden","drawerPaper","whiteSpace","drawerPaperClose","overflowX","breakpoints","up","appBarSpacer","Dashboard","user_token","setOpen","category","setcategory","AppBar","Toolbar","edge","noWrap","Badge","badgeContent","Drawer","Divider","List","innerText","toLowerCase","getAttribute","tagName","parentNode","App","exact","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.bb3b2884.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","import React, { useState } from 'react';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField'; \r\nimport Link from '@material-ui/core/Link';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Box from '@material-ui/core/Box';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport FormLabel from '@material-ui/core/FormLabel';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport PropTypes from 'prop-types'; \r\n\r\n\r\nfunction preventDefault(event) {\r\n  event.preventDefault();\r\n}\r\n\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {'Copyright © '}\r\n      <Link color=\"inherit\" href=\"#\" onClick={preventDefault}>\r\n        Your Website\r\n      </Link>{' '}\r\n      {new Date().getFullYear()}\r\n      {'.'}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    height: '100vh',\r\n  },\r\n  image: {\r\n    backgroundImage: 'url(https://images.unsplash.com/photo-1481627834876-b7833e8f5570?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1682&q=80)', \r\n    backgroundRepeat: 'no-repeat',\r\n    backgroundColor:\r\n      theme.palette.type === 'light' ? theme.palette.grey[50] : theme.palette.grey[900],\r\n    backgroundSize: 'cover',\r\n    backgroundPosition: 'center',\r\n  },\r\n  paper: {\r\n    margin: theme.spacing(8, 4),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\nasync function loginUser(credentials) {\r\n    return fetch(process.env.REACT_APP_API_URL+'signin', {\r\n      method: 'POST',\r\n      headers: {\r\n        'mode':'no-cors',\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify(credentials)\r\n    })\r\n      .then(data => data.json()) \r\n   }\r\n\r\n\r\nexport default function SignIn({ setToken }) { \r\n  const classes = useStyles();\r\n  const [userId, setUserId] = useState();\r\n  const [psswd, setPassword] = useState();\r\n  const [showError, setShowError] = React.useState(false)\r\n\r\n  const handleSubmit = async e => {\r\n    e.preventDefault();\r\n\r\n    const token = await loginUser({\r\n      userId,\r\n      psswd\r\n    });\r\n    console.log(token)\r\n    if(token[\"login\"] == \"success\"){    \r\n      setToken(token);\r\n    }else setShowError(true)\r\n  }\r\n\r\n  return (\r\n    <Grid container component=\"main\" className={classes.root}>\r\n      <CssBaseline />\r\n      <Grid item xs={false} sm={4} md={7} className={classes.image}  />\r\n      <Grid item xs={12} sm={8} md={5} component={Paper} elevation={6} square>\r\n        <div className={classes.paper}>\r\n          <Avatar className={classes.avatar}>\r\n            <LockOutlinedIcon />\r\n          </Avatar>\r\n          <Typography component=\"h1\" variant=\"h5\">\r\n            Sign in\r\n          </Typography>\r\n          <form className={classes.form} noValidate onSubmit={handleSubmit}>\r\n            <TextField\r\n              variant=\"outlined\"\r\n              margin=\"normal\"\r\n              required\r\n              fullWidth\r\n              id=\"email\"\r\n              label=\"User Id\"\r\n              name=\"user_id\" \r\n              autoFocus\r\n              onChange={e => setUserId(e.target.value)}\r\n            />\r\n            <TextField\r\n              variant=\"outlined\"\r\n              margin=\"normal\"\r\n              required\r\n              fullWidth\r\n              name=\"password\"\r\n              label=\"Password\"\r\n              type=\"password\"\r\n              id=\"password\"\r\n              autoComplete=\"current-password\"\r\n              onChange={e => setPassword(e.target.value)}\r\n            />\r\n            {/* <FormControlLabel\r\n              control={<Checkbox value=\"remember\" color=\"primary\" />}\r\n              label=\"Remember me\"\r\n            /> */}\r\n            {showError ?\r\n            <FormLabel >Invalid username or password</FormLabel>: null}\r\n            <Button\r\n              type=\"submit\"\r\n              fullWidth\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              className={classes.submit}\r\n            >\r\n              Sign In\r\n            </Button>\r\n            {/* <Grid container>\r\n              <Grid item xs>\r\n                <Link href=\"#\" variant=\"body2\">\r\n                  Forgot password?\r\n                </Link>\r\n              </Grid>\r\n              <Grid item>\r\n                <Link href=\"#\" variant=\"body2\">\r\n                  {\"Don't have an account? Sign Up\"}\r\n                </Link>\r\n              </Grid>\r\n            </Grid> */}\r\n            <Box mt={5}>\r\n              <Copyright />\r\n            </Box>\r\n          </form>\r\n        </div>\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n}\r\nSignIn.propTypes = {\r\n    setToken: PropTypes.func.isRequired\r\n  }","import React from 'react';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListSubheader from '@material-ui/core/ListSubheader';\r\nimport DashboardIcon from '@material-ui/icons/Dashboard';\r\nimport ImportContacts from '@material-ui/icons/ImportContacts';\r\nimport PeopleIcon from '@material-ui/icons/People';\r\nimport BarChartIcon from '@material-ui/icons/BarChart';\r\nimport SystemUpdateAlt from '@material-ui/icons/SystemUpdateAlt';\r\nimport AssignmentIcon from '@material-ui/icons/Assignment';\r\n\r\nexport const mainListItems = (\r\n  <div>\r\n    <ListItem button name=\"Dashboard\">\r\n      <ListItemIcon name=\"Dashboard\">\r\n        <DashboardIcon />\r\n      </ListItemIcon>\r\n      <ListItemText primary=\"Dashboard\" />\r\n    </ListItem>\r\n    <ListItem button  name=\"Books\">\r\n      <ListItemIcon  name=\"Books\">\r\n        <ImportContacts />\r\n      </ListItemIcon>\r\n      <ListItemText primary=\"Books\" />\r\n    </ListItem>\r\n    <ListItem button  name=\"Members\">\r\n      <ListItemIcon  name=\"Members\">\r\n        <PeopleIcon />\r\n      </ListItemIcon>\r\n      <ListItemText primary=\"Members\" />\r\n    </ListItem>\r\n    <ListItem button  name=\"Reports\">\r\n      <ListItemIcon  name=\"Reports\">\r\n        <BarChartIcon />\r\n      </ListItemIcon>\r\n      <ListItemText primary=\"Reports\" />\r\n    </ListItem>\r\n    <ListItem button  name=\"ImportBooks\">\r\n      <ListItemIcon  name=\"ImportBooks\">\r\n        <SystemUpdateAlt />\r\n      </ListItemIcon>\r\n      <ListItemText primary=\"ImportBooks\" />\r\n    </ListItem>\r\n  </div>\r\n);\r\n\r\nexport const secondaryListItems = (\r\n  <div>\r\n    <ListSubheader inset>Saved reports</ListSubheader>\r\n    <ListItem button>\r\n      <ListItemIcon>\r\n        <AssignmentIcon />\r\n      </ListItemIcon>\r\n      <ListItemText primary=\"Current month\" />\r\n    </ListItem>\r\n    <ListItem button>\r\n      <ListItemIcon>\r\n        <AssignmentIcon />\r\n      </ListItemIcon>\r\n      <ListItemText primary=\"Last quarter\" />\r\n    </ListItem>\r\n    <ListItem button>\r\n      <ListItemIcon>\r\n        <AssignmentIcon />\r\n      </ListItemIcon>\r\n      <ListItemText primary=\"Year-end sale\" />\r\n    </ListItem>\r\n  </div>\r\n);","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nexport default function Title(props) {\r\n  return (\r\n    <Typography component=\"h2\" variant=\"h6\" color=\"primary\" gutterBottom>\r\n      {props.children}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nTitle.propTypes = {\r\n  children: PropTypes.node,\r\n};","import React from 'react';\r\nimport PropTypes from 'prop-types';  \r\nimport { useTheme } from '@material-ui/core/styles'; \r\nimport { BarChart, Bar, XAxis, Tooltip, ResponsiveContainer } from 'recharts';\r\nimport Title from './Title';\r\nimport Link from '@material-ui/core/Link';\r\n \r\n\r\nfunction preventDefault(event) {\r\n  event.preventDefault();\r\n}\r\n\r\nexport default function DashTileBooks(props) {\r\n  const { categorySwitch ,hideLink,bookDataReady} = props;\r\n  const theme = useTheme();\r\n  const [chartdata, setChartData] = React.useState([]);\r\n\r\n  React.useEffect(() => { getTopBooks ()}, []);\r\n  \r\n  const getTopBooks = ()=>{\r\n    fetch(process.env.REACT_APP_API_URL+'getTopBooks')\r\n    .then(results => results.json())\r\n    .then(data => { \r\n      let tmpdata = []\r\n      chartdata.splice(0,chartdata.length) \r\n        data[\"rank_list\"].slice(0).reverse().map((item) => {   \r\n          tmpdata.push({ name:item.book_item.title, issued : item.item_count,\r\n            inventory_count : item.inventory_count,\r\n            checkout_count : item.checkout_count  });  \r\n         });\r\n         setChartData(tmpdata)\r\n         if(bookDataReady)\r\n          bookDataReady(data)\r\n    });    \r\n  } \r\n\r\n  \r\nconst CustomTooltip = ({ active, payload, label }) => {\r\n  if (active && payload && payload.length) { \r\n    return (\r\n      <div className=\"custom-tooltip\" style={{ background:\"rgba(238, 245, 246, 0.79)\",padding:\"10\"}}> \r\n        <p className=\"label\">{`${label} `}</p>\r\n        <p className=\"label\">{`Issued: ${payload[0].payload.issued} `}</p>\r\n        <p className=\"label\">{`Available: ${payload[0].payload.inventory_count- payload[0].payload.checkout_count  }`}</p>\r\n        <p className=\"label\">{`TotalCount: ${payload[0].payload.inventory_count}`}</p> \r\n      </div>\r\n    );\r\n  }\r\n  return null;\r\n};\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Title>Top Issued Books</Title>\r\n      <ResponsiveContainer width=\"100%\" height=\"100%\"> \r\n      <BarChart  \r\n          data={chartdata}\r\n          margin={{\r\n            top: 5,\r\n            right: 5,\r\n            left: 5,\r\n            bottom: 5,\r\n          }} \r\n        > \r\n          <XAxis dataKey=\"name\" /> \r\n          <Tooltip content={<CustomTooltip/>}/> \r\n          <Bar dataKey=\"issued\" label fill=\"#8884d8\"  /> \r\n        </BarChart>\r\n      </ResponsiveContainer> \r\n      <div hidden={hideLink}>\r\n        <Link color=\"primary\" href=\"#\" onClick={(event ) => {preventDefault(event); categorySwitch(\"reports\")}}>\r\n          View All Reports\r\n        </Link>\r\n      </div>    \r\n    </React.Fragment>\r\n  );\r\n}\r\nDashTileBooks.propTypes = {\r\n  categorySwitch: PropTypes.func.isRequired,\r\n  hideLink :PropTypes.bool,\r\n  bookDataReady:PropTypes.func,\r\n};","import React from 'react';\r\nimport PropTypes from 'prop-types';  \r\nimport Link from '@material-ui/core/Link';\r\nimport { makeStyles } from '@material-ui/core/styles'; \r\nimport Title from './Title';\r\nimport { BarChart, Bar, XAxis, Tooltip,  ResponsiveContainer } from 'recharts';\r\n\r\nfunction preventDefault(event) {\r\n  event.preventDefault();\r\n}\r\n\r\nconst useStyles = makeStyles({\r\n  depositContext: {\r\n    flex: 1,\r\n  },\r\n});\r\n\r\nexport default function DashTileCustomers(props) {\r\n  const { categorySwitch,hideLink,custDataReady } = props;\r\n  const classes = useStyles();\r\n  const [chartdata, setChartData] = React.useState([]);\r\n\r\n  React.useEffect(() => { getCustomerRanking ()}, []);\r\n  \r\n  const getCustomerRanking = ()=>{\r\n    fetch(process.env.REACT_APP_API_URL+'getCustomerRanking')\r\n    .then(results => results.json())\r\n    .then(data => { \r\n      let tmpdata = []\r\n      chartdata.splice(0,chartdata.length) \r\n        data[\"rank_list\"].slice(0).reverse().map((item) => {   \r\n          tmpdata.push({ name:item.member_item.first_name+\" \"+item.member_item.last_name, amount : item.item_count });  \r\n         });\r\n         setChartData(tmpdata)\r\n         if(custDataReady)\r\n         custDataReady(data)\r\n    });    \r\n  } \r\n  return (\r\n    <React.Fragment>\r\n      <Title>Highest Paying Customers</Title>\r\n      <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n        <BarChart  \r\n            data={chartdata}\r\n            margin={{\r\n              top: 5,\r\n              right: 5,\r\n              left: 5,\r\n              bottom: 5,\r\n            }} \r\n          > \r\n            <XAxis dataKey=\"name\" /> \r\n            <Tooltip /> \r\n            <Bar dataKey=\"amount\" label fill=\"#8884d8\"  /> \r\n          </BarChart>\r\n      </ResponsiveContainer>\r\n      <div hidden={hideLink}> \r\n        <Link color=\"primary\" href=\"#\"  onClick={(event ) => {preventDefault(event); categorySwitch(\"members\")}}>\r\n          See All Member Info\r\n        </Link>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n}\r\nDashTileCustomers.propTypes = {\r\n  categorySwitch: PropTypes.func.isRequired ,\r\n  hideLink :PropTypes.bool,\r\n  custDataReady:PropTypes.func,\r\n};","import React from 'react';\r\nimport PropTypes from 'prop-types'; \r\nimport { makeStyles } from '@material-ui/core/styles'; \r\nimport {Button, Typography, IconButton} from '@material-ui/core'; \r\nimport {DialogTitle ,DialogContent,DialogActions,Dialog }from '@material-ui/core';   \r\nimport CloseIcon from '@material-ui/icons/Close';  \r\n\r\nconst useStyles =  makeStyles((theme) => ({\r\n  root: {\r\n    margin: 0,\r\n    padding: theme.spacing(2),\r\n  },\r\n  closeButton: {\r\n    position: 'absolute',\r\n    right: theme.spacing(1),\r\n    top: theme.spacing(1),\r\n    color: theme.palette.grey[500],\r\n  },\r\n}));\r\nexport default function InfoDialog(props) { \r\n  const { onClose, selectedValue, open } = props;\r\n  const classes = useStyles(); \r\n\r\n  const Details = (prop)=>{    \r\n    var pairs = [];\r\n      for(var key in prop.data){\r\n        pairs.push(<p>{key} : {prop.data[key]}</p>);\r\n      } \r\n    return ( <div className=\"Data-item\">{pairs}</div> );\r\n  }\r\n\r\n  const handleClose = () => { \r\n    onClose();\r\n  };\r\n    \r\n  return (      \r\n    <Dialog onClose={handleClose} aria-labelledby=\"simple-dialog-title\"  className={classes.root} open={open} fullWidth=\"md\" maxWidth=\"md\">\r\n      <DialogTitle id=\"simple-dialog-title\">All Information</DialogTitle>\r\n      <IconButton aria-label=\"close\" className={classes.closeButton}  onClick={onClose}>\r\n        <CloseIcon />\r\n      </IconButton>\r\n      <DialogContent dividers>      \r\n        <Typography gutterBottom >\r\n            <h2>Book Issue Details</h2>\r\n            <Details data={selectedValue!=null?selectedValue[\"bag_item\"]:{}}></Details> \r\n        </Typography>\r\n        <Typography gutterBottom >              \r\n            <h2>User Details</h2>\r\n          <Details data={selectedValue!=null?selectedValue[\"member_item\"]:{}}></Details>  \r\n        </Typography>\r\n        <Typography gutterBottom >\r\n            <h2>Book Details</h2>\r\n            <Details data={selectedValue!=null?selectedValue[\"book_item\"]:{}}></Details>           \r\n        </Typography>\r\n      </DialogContent>\r\n      \r\n      <DialogActions>\r\n        <Button autoFocus onClick={handleClose} color=\"primary\">\r\n          Close\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n} \r\nInfoDialog.propTypes = {\r\n  onClose: PropTypes.func.isRequired,\r\n  open: PropTypes.bool.isRequired,\r\n  selectedValue: PropTypes.object.isRequired,\r\n};","import React from 'react'; \r\nimport clsx from 'clsx';    \r\nimport PropTypes from 'prop-types'; \r\nimport Title from './Title';\r\nimport { makeStyles } from '@material-ui/core/styles'; \r\nimport {Table ,TableBody ,TableCell,TableContainer,TableHead,TableRow} from '@material-ui/core';  \r\nimport {Link, IconButton} from '@material-ui/core'; \r\nimport {Menu ,MenuItem} from '@material-ui/core'; \r\nimport MoreVert from '@material-ui/icons/MoreVert'; \r\nimport InfoDialog from './InfoDialog';\r\n\r\nfunction preventDefault(event) {\r\n  event.preventDefault();\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: 'flex',\r\n  },\r\n    \r\n  content: {\r\n    flexGrow: 1,\r\n    height: '100vh',\r\n    overflow: 'auto',\r\n  },\r\n  container: {\r\n    paddingTop: theme.spacing(4),\r\n    paddingBottom: theme.spacing(4),\r\n  },\r\n  tablecontainer:{\r\n      maxHeight: 500,\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(2),\r\n    display: 'flex',\r\n    overflow: 'auto',\r\n    flexDirection: 'column',\r\n  },\r\n  fixedHeight: {\r\n    height: 450,\r\n  },\r\n  \r\n}));\r\n \r\n\r\nfunction createBagData(book_item,bag_item,member_item) { \r\n  return {book_item,bag_item,member_item};\r\n}\r\n  \r\nasync function checkin(checkindetils) {\r\n  return fetch(process.env.REACT_APP_API_URL+'checkin', {\r\n    method: 'POST',\r\n    headers: {\r\n      'mode':'no-cors',\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify(checkindetils)\r\n  })\r\n    .then(data => data.json()) \r\n}\r\n\r\nexport default function DashTileIssued(props) {\r\n  const { categorySwitch } = props;\r\n  const classes = useStyles();\r\n  const [bookBagList, setBookBagList] = React.useState([]);\r\n  const fixedHeightPaper = clsx(classes.paper, classes.fixedHeight); \r\n  const [selectedMenuRow, setSelectedMenuRow] = React.useState();\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n  const [anchorE2, setAnchorE2] = React.useState(null);\r\n  const [infoDialogOpen, setInfoDialogOpen] = React.useState(false);\r\n  const [selectedInfoValue, setSelectedInfoValue] = React.useState(null); \r\n  React.useEffect(() => { getUpdatedCheckBooks ()}, []);\r\n\r\n    const handleClose = () => {\r\n      setAnchorEl(null); \r\n      setAnchorE2(null); \r\n      setInfoDialogOpen(false);\r\n    };\r\n  const getUpdatedCheckBooks = ()=>{\r\n    fetch(process.env.REACT_APP_API_URL+'getCheckedBooks')\r\n    .then(results => results.json())\r\n    .then(data => { \r\n      bookBagList.splice(0,bookBagList.length)\r\n      let bagrows=[]\r\n      data[\"booklist\"].forEach((item) => {   \r\n        if(item.bag_item.status)\r\n          bagrows.push(createBagData(  item.book_item,item.bag_item,item.member_item)); \r\n       });\r\n       setBookBagList(bagrows)\r\n    });    \r\n  }\r\n\r\n  const handleMoreClick = (event,row) => {\r\n    setSelectedMenuRow(row) \r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const showBookInfo = (row) => { \r\n    setSelectedInfoValue(row)\r\n    setInfoDialogOpen(true)\r\n    setAnchorE2(null);\r\n  };\r\n\r\n  const returnbook = (row) => {   \r\n    checkinSubmit(row[\"member_item\"][\"id\"],row[\"book_item\"][\"bookID\"],row[\"bag_item\"][\"bagId\"])       \r\n    setAnchorEl(null);\r\n  };\r\n  const checkinSubmit = async (userId,bookId,bagId) => {  \r\n    const data = await checkin({\r\n      userId,\r\n      bookId,\r\n      bagId\r\n    }); \r\n     if(data[\"status\"] == \"success\"){   \r\n      getUpdatedCheckBooks()\r\n     } \r\n  }\r\n  function CheckoutMenu(){\r\n    return (<Menu\r\n         id=\"issuebook-menu\"\r\n         anchorEl={anchorEl}\r\n         keepMounted\r\n         open={Boolean(anchorEl)}\r\n         onClose={handleClose}\r\n       >\r\n       <MenuItem onClick={()=>{returnbook(selectedMenuRow)}}>Return Book</MenuItem>\r\n       <MenuItem onClick={()=> {showBookInfo(selectedMenuRow)}}>See All Info</MenuItem> \r\n     </Menu>);\r\n   }\r\n  return (\r\n    <React.Fragment>  \r\n    <Title>Issued Books </Title>            \r\n      <TableContainer className={classes.tablecontainer}>\r\n        <Table  stickyHeader aria-label=\"sticky table\">\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell width=\"5%\">  </TableCell> \r\n              <TableCell width=\"30%\"> Title </TableCell>\r\n              <TableCell width=\"20%\"> Authors </TableCell> \r\n              <TableCell width=\"20%\"> Member</TableCell> \r\n              <TableCell width=\"10%\"> Status </TableCell> \r\n              <TableCell width=\"30%\"> Issue Date </TableCell> \r\n              <TableCell width=\"40%\"> ReturnDate </TableCell> \r\n              <TableCell width=\"15%\"> ISBN</TableCell>  \r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n          {bookBagList.map((row) => (              \r\n            <TableRow key={row.bag_item.bagId}>\r\n                <TableCell  width=\"5%\">\r\n                    <IconButton aria-controls=\"simple-menu\" aria-haspopup=\"true\" onClick={(event ) => {handleMoreClick(event, row) }} > \r\n                        <MoreVert/>\r\n                    </IconButton>\r\n                    <CheckoutMenu></CheckoutMenu>\r\n                </TableCell> \r\n                <TableCell width=\"30%\">{row.book_item.title}</TableCell>\r\n                <TableCell width=\"20%\">{row.book_item.authors}</TableCell> \r\n                <TableCell width=\"20%\">{row.member_item.first_name + \" \" +row.member_item.last_name}</TableCell> \r\n                <TableCell width=\"10%\">{row.bag_item.status==1?\"Issued\":\"Returned\"}</TableCell> \r\n                <TableCell width=\"30%\">{row.bag_item.checkout_date}</TableCell> \r\n                <TableCell width=\"40%\">{row.bag_item.checkin_date?row.bag_item.checkin_date:\"-\"}</TableCell> \r\n                <TableCell width=\"10%\">{row.book_item.isbn}</TableCell>  \r\n            </TableRow>\r\n          ))}\r\n          </TableBody> \r\n        </Table> \r\n        </TableContainer> \r\n      <div className={classes.seeMore}>\r\n        <Link color=\"primary\" href=\"#\" onClick={(event ) => {preventDefault(event); categorySwitch(\"books\")}} >\r\n          See All Book Details\r\n        </Link>\r\n      </div>\r\n      <InfoDialog selectedValue={selectedInfoValue} open={infoDialogOpen} onClose={handleClose} />  \r\n    </React.Fragment>\r\n  );\r\n}\r\nDashTileIssued.propTypes = {\r\n  categorySwitch: PropTypes.func.isRequired \r\n};","import React from 'react';\r\nimport clsx from 'clsx';\r\nimport PropTypes from 'prop-types';  \r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport {Paper,Grid,Typography,Container,Box} from '@material-ui/core'; \r\nimport {Link} from '@material-ui/core';  \r\nimport DashTileBooks from './DashTileBooks';\r\nimport DashTileCustomers from './DashTileCustomers';\r\nimport DashTileIssued from './DashTileIssued'; \r\n\r\nfunction preventDefault(event) {\r\n  event.preventDefault();\r\n}\r\nfunction Copyright() {\r\n    return (\r\n      <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n        {'Copyright © '}\r\n        <Link color=\"inherit\" href=\"#\" onClick={preventDefault}>\r\n          Your Website\r\n        </Link>{' '}\r\n        {new Date().getFullYear()}\r\n        {'.'}\r\n      </Typography>\r\n    );\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({     \r\n  content: {\r\n    flexGrow: 1,\r\n    height: '100vh',\r\n    overflow: 'auto',\r\n  },\r\n  container: {\r\n    paddingTop: theme.spacing(4),\r\n    paddingBottom: theme.spacing(4),\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(2),\r\n    display: 'flex',\r\n    overflow: 'auto',\r\n    flexDirection: 'column',\r\n  },\r\n  fixedHeight: {\r\n    height: 350,\r\n  },\r\n}));\r\n\r\nexport default function DashFrame(props) {\r\n  const { categorySwitch } = props;\r\n  const classes = useStyles();\r\n  const fixedHeightPaper = clsx(classes.paper, classes.fixedHeight);\r\n  return(\r\n   <Container maxWidth=\"lg\" className={classes.container}>\r\n      <Grid container spacing={3}>\r\n        {/* Chart */}\r\n        <Grid item xs={12} md={8} lg={8}>\r\n          <Paper className={fixedHeightPaper}>\r\n            <DashTileBooks categorySwitch ={categorySwitch}/>\r\n          </Paper>\r\n        </Grid>\r\n        {/* Recent Deposits */}\r\n        <Grid item xs={12} md={4} lg={4}>\r\n          <Paper className={fixedHeightPaper} >\r\n            <DashTileCustomers categorySwitch ={categorySwitch}/>\r\n          </Paper>\r\n        </Grid>\r\n        {/* Recent Orders */}\r\n        <Grid item xs={12}>\r\n          <Paper className={classes.paper}>\r\n            <DashTileIssued  categorySwitch ={categorySwitch}/>\r\n          </Paper>\r\n        </Grid>\r\n      </Grid>\r\n      <Box pt={4}>\r\n        <Copyright />\r\n      </Box>\r\n    </Container>\r\n  )\r\n}\r\nDashFrame.propTypes = {\r\n  categorySwitch: PropTypes.func.isRequired \r\n};","import React from 'react';\r\nimport PropTypes from 'prop-types'; \r\nimport { makeStyles } from '@material-ui/core/styles';  \r\nimport {Grid,Paper,Button, Typography, IconButton,TextField} from '@material-ui/core'; \r\nimport {DialogTitle ,DialogContent,DialogActions,Dialog }from '@material-ui/core';   \r\nimport CloseIcon from '@material-ui/icons/Close';  \r\n \r\n\r\nconst useStyles =  makeStyles((theme) => ({\r\n  root: {\r\n    margin: 0,\r\n    padding: theme.spacing(2),\r\n  },\r\n  closeButton: {\r\n    position: 'absolute',\r\n    right: theme.spacing(1),\r\n    top: theme.spacing(1),\r\n    color: theme.palette.grey[500],\r\n  },\r\n}));\r\n\r\nexport default function BookUpdateDialog(props) { \r\n  let updateEntity;\r\n  const { onClose, selectedValue, open, onUpdateData } = props; \r\n  const classes = useStyles(); \r\n  const Details = (prop)=>{      \r\n    var pairs = [];\r\n      for(var key in prop.data){\r\n        if(key!=\"bookID\")\r\n        pairs.push(\r\n          <TextField\r\n          autoFocus\r\n          margin=\"dense\"\r\n          id= {key}\r\n          label= {key.replace(\"_\",\" \")} \r\n          fullWidth \r\n          defaultValue = {prop.data[key]}\r\n          onChange={(event)=>updateData(event)}                  \r\n        /> \r\n        ) \r\n      } \r\n    return (\r\n            <div className=\"Data-item\">{pairs}</div>\r\n    );\r\n  }\r\n  \r\n  const updateData = (event) => { \r\n    if(updateEntity==null)\r\n      updateEntity=selectedValue[\"book_item\"]\r\n    updateEntity[event.target.id]=event.target.value  \r\n  };\r\n  const handleClose = () => { \r\n          onClose();\r\n  }; \r\n\r\n  const updateBook = () => { \r\n    if(updateEntity)\r\n      onUpdateData(updateEntity)      \r\n    onClose();\r\n  }; \r\n  return (\r\n      \r\n    <Dialog onClose={handleClose} aria-labelledby=\"simple-dialog-title\" className={classes.root} open={open} fullWidth=\"md\" maxWidth=\"md\">\r\n      <DialogTitle id=\"simple-dialog-title\">Update Book Info</DialogTitle>\r\n      <IconButton aria-label=\"close\" className={classes.closeButton}  onClick={handleClose}>\r\n        <CloseIcon />\r\n      </IconButton>\r\n      <DialogContent dividers>     \r\n        <Typography gutterBottom > \r\n            <Details data={selectedValue!=null?selectedValue[\"book_item\"]:{}}></Details>           \r\n        </Typography>\r\n      </DialogContent>\r\n      \r\n      <DialogActions>\r\n        <Button autoFocus onClick={handleClose} color=\"primary\">\r\n          Close\r\n        </Button>\r\n        <Button autoFocus onClick={updateBook} color=\"primary\">\r\n          Update\r\n        </Button>\r\n      </DialogActions>\r\n\r\n    </Dialog>\r\n  );\r\n}  \r\nBookUpdateDialog.propTypes = {\r\n  onClose: PropTypes.func.isRequired,   \r\n  onUpdateData: PropTypes.func.isRequired,   \r\n  open: PropTypes.bool.isRequired,\r\n  selectedValue: PropTypes.object.isRequired,\r\n};","import React from 'react';\r\nimport PropTypes from 'prop-types'; \r\nimport { makeStyles } from '@material-ui/core/styles';  \r\nimport {Grid,Paper,Button, IconButton,TextField} from '@material-ui/core'; \r\nimport {DialogTitle ,DialogContent,DialogActions,Dialog,MenuItem }from '@material-ui/core';   \r\nimport CloseIcon from '@material-ui/icons/Close';  \r\n \r\n\r\nconst useStyles =  makeStyles((theme) => ({\r\n  root: {\r\n    margin: 0,\r\n    padding: theme.spacing(2),\r\n  },\r\n  closeButton: {\r\n    position: 'absolute',\r\n    right: theme.spacing(1),\r\n    top: theme.spacing(1),\r\n    color: theme.palette.grey[500],\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(1),\r\n    display: 'flex',\r\n    overflow: 'auto',\r\n    flexDirection: 'column',\r\n  },\r\n}));\r\n\r\nexport default function BookUpdateDialog(props) { \r\n  const { onClose, selectedValue, open, onCheckoutData,memberList } = props; \r\n  const [member, setMember] = React.useState( null);\r\n  const classes = useStyles();  \r\n\r\n  const Details = (prop)=>{    \r\n    var pairs = [];\r\n      for(var key in prop.data){\r\n        pairs.push(<p>{key} : {prop.data[key]}</p>);\r\n      } \r\n    return (\r\n            <div className=\"Data-item\">{pairs}</div>\r\n    );\r\n  }\r\n\r\n  const MemberDetails = (prop)=>{    \r\n    var pairs = [];\r\n      for(var key in prop.data){\r\n        pairs.push(<p>{key} : {prop.data[key]}</p>);\r\n      } \r\n    return (\r\n            <div className=\"Data-item\">{pairs}</div>\r\n    );\r\n  }\r\n  \r\n  const checkoutData = () => {   \r\n    let updateEntity=[]\r\n    updateEntity[\"book_item\"]=selectedValue[\"book_item\"]\r\n    updateEntity[\"selected_member\"]=member \r\n    onCheckoutData(updateEntity)\r\n    handleClose()\r\n  };\r\n\r\n  const handleClose = () => { \r\n          onClose();\r\n  }; \r\n\r\n\r\n\r\n  const handleMemberChange = (event) => { \r\n    setMember(event.target.value);\r\n  };\r\n  const checkAvailable=()=>{\r\n    return selectedValue!=null?selectedValue[\"inventory_item\"]!=null?selectedValue[\"inventory_item\"][\"checkout_count\"] \r\n    <selectedValue[\"inventory_item\"][\"count\"]:false:false\r\n  }\r\n\r\n  React.useEffect(() => { \r\n    setMember(memberList[0])\r\n  },[]\r\n  )\r\n  return (\r\n      \r\n  <Dialog onClose={handleClose} aria-labelledby=\"simple-dialog-title\" className={classes.root} open={open} fullWidth=\"md\" maxWidth=\"md\">\r\n    <DialogTitle id=\"simple-dialog-title\">Issue Book</DialogTitle>\r\n    <IconButton aria-label=\"close\" className={classes.closeButton}  onClick={handleClose}>\r\n      <CloseIcon />\r\n    </IconButton>\r\n    <DialogContent dividers>    \r\n    <Grid container spacing={3}> \r\n    <Grid item xs={12} md={4} lg={6}> \r\n      {/* <Typography gutterBottom >  */}\r\n      <Paper className={classes.paper} elevation={3}>\r\n      {!checkAvailable()?\r\n        <div>Copy Not Available</div> :\r\n        <div> \r\n          <TextField\r\n            id=\"member-list\"\r\n            select\r\n            label=\"Select Member\"\r\n            value={member}\r\n            onChange={handleMemberChange}\r\n            helperText=\"Please select member\"\r\n          >\r\n          {memberList.map((option) => (\r\n            <MenuItem key={option.id} value={option}>\r\n            {option.first_name +\" \"+ option.last_name}\r\n            </MenuItem>\r\n          ))\r\n          }\r\n          </TextField>\r\n        </div>            \r\n      }\r\n      </Paper>\r\n      <Paper className={classes.paper} elevation={3} style={{marginTop:\"20px\"}}>\r\n      <h3>Member Details</h3>\r\n      <MemberDetails data={member!=null?member:{}}>  </MemberDetails>   \r\n\r\n      </Paper>\r\n      {/* </Typography> */}\r\n      </Grid>\r\n      <Grid item xs={12} md={4} lg={6}>  \r\n        <Paper className={classes.paper} elevation={3}>\r\n          <h3>Books Details</h3>\r\n          <Details data={selectedValue!=null?selectedValue[\"book_item\"]:{}}></Details>         \r\n        </Paper>\r\n      </Grid>\r\n      </Grid> \r\n    </DialogContent>\r\n    \r\n    <DialogActions>\r\n      <Button autoFocus onClick={handleClose} color=\"primary\">\r\n        Close\r\n      </Button>\r\n      <Button autoFocus onClick={checkoutData} color=\"primary\" disabled={member==null}>\r\n        Issue Book\r\n      </Button>\r\n    </DialogActions> \r\n  </Dialog>\r\n  );\r\n}  \r\nBookUpdateDialog.propTypes = {\r\n  onClose: PropTypes.func.isRequired,   \r\n  onCheckoutData: PropTypes.func.isRequired,   \r\n  open: PropTypes.bool.isRequired,\r\n  selectedValue: PropTypes.object.isRequired,\r\n  memberList: PropTypes.object.isRequired\r\n};","import React from 'react';\r\nimport clsx from 'clsx';\r\nimport Title from './Title';\r\nimport { makeStyles } from '@material-ui/core/styles';  \r\nimport {Paper,Grid,Typography,Container,Box} from '@material-ui/core';\r\nimport {Table,TableBody,TableCell,TableContainer,TableHead,TableRow} from '@material-ui/core';  \r\nimport {Link,Button,IconButton,Snackbar,TextField} from '@material-ui/core'; \r\nimport {Menu,MenuItem} from '@material-ui/core'; \r\nimport {Accordion,AccordionSummary,AccordionDetails} from '@material-ui/core';\r\n\r\nimport MoreVert from '@material-ui/icons/MoreVert'; \r\nimport InfoDialog from './InfoDialog';\r\nimport BookUpdateDialog from'./BookUpdateDialog';\r\nimport BookIssueDialog from'./BookIssueDialog';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\n\r\n\r\nfunction preventDefault(event) {\r\n  event.preventDefault();\r\n}\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {'Copyright © '}\r\n      <Link color=\"inherit\" href=\"#\" onClick={preventDefault}>\r\n        Your Website\r\n      </Link>{' '}\r\n      {new Date().getFullYear()}\r\n      {'.'}\r\n    </Typography>\r\n  );\r\n}\r\n  \r\nasync function deleteBook(bookId) {\r\n  let url = process.env.REACT_APP_API_URL+'deleteBook?bookId=' + bookId; \r\n  return fetch(url)  \r\n    .then(data => data.json()) \r\n }\r\n\r\nasync function checkin(checkindetils) {\r\n  return fetch(process.env.REACT_APP_API_URL+'checkin', {\r\n    method: 'POST',\r\n    headers: {\r\n      'mode':'no-cors',\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify(checkindetils)\r\n  })\r\n    .then(data => data.json()) \r\n }\r\n\r\n async function updateBookDetails(details) {  \r\n  return fetch(process.env.REACT_APP_API_URL+'updateBookDetails', {\r\n    method: 'POST',\r\n    headers: {\r\n      'mode':'no-cors',\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify(details)\r\n  })\r\n  .then(data => data.json()) \r\n }\r\n  \r\n async function checkOutBook(details) { \r\n  return fetch(process.env.REACT_APP_API_URL+'checkout', {\r\n    method: 'POST',\r\n    headers: {\r\n      'mode':'no-cors',\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify(details)\r\n  })\r\n  .then(data => data.json()) \r\n } \r\n\r\nconst useStyles = makeStyles((theme) => ({ \r\n    container: {\r\n      paddingTop: theme.spacing(4),\r\n      paddingBottom: theme.spacing(4),\r\n    },\r\n    tablecontainer:{\r\n        maxHeight: 500,\r\n    },\r\n    paper: {\r\n      padding: theme.spacing(2),\r\n      display: 'flex',\r\n      overflow: 'auto',\r\n      flexDirection: 'column',\r\n    },\r\n    fixedHeight: {\r\n      height: 450,\r\n    },\r\n    searchFixedHeight: {\r\n        height: 150,\r\n    }, \r\n     \r\n  }));\r\n\r\n  function createData(book_item, inventory_item) {\r\n    return {book_item, inventory_item};\r\n  }\r\n\r\n  function createBagData(book_item,bag_item,member_item) { \r\n    return {book_item,bag_item,member_item};\r\n  }\r\n  function createMemberData(id,user_id,join_date,first_name,last_name,dob,role,debt) {  \r\n    return {id,user_id,join_date,first_name,last_name,dob,role,debt};\r\n  }\r\n    \r\n\r\nexport default function BookFrame() {\r\n    const classes = useStyles(); \r\n    const fixedHeightPaper = clsx(classes.paper, classes.fixedHeight);\r\n    const searchFixedHeight = clsx(classes.paper, classes.searchFixedHeight); \r\n    const [bookBagList, setBookBagList] = React.useState([]);\r\n    const [bookList, setBookList] = React.useState([]);\r\n    const [searchbookList, setSearchBookList] = React.useState([]);\r\n    const [memberList, setMemberList] = React.useState([]);\r\n    const [selectedMenuRow, setSelectedMenuRow] = React.useState();\r\n    const [deleteopen, setDeleteopen] = React.useState();\r\n    const [anchorEl, setAnchorEl] = React.useState(null);\r\n    const [anchorE2, setAnchorE2] = React.useState(null);\r\n    const [infoDialogOpen, setInfoDialogOpen] = React.useState(false);\r\n    const [updateDialogOpen, setUpdateDialogOpen] = React.useState(false);\r\n    const [issueDialogOpen, setIssueDialogOpen] = React.useState(false);\r\n    const [selectedInfoValue, setSelectedInfoValue] = React.useState(null); \r\n    const [searchParams, setSearchParams] = React.useState({}); \r\n    const [searchDisabled, setSearchDisabled] = React.useState(true); \r\n  \r\n    const handleClose = () => {\r\n      setAnchorEl(null);\r\n      setAnchorE2(null);\r\n      setInfoDialogOpen(false)\r\n      setUpdateDialogOpen(false)\r\n      setIssueDialogOpen(false)\r\n    };\r\n\r\n    function updateDialogData(data){   \r\n      let dataid= data[\"bookID\"]\r\n      delete data.bookID;\r\n      updateSubmit(dataid,data)\r\n    };\r\n  \r\n    function issueDialogData(data){ \r\n      checkoutsubmit(data.selected_member.id,data.book_item.bookID)\r\n    };\r\n\r\n    const handleMoreClick = (event,row) => {\r\n      setSelectedMenuRow(row) \r\n      setAnchorEl(event.currentTarget);\r\n    };\r\n    const handleAllMoreClick = (event,row) => {\r\n      setSelectedMenuRow(row) \r\n      setAnchorE2(event.currentTarget);\r\n    };\r\n\r\n    const checkoutsubmit = async (userId,bookId) => {  \r\n      const data = await checkOutBook({ userId, bookId }); \r\n       if(data[\"status\"] == \"success\"){   \r\n          getUpdatedMemberList()\r\n          getUpdatedInventory()\r\n          getUpdatedCheckBooks()\r\n       } \r\n    }\r\n    const updateSubmit = async (bookId,bookDetails) => {  \r\n      const data = await updateBookDetails({ bookId,  bookDetails }); \r\n       if(data[\"status\"] == \"success\"){   \r\n        getUpdatedMemberList()\r\n        getUpdatedInventory()\r\n        getUpdatedCheckBooks() \r\n       } \r\n    }\r\n    const checkinSubmit = async (userId,bookId,bagId) => {  \r\n      const data = await checkin({ userId, bookId, bagId  }); \r\n       if(data[\"status\"] == \"success\"){  \r\n        getUpdatedMemberList()\r\n        getUpdatedInventory()\r\n        getUpdatedCheckBooks()\r\n       } \r\n    }\r\n    const deleteSubmit = async (bookId) => {  \r\n      const data = await deleteBook( bookId ); \r\n       if(data[\"status\"] == \"success\"){   \r\n        setDeleteopen(true)\r\n       } \r\n    }\r\n\r\n    const deletebook = (row) => {       \r\n      deleteSubmit(row[\"book_item\"][\"bookID\"])       \r\n      setAnchorE2(null);\r\n    };\r\n\r\n    const returnbook = (row) => {   \r\n      if(row[\"bag_item\"][\"status\"]==\"1\")\r\n        checkinSubmit(row[\"member_item\"][\"id\"],row[\"book_item\"][\"bookID\"],row[\"bag_item\"][\"bagId\"])       \r\n      setAnchorEl(null);\r\n    };\r\n  \r\n    const updatebook = (row) => {  \r\n      setSelectedInfoValue(row)\r\n      setUpdateDialogOpen(true)    \r\n      setAnchorE2(null);\r\n    };\r\n    const issuebook = (row) => {  \r\n      setSelectedInfoValue(row)\r\n      setIssueDialogOpen(true)    \r\n      setAnchorE2(null);\r\n    };\r\n    const showBookInfo = (row) => { \r\n      setSelectedInfoValue(row)\r\n      setInfoDialogOpen(true)\r\n      setAnchorE2(null);\r\n    };\r\n\r\n    const getUpdatedCheckBooks = ()=>{\r\n      fetch(process.env.REACT_APP_API_URL+'getCheckedBooks')\r\n      .then(results => results.json())\r\n      .then(data => { \r\n        bookBagList.splice(0,bookBagList.length)\r\n        let bagrows=[]\r\n        data[\"booklist\"].forEach((item) => {   \r\n          bagrows.push(createBagData(  item.book_item,item.bag_item,item.member_item)); \r\n         });\r\n         setBookBagList(bagrows)\r\n      });    \r\n    }\r\n    const getUpdatedInventory = ()=>{ \r\n      fetch(process.env.REACT_APP_API_URL+'getBooksInventory')\r\n      .then(results => results.json())\r\n      .then(data => {\r\n        bookList.splice(0,bookList.length)\r\n        let bookrows=[] \r\n          data[\"booklist\"].forEach((item) => { \r\n            bookrows.push(createData(item.book_item,item.inventory_item)); \r\n        });\r\n      setBookList(bookrows) \r\n      });\r\n    }\r\n\r\n    const getUpdatedMemberList =()=>{\r\n      fetch(process.env.REACT_APP_API_URL+'getMemberList')\r\n      .then(results => results.json())\r\n      .then(data => {  \r\n          memberList.splice(0,memberList.length)\r\n          let memberRows=[]\r\n          data[\"memberlist\"].forEach((item) => {   \r\n            memberRows.push(createMemberData(item.id,item.user_id,item.join_date,item.first_name,item.last_name,item.dob,item.role,item.debt));\r\n          }); \r\n         setMemberList(memberRows) \r\n      }); \r\n    }\r\n\r\n    const searchBooks =()=>{\r\n      let srch_param = searchParams[\"title\"]?searchParams[\"title\"]:\"\"\r\n      let auth_param = searchParams[\"authors\"]?searchParams[\"authors\"]:\"\"\r\n      fetch(process.env.REACT_APP_API_URL+'quickBookSearch'+\"?book_q=\"+srch_param+\"&auth_q=\"+auth_param)\r\n      .then(results => results.json())\r\n      .then(data => {  \r\n          searchbookList.splice(0,searchbookList.length) \r\n          let bookrows=[] \r\n          data[\"booklist\"].forEach((item) => { \r\n            bookrows.push(createData(item.book_item,item.inventory_item)); \r\n          });\r\n          setSearchBookList(bookrows) \r\n      }); \r\n    }\r\n    React.useEffect(() => { getUpdatedCheckBooks ()}, []);\r\n    \r\n    React.useEffect(() => {getUpdatedInventory ()}, []);\r\n   \r\n    React.useEffect(() => {getUpdatedMemberList()}, []);\r\n    \r\n    function CheckoutMenu(){\r\n     return (<Menu\r\n          id=\"issuebook-menu\"\r\n          anchorEl={anchorEl}\r\n          keepMounted\r\n          open={Boolean(anchorEl)}\r\n          onClose={handleClose}\r\n        >\r\n        <MenuItem onClick={()=>{returnbook(selectedMenuRow)}}>Return Book</MenuItem>\r\n        <MenuItem onClick={()=> {showBookInfo(selectedMenuRow)}}>See All Info</MenuItem> \r\n      </Menu>);\r\n    }\r\n    const handleParamChange=(event)=>{\r\n      let id = (event.target.id).replace(\"-input\",\"\")      \r\n      if(event.target.value==\"\")\r\n        delete  searchParams[id]\r\n      else searchParams[id]=event.target.value \r\n      setSearchDisabled(searchParams?(searchParams[\"title\"]==undefined&&searchParams[\"authors\"]==undefined):true)\r\n    }\r\n\r\n     \r\n    function AllBooksMenu(){\r\n      return (<Menu id=\"booklist-menu\"  anchorEl={anchorE2}  keepMounted open={Boolean(anchorE2)} onClose={handleClose} >\r\n         <MenuItem onClick={()=>{issuebook(selectedMenuRow)}}>Issue Book</MenuItem>\r\n         <MenuItem onClick={()=>{updatebook(selectedMenuRow)}}>Update Book Info</MenuItem>\r\n         <MenuItem onClick={()=> {deletebook(selectedMenuRow)}}>Delete this Book</MenuItem> \r\n       </Menu>);\r\n     }\r\n\r\n    return(\r\n     <Container maxWidth=\"lg\" className={classes.container}>\r\n        <Grid container spacing={3}> \r\n        <Grid item xs={12} md={4} lg={12}>          \r\n          <Accordion> \r\n            <AccordionSummary id=\"panel1a-header\"  aria-controls=\"panel1a-content\" expandIcon={<ExpandMoreIcon />}    >\r\n              <Title>Quick Search</Title>\r\n            </AccordionSummary>\r\n            <AccordionDetails>\r\n              <Grid item container>\r\n                <Grid item xs={3}>\r\n                  <TextField  id=\"title-input\"  label=\"Title\" variant=\"outlined\"  type=\"text\" onChange={handleParamChange} />\r\n                </Grid>\r\n                <Grid item xs={3}>\r\n                  <TextField  id=\"authors-input\"  label=\"Author\"  variant=\"outlined\" type=\"text\" onChange={handleParamChange}/>                 \r\n                </Grid>\r\n                <Grid item xs={1}>\r\n                  <Button variant=\"contained\" lg color=\"primary\" style={{height:\"100%\"}} disabled={searchDisabled} onClick={searchBooks}>\r\n                  Search  \r\n                  </Button>  \r\n                  </Grid>\r\n                <Grid item xs={3}>\r\n                  <Button variant=\"contained\" lg color=\"accent\" style={{height:\"100%\"}} preventDefault onClick={()=>{setSearchBookList([])}}   >\r\n                  Clear Search  \r\n                  </Button>              \r\n                </Grid> \r\n                <Grid item xs={2}> \r\n                  <Typography >{searchbookList.length +\"  Search results\"}</Typography>  \r\n                </Grid>            \r\n              </Grid> \r\n              \r\n            </AccordionDetails>            \r\n              <Grid item xs={12} md={4} lg={12}>\r\n              {searchbookList.length==0?null:\r\n                 <Paper className={fixedHeightPaper}>                      \r\n                    <TableContainer className={classes.tablecontainer}>\r\n                    <Table  stickyHeader aria-label=\"sticky table\">\r\n                        <TableHead>\r\n                            <TableRow>\r\n                              <TableCell>  </TableCell> \r\n                              <TableCell width=\"30%\"> Title </TableCell>\r\n                              <TableCell> Authors </TableCell> \r\n                              <TableCell> Publisher </TableCell> \r\n                              <TableCell width=\"20%\"> Publication date </TableCell> \r\n                              <TableCell width=\"15%\"> No. of books </TableCell> \r\n                              <TableCell width=\"15%\"> No. Issued books </TableCell> \r\n                              <TableCell width=\"5%\"> ISBN</TableCell>  \r\n                            </TableRow>\r\n                        </TableHead>\r\n                        <TableBody>\r\n                        {searchbookList.map((row) => (\r\n                            \r\n                            <TableRow key={row.book_item.isbn}>\r\n                              <TableCell>\r\n                                  <IconButton onClick={(event ) => {handleAllMoreClick(event, row) }}> \r\n                                      <MoreVert/>\r\n                                  </IconButton>\r\n                                  <AllBooksMenu/>\r\n                              </TableCell> \r\n                              <TableCell  >  {row.book_item.title}  </TableCell>\r\n                              <TableCell>{row.book_item.authors}</TableCell> \r\n                              <TableCell>{row.book_item.publisher}</TableCell> \r\n                              <TableCell>{row.book_item.publication_date}</TableCell> \r\n                              <TableCell>{row.inventory_item.count}</TableCell> \r\n                              <TableCell>{row.inventory_item.checkout_count}</TableCell> \r\n                              <TableCell>{row.book_item.isbn}</TableCell>  \r\n                            </TableRow>\r\n                        ))}\r\n                        </TableBody> \r\n                    </Table> \r\n                    </TableContainer>\r\n                </Paper>}\r\n              </Grid>\r\n          </Accordion> \r\n        </Grid>\r\n            <Grid item xs={12} md={4} lg={12}>\r\n            <Paper className={fixedHeightPaper}>            \r\n              <Title>Checked Books </Title>            \r\n                <TableContainer className={classes.tablecontainer}>\r\n                  <Table  stickyHeader aria-label=\"sticky table\">\r\n                    <TableHead>\r\n                      <TableRow>\r\n                          <TableCell width=\"5%\">  </TableCell> \r\n                          <TableCell width=\"30%\"> Title </TableCell>\r\n                          <TableCell width=\"20%\"> Authors </TableCell> \r\n                          <TableCell width=\"20%\"> Member</TableCell> \r\n                          <TableCell width=\"10%\"> Status </TableCell> \r\n                          <TableCell width=\"30%\"> Issue Date </TableCell> \r\n                          <TableCell width=\"40%\"> ReturnDate </TableCell> \r\n                          <TableCell width=\"15%\"> ISBN</TableCell>  \r\n                      </TableRow>\r\n                      </TableHead>\r\n                      <TableBody>\r\n                      {bookBagList.map((row) => (\r\n                          \r\n                        <TableRow key={row.bag_item.bagId}>\r\n                          <TableCell  width=\"5%\">\r\n                              <IconButton aria-controls=\"simple-menu\" aria-haspopup=\"true\"  onClick={(event ) => {handleMoreClick(event, row) }}> \r\n                                  <MoreVert/>\r\n                              </IconButton>\r\n                              <CheckoutMenu></CheckoutMenu>\r\n                          </TableCell> \r\n                          <TableCell width=\"30%\">{row.book_item.title}</TableCell>\r\n                          <TableCell width=\"20%\">{row.book_item.authors}</TableCell> \r\n                          <TableCell width=\"20%\">{row.member_item.first_name + \" \" +row.member_item.last_name}</TableCell> \r\n                          <TableCell width=\"10%\">{row.bag_item.status==1?\"Issued\":\"Returned\"}</TableCell> \r\n                          <TableCell width=\"30%\">{row.bag_item.checkout_date}</TableCell> \r\n                          <TableCell width=\"40%\">{row.bag_item.checkin_date?row.bag_item.checkin_date:\"-\"}</TableCell> \r\n                          <TableCell width=\"10%\">{row.book_item.isbn}</TableCell>  \r\n                        </TableRow>\r\n                      ))}\r\n                      </TableBody> \r\n                  </Table> \r\n                  </TableContainer>\r\n                </Paper>\r\n            </Grid>\r\n             \r\n            <Grid item xs={12} md={8} lg={12}>\r\n                <Paper className={fixedHeightPaper}>            \r\n                    <Title>All Books </Title>            \r\n                    <TableContainer className={classes.tablecontainer}>\r\n                    <Table  stickyHeader aria-label=\"sticky table\">\r\n                        <TableHead>\r\n                            <TableRow>\r\n                              <TableCell>  </TableCell> \r\n                              <TableCell width=\"30%\"> Title </TableCell>\r\n                              <TableCell> Authors </TableCell> \r\n                              <TableCell> Publisher </TableCell> \r\n                              <TableCell width=\"20%\"> Publication date </TableCell> \r\n                              <TableCell width=\"15%\"> No. of books </TableCell> \r\n                              <TableCell width=\"15%\"> No. Issued books </TableCell> \r\n                              <TableCell width=\"5%\"> ISBN</TableCell>  \r\n                            </TableRow>\r\n                        </TableHead>\r\n                        <TableBody>\r\n                        {bookList.map((row) => (\r\n                            \r\n                            <TableRow key={row.book_item.isbn}>\r\n                              <TableCell>\r\n                                  <IconButton onClick={(event ) => {handleAllMoreClick(event, row) }}> \r\n                                      <MoreVert/>\r\n                                  </IconButton>\r\n                                  <AllBooksMenu/>\r\n                              </TableCell> \r\n                              <TableCell  >  {row.book_item.title}  </TableCell>\r\n                              <TableCell>{row.book_item.authors}</TableCell> \r\n                              <TableCell>{row.book_item.publisher}</TableCell> \r\n                              <TableCell>{row.book_item.publication_date}</TableCell> \r\n                              <TableCell>{row.inventory_item.count}</TableCell> \r\n                              <TableCell>{row.inventory_item.checkout_count}</TableCell> \r\n                              <TableCell>{row.book_item.isbn}</TableCell>  \r\n                            </TableRow>\r\n                        ))}\r\n                        </TableBody> \r\n                    </Table> \r\n                    </TableContainer>\r\n                </Paper>\r\n            </Grid>\r\n\r\n            </Grid>\r\n        <InfoDialog selectedValue={selectedInfoValue} open={infoDialogOpen} onClose={handleClose} />          \r\n        <BookUpdateDialog selectedValue={selectedInfoValue} open={updateDialogOpen}  onClose={handleClose} onUpdateData={updateDialogData} />            \r\n        <BookIssueDialog selectedValue={selectedInfoValue} memberList={memberList} open={issueDialogOpen}  onClose={handleClose} onCheckoutData={issueDialogData} />            \r\n        <Box pt={4}>\r\n            <Copyright />\r\n        </Box>\r\n        <Snackbar\r\n          anchorOrigin={{vertical: 'top', horizontal: 'center' }}\r\n          open={deleteopen} \r\n          message=\"Book Deleted Successfully\"\r\n          autoHideDuration={1000}\r\n          key=\"topcenter\"\r\n        />\r\n     </Container>\r\n    )\r\n}","import React from 'react';\r\nimport PropTypes from 'prop-types'; \r\nimport { makeStyles } from '@material-ui/core/styles'; \r\nimport {Button, Typography, IconButton,TextField} from '@material-ui/core'; \r\nimport {DialogTitle ,DialogContent,DialogActions,Dialog }from '@material-ui/core';   \r\nimport CloseIcon from '@material-ui/icons/Close';  \r\n \r\n\r\nconst useStyles =  makeStyles((theme) => ({\r\n    \r\n  root: {\r\n    margin: 0,\r\n    padding: theme.spacing(2),\r\n  },\r\n  closeButton: {\r\n    position: 'absolute',\r\n    right: theme.spacing(1),\r\n    top: theme.spacing(1),\r\n    color: theme.palette.grey[500],\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(1),\r\n    display: 'flex',\r\n    overflow: 'auto',\r\n    flexDirection: 'column',\r\n  },\r\n}));\r\n\r\nexport default function MemberUpdateDialog(props) { \r\n    let updateEntity;\r\n    const { onClose, selectedValue, open, onUpdateData } = props; \r\n    const classes = useStyles(); \r\n\r\n    const Details = (prop)=>{         \r\n        var pairs = [];\r\n          for(var key in prop.data){\r\n            if(key!==\"id\")\r\n            pairs.push(\r\n              <TextField\r\n              autoFocus\r\n              margin=\"dense\"\r\n              id= {key}\r\n              label= {key.replace(\"_\",\" \")} \r\n              fullWidth \r\n              defaultValue = {prop.data[key]}\r\n              onChange={(event)=>updateData(event)}                  \r\n            /> \r\n            ) \r\n          } \r\n        return (\r\n                <div className=\"Data-item\">{pairs}</div>\r\n        );\r\n      }\r\n    const updateData = (event) => { \r\n        if(updateEntity==null)\r\n          updateEntity=selectedValue\r\n        updateEntity[event.target.id]=event.target.value  \r\n      };\r\n      const handleClose = () => { \r\n              onClose();\r\n      }; \r\n  \r\n      const updateMember = () => { \r\n        if(updateEntity)\r\n          onUpdateData(updateEntity)      \r\n        onClose();\r\n      }; \r\n    return (\r\n       \r\n        <Dialog onClose={handleClose} aria-labelledby=\"simple-dialog-title\" className={classes.root} open={open} fullWidth=\"md\" maxWidth=\"md\">\r\n          <DialogTitle id=\"simple-dialog-title\">Update Book Info</DialogTitle>\r\n          <IconButton aria-label=\"close\" className={classes.closeButton}  onClick={handleClose}>\r\n            <CloseIcon />\r\n          </IconButton>\r\n          <DialogContent dividers>     \r\n            <Typography gutterBottom > \r\n                <Details data={selectedValue!=null?selectedValue:{}}></Details>           \r\n            </Typography>\r\n          </DialogContent>\r\n          \r\n          <DialogActions>\r\n            <Button autoFocus onClick={handleClose} color=\"primary\">\r\n              Close\r\n            </Button>\r\n            <Button autoFocus onClick={updateMember} color=\"primary\">\r\n              Update\r\n            </Button>\r\n          </DialogActions>\r\n   \r\n        </Dialog>\r\n      );\r\n\r\n}\r\nMemberUpdateDialog.propTypes = {\r\n  onClose: PropTypes.func.isRequired,   \r\n  onUpdateData: PropTypes.func.isRequired,   \r\n  open: PropTypes.bool.isRequired,\r\n  selectedValue: PropTypes.object.isRequired,\r\n};","import React from 'react';\r\nimport PropTypes from 'prop-types'; \r\nimport { makeStyles } from '@material-ui/core/styles'; \r\nimport {Button, Typography, IconButton,TextField} from '@material-ui/core'; \r\nimport {DialogTitle ,DialogContent,DialogActions,Dialog }from '@material-ui/core';   \r\nimport CloseIcon from '@material-ui/icons/Close';  \r\n \r\n\r\nconst useStyles =  makeStyles((theme) => ({    \r\n  root: {\r\n    margin: 0,\r\n    padding: theme.spacing(2),\r\n  },\r\n  closeButton: {\r\n    position: 'absolute',\r\n    right: theme.spacing(1),\r\n    top: theme.spacing(1),\r\n    color: theme.palette.grey[500],\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(1),\r\n    display: 'flex',\r\n    overflow: 'auto',\r\n    flexDirection: 'column',\r\n  },\r\n}));\r\n\r\nexport default function MemberInsertDialog(props) {  \r\n    const { onClose, open, onInsertData } = props; \r\n    const [insertinfo,setInsertInfo] = React.useState( { \"user_id\": \"\", \"first_name\": \"\", \"last_name\": \"\", \"dob\": \"\" ,\"psswd\":\"\"});\r\n    const classes = useStyles(); \r\n\r\n    const Details = (prop)=>{         \r\n        var pairs = [];\r\n          for(var key in prop.data){\r\n            if(key!==\"psswd\")\r\n            pairs.push(\r\n              <TextField\r\n              autoFocus\r\n              margin=\"dense\"\r\n              id= {key}\r\n              label= {key.replace(\"_\",\" \")} \r\n              fullWidth  \r\n              defaultValue = {prop.data[key]}\r\n              onChange={(event)=>updateData(event)}                  \r\n            /> \r\n            ) \r\n          } \r\n        return (\r\n                <div className=\"Data-item\">{pairs}</div>\r\n        );\r\n      }\r\n    const updateData = (event) => {  \r\n        insertinfo[event.target.id]=event.target.value  \r\n    };\r\n    const handleClose = () => { \r\n      onClose();\r\n    }; \r\n  \r\n    const updateMember = () => {  \r\n      if(insertinfo.user_id!==\"\")\r\n          onInsertData(insertinfo)      \r\n      onClose();\r\n    }; \r\n    return (       \r\n      <Dialog onClose={handleClose} aria-labelledby=\"simple-dialog-title\" className={classes.root} open={open} fullWidth=\"md\" maxWidth=\"md\">\r\n        <DialogTitle id=\"simple-dialog-title\">Add new member</DialogTitle>\r\n        <IconButton aria-label=\"close\" className={classes.closeButton}  onClick={handleClose}>\r\n          <CloseIcon />\r\n        </IconButton>\r\n        <DialogContent dividers>     \r\n          <Typography gutterBottom > \r\n              <Details data={ insertinfo}\r\n              ></Details>           \r\n          </Typography>\r\n        </DialogContent>\r\n        \r\n        <DialogActions>\r\n          <Button autoFocus onClick={handleClose} color=\"primary\">\r\n            Close\r\n          </Button>\r\n          <Button autoFocus onClick={updateMember} color=\"primary\">\r\n            Add\r\n          </Button>\r\n        </DialogActions>\r\n  \r\n      </Dialog>\r\n      );\r\n\r\n}\r\nMemberInsertDialog.propTypes = {\r\n  onClose: PropTypes.func.isRequired,   \r\n  onInsertData: PropTypes.func.isRequired,   \r\n  open: PropTypes.bool.isRequired, \r\n};","import React from 'react';\r\nimport clsx from 'clsx';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n \r\nimport Title from './Title';\r\nimport {Paper,Grid,Typography,Container,Box} from '@material-ui/core';\r\nimport {Table ,TableBody ,TableCell,TableContainer,TableHead,TableRow} from '@material-ui/core';  \r\nimport {Link, IconButton,Snackbar,Fab} from '@material-ui/core'; \r\nimport {Menu ,MenuItem} from '@material-ui/core';     \r\nimport MoreVert from '@material-ui/icons/MoreVert';   \r\nimport AddIcon from '@material-ui/icons/Add'; \r\nimport MemberUpdateDialog from './MemberUpdateDialog';\r\nimport MemberInsertDialog from './MemberInsertDialog'; \r\n\r\nfunction preventDefault(event) {\r\n  event.preventDefault();\r\n}\r\n\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {'Copyright © '}\r\n      <Link color=\"inherit\" href=\"#\" onClick={preventDefault}>\r\n        Your Website\r\n      </Link>{' '}\r\n      {new Date().getFullYear()}\r\n      {'.'}\r\n    </Typography>\r\n  );\r\n} \r\nconst useStyles = makeStyles((theme) => ({ \r\n    container: {\r\n      paddingTop: theme.spacing(4),\r\n      paddingBottom: theme.spacing(4),\r\n    },\r\n    paper: {\r\n      padding: theme.spacing(2),\r\n      display: 'flex',\r\n      overflow: 'auto',\r\n      flexDirection: 'column',\r\n    },\r\n    fixedHeight: {\r\n      height: 600,\r\n    }, \r\n    extendedIcon: {\r\n      marginRight: theme.spacing(1),\r\n    },\r\n  }));\r\n\r\n  async function deleteMember(id) {\r\n    let url = process.env.REACT_APP_API_URL+'deleteMember?memberId=' + id; \r\n    return fetch(url).then(data => data.json()) \r\n   }\r\n   async function insertMemberDetails(details){\r\n    return fetch(process.env.REACT_APP_API_URL+'signup', {\r\n      method: 'POST',\r\n      headers: {\r\n        'mode':'no-cors',\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify(details)\r\n    })\r\n    .then(data => data.json()) \r\n  }\r\n  async function updateMemberDetails(details) {  \r\n    return fetch(process.env.REACT_APP_API_URL+'updateMemberDetails', {\r\n      method: 'POST',\r\n      headers: {\r\n        'mode':'no-cors',\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify(details)\r\n    })\r\n    .then(data => data.json()) \r\n   }\r\n\r\n  function createMemberData(id,user_id,join_date,first_name,last_name,dob,role,debt) {  \r\n    return {id,user_id,join_date,first_name,last_name,dob,role,debt};\r\n  }\r\n\r\nexport default function MemberFrame() {\r\n  const classes = useStyles();\r\n  const fixedHeightPaper = clsx(classes.paper, classes.fixedHeight); \r\n  const [memberList, setMemberList] = React.useState([]);\r\n  const [anchorE1, setAnchorE1] = React.useState(null);\r\n  const [selectedMenuRow, setSelectedMenuRow] = React.useState();\r\n  const [selectedInfoValue, setSelectedInfoValue] = React.useState(null); \r\n  const [updateDialogOpen, setUpdateDialogOpen] = React.useState(false);\r\n  const [insertDialogOpen, setInsertDialogOpen] = React.useState(false);\r\n  const [deleteopen, setDeleteopen] = React.useState();\r\n\r\n \r\n  React.useEffect(() => {\r\n    fetch(process.env.REACT_APP_API_URL+'getMemberList')\r\n    .then(results => results.json())\r\n    .then(data => {  updateMemberList(data) })}, []);\r\n\r\n    const updateMemberList =(data)=>{\r\n      memberList.splice(0,memberList.length)\r\n      let memberRows=[]\r\n      data[\"memberlist\"].forEach((item) => {   \r\n        memberRows.push(createMemberData(item.id,item.user_id,item.join_date,item.first_name,item.last_name,item.dob,item.role,item.debt));\r\n      }); \r\n       setMemberList(memberRows) \r\n    }\r\n\r\n    const updatemember = (row) => {  \r\n      setSelectedInfoValue(row)\r\n      setUpdateDialogOpen(true)    \r\n      setAnchorE1(null);\r\n    };\r\n    const deletemember = (row) => {       \r\n      deleteSubmit(row[\"id\"])       \r\n      setAnchorE1(null);\r\n    };\r\n    const handleMoreClick = (event,row) => {\r\n      setSelectedMenuRow(row) \r\n      setAnchorE1(event.currentTarget);\r\n    };\r\n\r\n    const handleAddMember = (event)=>{\r\n      setInsertDialogOpen(true)\r\n    }\r\n    const handleClose = (event,row) => {\r\n      setAnchorE1(null);\r\n      setUpdateDialogOpen(false);\r\n      setInsertDialogOpen(false);\r\n      };\r\n\r\n    function updateDialogData(data){   \r\n      let dataid= data[\"id\"]\r\n      delete data.id;\r\n      updateSubmit(dataid,data)\r\n    };\r\n\r\n    function insertDialogData(data){   \r\n      insertSubmit(data.user_id,data.psswd,data.first_name,data.last_name,data.dob)\r\n    };\r\n\r\n    const updateSubmit = async (memberId,memberDetails) => {  \r\n      const data = await updateMemberDetails({memberId, memberDetails }); \r\n      updateMemberList(data)\r\n    }  \r\n    const insertSubmit = async (user_id,psswd,first_name,last_name,dob) => {  \r\n      const data = await insertMemberDetails({ user_id,psswd,first_name,last_name,dob  }); \r\n      updateMemberList(data)\r\n    }  \r\n\r\n    const deleteSubmit = async (id) => {  \r\n      const data = await deleteMember( id ); \r\n       updateMemberList(data)\r\n    }\r\n\r\n    function MemberMenu(){\r\n      return (<Menu\r\n            id=\"booklist-menu\"\r\n            anchorEl={anchorE1}\r\n            keepMounted\r\n            open={Boolean(anchorE1)}\r\n            onClose={handleClose}\r\n          >\r\n            <MenuItem onClick={()=>{updatemember(selectedMenuRow)}} >Update Member Details</MenuItem>\r\n            <MenuItem onClick={()=> {deletemember(selectedMenuRow)}}>Delete this member</MenuItem>  \r\n        </Menu>);\r\n      }\r\n\r\n    return(\r\n    <Container maxWidth=\"lg\" className={classes.container}>\r\n           <Grid container spacing={3}> \r\n            <Grid item xs={12} md={4} lg={12}>\r\n\r\n            \r\n            <Paper className={fixedHeightPaper}>            \r\n              <Title>All Library Members </Title> \r\n              \r\n              <TableContainer className={classes.tablecontainer}>\r\n              <Table  stickyHeader aria-label=\"sticky table\">\r\n                <TableHead>\r\n                  <TableRow>\r\n                      <TableCell> \r\n                        <Fab color=\"secondary\" aria-label=\"add\" onClick={(event ) => {handleAddMember(event) }}> \r\n                        <AddIcon />\r\n                        </Fab>\r\n                      </TableCell> \r\n                      <TableCell >User Id</TableCell>\r\n                      <TableCell>First name</TableCell> \r\n                      <TableCell>Last Name</TableCell> \r\n                      <TableCell >DOB</TableCell> \r\n                      <TableCell >Role</TableCell> \r\n                      <TableCell >Debt</TableCell> \r\n                      <TableCell >DOJ</TableCell>  \r\n                    </TableRow>\r\n                  </TableHead>\r\n                  <TableBody>\r\n                  {memberList.map((row) => (                            \r\n                    <TableRow key={row.id}>\r\n                      <TableCell>\r\n                          <IconButton onClick={(event ) => {handleMoreClick(event, row) }}> \r\n                              <MoreVert/>\r\n                          </IconButton>\r\n                          <MemberMenu/>\r\n                      </TableCell> \r\n                      <TableCell>  {row.user_id}  </TableCell>\r\n                      <TableCell>{row.first_name}</TableCell> \r\n                      <TableCell>{row.last_name}</TableCell> \r\n                      <TableCell>{row.dob}</TableCell> \r\n                      <TableCell>{row.role}</TableCell> \r\n                      <TableCell>{row.debt}</TableCell> \r\n                      <TableCell>{row.join_date}</TableCell>  \r\n                    </TableRow>\r\n                  ))}\r\n                  </TableBody> \r\n              </Table> \r\n              </TableContainer> \r\n            </Paper>\r\n            </Grid>\r\n            </Grid>\r\n            <MemberUpdateDialog selectedValue={selectedInfoValue} open={updateDialogOpen}  onClose={handleClose} onUpdateData={updateDialogData} />            \r\n            <MemberInsertDialog open={insertDialogOpen}  onClose={handleClose} onInsertData={insertDialogData} />            \r\n          <Box pt={4}>\r\n            <Copyright />\r\n          </Box>\r\n          <Snackbar\r\n            anchorOrigin={{vertical: 'top', horizontal: 'center' }}\r\n            open={deleteopen} \r\n            message=\"Book Deleted Successfully\"\r\n            autoHideDuration={1000}\r\n            key=\"topcenter\"\r\n        />\r\n     </Container>\r\n  )\r\n}","import React from 'react';\r\nimport PropTypes from 'prop-types'; \r\nimport { makeStyles } from '@material-ui/core/styles';   \r\nimport {Button, Typography, IconButton} from '@material-ui/core'; \r\nimport {DialogTitle ,DialogContent,DialogActions,Dialog }from '@material-ui/core';   \r\nimport CloseIcon from '@material-ui/icons/Close';  \r\n\r\nconst useStyles =  makeStyles((theme) => ({\r\n    root: {\r\n      margin: 0,\r\n      padding: theme.spacing(2),\r\n    },\r\n    closeButton: {\r\n      position: 'absolute',\r\n      right: theme.spacing(1),\r\n      top: theme.spacing(1),\r\n      color: theme.palette.grey[500],\r\n    },\r\n  }));\r\n  \r\nexport default function BookInfoDialog(props) { \r\n  const { onClose, selectedValue, open } = props;\r\n  const classes = useStyles(); \r\n\r\n  const Details = (prop)=>{    \r\n    var pairs = [];\r\n      for(var key in prop.data){\r\n        if(key!=\"count\")\r\n          pairs.push(<p>{key} : {prop.data[key]}</p>);\r\n      } \r\n    return (\r\n            <div className=\"Data-item\">{pairs}</div>\r\n    );\r\n  }\r\n\r\n  const handleClose = () => { \r\n    onClose();\r\n  };\r\n  \r\n  return (       \r\n    <Dialog onClose={handleClose} aria-labelledby=\"simple-dialog-title\"  className={classes.root} open={open} fullWidth=\"md\" maxWidth=\"md\">\r\n      <DialogTitle id=\"simple-dialog-title\">Book Information</DialogTitle>\r\n      <IconButton aria-label=\"close\" className={classes.closeButton}  onClick={onClose}>\r\n        <CloseIcon />\r\n      </IconButton>\r\n      <DialogContent dividers>   \r\n        <Typography gutterBottom > \r\n            <Details data={selectedValue!=null?selectedValue:{}}></Details>           \r\n        </Typography>\r\n      </DialogContent>        \r\n      <DialogActions>\r\n        <Button autoFocus onClick={handleClose} color=\"primary\">\r\n          Close\r\n        </Button>\r\n      </DialogActions> \r\n    </Dialog>\r\n  );\r\n}  \r\nBookInfoDialog.propTypes = {\r\n  onClose: PropTypes.func.isRequired,\r\n  open: PropTypes.bool.isRequired,\r\n  selectedValue: PropTypes.object.isRequired,\r\n};","import React from 'react';\r\nimport PropTypes from 'prop-types'; \r\nimport { makeStyles } from '@material-ui/core/styles';  \r\nimport {Grid,Paper,Button, IconButton,TextField} from '@material-ui/core'; \r\nimport {DialogTitle ,DialogContent,DialogActions,Dialog }from '@material-ui/core';   \r\nimport CloseIcon from '@material-ui/icons/Close';  \r\n \r\n\r\nconst useStyles =  makeStyles((theme) => ({\r\n  root: {\r\n    margin: 0,\r\n    padding: theme.spacing(2),\r\n  },\r\n  closeButton: {\r\n    position: 'absolute',\r\n    right: theme.spacing(1),\r\n    top: theme.spacing(1),\r\n    color: theme.palette.grey[500],\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(1),\r\n    display: 'flex',\r\n    overflow: 'auto',\r\n    flexDirection: 'column',\r\n  },\r\n}));\r\n\r\nexport default function BookImportDialog(props) { \r\n    const { onClose, selectedValue, open, onCheckoutData } = props;  \r\n    const [ importCount, setImportCount] = React.useState( null);\r\n    const classes = useStyles();  \r\n\r\n    const Details = (prop)=>{    \r\n      var pairs = [];\r\n        for(var key in prop.data){\r\n          if(key!==\"count\" && key!==\"inventory_count\")\r\n            pairs.push(<p>{key} : {prop.data[key]}</p>);\r\n        } \r\n      return (\r\n             <div className=\"Data-item\">{pairs}</div>\r\n      );\r\n    }\r\n \r\n    \r\n    const checkoutData = () => {   \r\n      let updateEntity=selectedValue\r\n      updateEntity[\"import_count\"]= importCount\r\n      onCheckoutData(updateEntity)\r\n      handleClose()\r\n    };\r\n\r\n    const handleClose = () => { \r\n      onClose();\r\n    }; \r\n\r\n    const handleCountChange=(event)=>{\r\n      setImportCount(event.target.value)\r\n    }\r\n \r\n    return (\r\n      <Dialog onClose={handleClose} aria-labelledby=\"simple-dialog-title\" className={classes.root} open={open} fullWidth=\"md\" maxWidth=\"md\">\r\n        <DialogTitle id=\"simple-dialog-title\">Import Book</DialogTitle>\r\n        <IconButton aria-label=\"close\" className={classes.closeButton}  onClick={handleClose}>\r\n          <CloseIcon />\r\n        </IconButton>\r\n        <DialogContent dividers>    \r\n        <Grid container spacing={3}> \r\n         <Grid item xs={12} md={4} lg={6}>  \r\n            <Paper className={classes.paper} elevation={3} >\r\n              <h3>Inventory Details</h3>\r\n              <p> Book Count in Inventory : {selectedValue!=null?selectedValue[\"inventory_count\"]:0}</p>\r\n              <p> Enter Count to import to Inventory : </p>\r\n              <TextField\r\n                id=\"member-list\" \r\n                label=\" \"                              \r\n                type=\"number\"\r\n                InputLabelProps={{\r\n                  shrink: true,\r\n                }}\r\n                onChange={handleCountChange}\r\n                helperText=\"Please enter import count\"\r\n              />\r\n            </Paper>  \r\n          </Grid>\r\n          <Grid item xs={12} md={4} lg={6}>  \r\n            <Paper className={classes.paper} elevation={3}>\r\n              <h3>Books Details</h3>\r\n              <Details data={selectedValue!=null?selectedValue:{}}></Details>         \r\n            </Paper>\r\n          </Grid>\r\n          </Grid> \r\n        </DialogContent>\r\n        \r\n        <DialogActions>\r\n          <Button autoFocus onClick={handleClose} color=\"primary\">\r\n            Close\r\n          </Button>\r\n          <Button autoFocus onClick={checkoutData} color=\"primary\" disabled={!importCount}>\r\n            Import Book\r\n          </Button>\r\n        </DialogActions>\r\n \r\n      </Dialog>\r\n    );\r\n  }\r\n  \r\n  BookImportDialog.propTypes = {\r\n    onClose: PropTypes.func.isRequired,   \r\n    onCheckoutData: PropTypes.func.isRequired,   \r\n    open: PropTypes.bool.isRequired,\r\n    selectedValue: PropTypes.object.isRequired\r\n  };","import React from 'react';\r\nimport clsx from 'clsx';\r\nimport Title from './Title';\r\nimport { makeStyles } from '@material-ui/core/styles';  \r\nimport {Paper,Grid,Typography,Container,Box} from '@material-ui/core';\r\nimport {Table,TableBody,TableCell,TableContainer,TableHead,TableRow} from '@material-ui/core';  \r\nimport {Link,IconButton} from '@material-ui/core'; \r\nimport {TextField,Button, ButtonGroup} from '@material-ui/core';  \r\nimport {AddCircle,Info} from '@material-ui/icons';  \r\nimport BookInfoDialog from './BookInfoDialog';\r\nimport BookImportDialog from './BookImportDialog';\r\n\r\n\r\nfunction preventDefault(event) {\r\n  event.preventDefault();\r\n}\r\n\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {'Copyright © '}\r\n      <Link color=\"inherit\" href=\"#\" onClick={preventDefault}>\r\n        Your Website\r\n      </Link>{' '}\r\n      {new Date().getFullYear()}\r\n      {'.'}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  container: {\r\n    paddingTop: theme.spacing(4),\r\n    paddingBottom: theme.spacing(4),\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(2),\r\n    display: 'flex',\r\n    overflow: 'auto',\r\n    flexDirection: 'column',\r\n  },\r\n  fixedHeight: {\r\n    height: 450,\r\n  }, \r\n  searchFixedHeight: {\r\n      height: 200,\r\n    }, \r\n  extendedIcon: {\r\n    marginRight: theme.spacing(1),\r\n  },\r\n  formgrid:{ \r\n    '& .MuiTextField-root': {\r\n      margin: theme.spacing(1),\r\n      width: '25ch',\r\n    },\r\n    '& .Button-root': {\r\n      margin: theme.spacing(1),\r\n      width: '25ch',\r\n    },\r\n  }\r\n}));\r\n\r\nasync function importBookToSystem(details) {  \r\n  return fetch(process.env.REACT_APP_API_URL+'addBooksToSystem', {\r\n    method: 'POST',\r\n    headers: {\r\n      'mode':'no-cors',\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify(details)\r\n  })\r\n  .then(data => data.json()) \r\n  }\r\n\r\nexport default function ImportBookFrame() {\r\n  const classes = useStyles();\r\n  const searchFixedHeight = clsx(classes.paper, classes.searchFixedHeight); \r\n  const fixedHeightPaper = clsx(classes.paper, classes.fixedHeightPaper);  \r\n  const [bookImportList, setBookImportList] = React.useState([]);   \r\n  const [selectedInfoValue, setSelectedInfoValue] = React.useState(null); \r\n  const [infoDialogOpen, setInfoDialogOpen] = React.useState(false);\r\n  const [importDialogOpen, setImportDialogOpen] = React.useState(false); \r\n  const [searchParams, setSearchParams] = React.useState({}); \r\n\r\n  const importlist = async () => {\r\n    let queryString=\"?\"\r\n    for(var key in searchParams){ \r\n        queryString += key+\"=\"+searchParams[key]\r\n        queryString +=\"&&\" \r\n    } \r\n    console.log(queryString)\r\n    fetch(process.env.REACT_APP_API_URL+'getApiBookList'+queryString)\r\n      .then(data => data.json())  \r\n      .then(data=>{\r\n          console.log(data)\r\n            bookImportList.splice(0,bookImportList.length) \r\n          setBookImportList(data)\r\n      })\r\n  }  \r\n    \r\n  const handleClose = () => { \r\n      setInfoDialogOpen(false) \r\n      setImportDialogOpen(false) \r\n  };\r\n  const importDialogData = async (book_data)=>{  \r\n      const data = await importBookToSystem({\"import_book\":book_data})\r\n      if(data[\"status\"]==\"success\")\r\n          importlist()\r\n  };\r\n  const showInfoDialog = (event, row)=>{\r\n      setSelectedInfoValue(row)\r\n      setInfoDialogOpen(true) \r\n  }\r\n  const showImportDialog = (event, row)=>{\r\n      setSelectedInfoValue(row)\r\n      setImportDialogOpen(true) \r\n  }\r\n  const handleParamChange=(event)=>{\r\n    let id = (event.target.id).replace(\"-input\",\"\")      \r\n    if(event.target.value==\"\")\r\n    delete  searchParams[id]\r\n    else searchParams[id]=event.target.value\r\n    console.log(searchParams)\r\n  }\r\n  return(\r\n   <Container maxWidth=\"lg\" className={classes.container}>\r\n      <Grid container spacing={3}>             \r\n        <Grid item xs={12} md={4} lg={12}>            \r\n          <Paper className={searchFixedHeight}>            \r\n            <Title>Import Books from Frappe </Title>\r\n              <div className={classes.formgrid}>\r\n              <TextField  id=\"title-input\"  label=\"Title\"   type=\"text\" onChange={handleParamChange} />\r\n              <TextField  id=\"authors-input\"  label=\"Author\"   type=\"text\" onChange={handleParamChange}/>\r\n              <TextField  id=\"publisher-input\"  label=\"Publisher\"  type=\"text\" onChange={handleParamChange} />\r\n              <TextField  id=\"isbn-input\"  label=\"isbn\"  type=\"numer\" onChange={handleParamChange}/>\r\n              <TextField  id=\"page-input\"  label=\"Page\"  type=\"number\" onChange={handleParamChange} />\r\n            </div>\r\n            \r\n            <Button variant=\"contained\" \r\n              color=\"primary\"\r\n                style={{width:\"20%\",marginTop:\"20px\"}}\r\n                onClick={importlist}>\r\n              Search  \r\n            </Button>\r\n          </Paper>\r\n        </Grid>\r\n        <Grid item xs={12} md={4} lg={12}>            \r\n          <Paper className={fixedHeightPaper}>            \r\n            <Title>Books from Frappe</Title> \r\n            \r\n            <TableContainer disableElevation className={classes.tablecontainer}>\r\n            <Table  stickyHeader aria-label=\"sticky table\">\r\n              <TableHead>\r\n                <TableRow>  \r\n                    <TableCell>  </TableCell> \r\n                    <TableCell width=\"30%\"> Title </TableCell>\r\n                    <TableCell> Authors </TableCell> \r\n                    <TableCell> Publisher </TableCell> \r\n                    <TableCell width=\"20%\"> Publication date </TableCell> \r\n                    <TableCell width=\"15%\"> Inventory Count </TableCell>  \r\n                    <TableCell width=\"5%\"> ISBN </TableCell>  \r\n                </TableRow> \r\n              </TableHead>\r\n              <TableBody>\r\n                {bookImportList.map((row) => (                  \r\n                <TableRow key={row.bookID}>\r\n                  <TableCell>\r\n                  <ButtonGroup  disableElevation  aria-label=\"outlined primary button group\">\r\n                    <IconButton  onClick={(event ) => {showInfoDialog(event, row) }}> \r\n                        <Info/>\r\n                    </IconButton> \r\n                    <IconButton  onClick={(event ) => {showImportDialog(event, row) }}> \r\n                        <AddCircle/>\r\n                    </IconButton> \r\n                    </ButtonGroup>\r\n                  </TableCell> \r\n                  <TableCell>{row.title} </TableCell>\r\n                  <TableCell>{row.authors}</TableCell> \r\n                  <TableCell>{row.publisher}</TableCell> \r\n                  <TableCell>{row.publication_date}</TableCell> \r\n                  <TableCell>{row.inventory_count}</TableCell>  \r\n                  <TableCell>{row.isbn}</TableCell>  \r\n                </TableRow>\r\n              ))}\r\n              </TableBody> \r\n            </Table> \r\n            </TableContainer> \r\n          </Paper>\r\n        </Grid>\r\n      </Grid>\r\n      <BookInfoDialog selectedValue={selectedInfoValue} open={infoDialogOpen} onClose={handleClose} />\r\n      <BookImportDialog selectedValue={selectedInfoValue} open={importDialogOpen}  onClose={handleClose} onCheckoutData={importDialogData} />     \r\n      <Box pt={4}>\r\n        <Copyright />\r\n      </Box> \r\n    </Container>\r\n  )\r\n}","import React from 'react';\r\nimport clsx from 'clsx'; \r\nimport Title from './Title';\r\nimport { makeStyles } from '@material-ui/core/styles';  \r\nimport {Paper,Grid,Typography,Container,Box} from '@material-ui/core';\r\nimport {Table ,TableBody ,TableCell,TableContainer,TableHead,TableRow} from '@material-ui/core';   \r\nimport {Select,FormControl,InputLabel,Button,MenuItem,Link} from '@material-ui/core';  \r\nimport DashTileBooks from './DashTileBooks';\r\nimport DashTileCustomers from './DashTileCustomers';   \r\n\r\nfunction preventDefault(event) {\r\n  event.preventDefault();\r\n}\r\n\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {'Copyright © '}\r\n      <Link color=\"inherit\" href=\"#\" onClick={preventDefault}>\r\n        Your Website\r\n      </Link>{' '}\r\n      {new Date().getFullYear()}\r\n      {'.'}\r\n    </Typography>\r\n  );\r\n} \r\n\r\nconst useStyles = makeStyles((theme) => ({  \r\n  container: {\r\n    paddingTop: theme.spacing(4),\r\n    paddingBottom: theme.spacing(4),\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(2),\r\n    display: 'flex',\r\n    overflow: 'auto',\r\n    flexDirection: 'column',\r\n  },\r\n  fixedHeight: {\r\n    height: 400,\r\n  },\r\n  searchFixedHeight: {\r\n      height: 200,\r\n  }, \r\n}));\r\n\r\nexport default function ReportFrame() {\r\n  const classes = useStyles();\r\n  const [reportIndex, setReportIndex] = React.useState('');\r\n  const [reportType, setReportType] = React.useState(''); \r\n  const [custReportData, setCustReportData] = React.useState([]); \r\n  const [bookReportData, setBookReportData] = React.useState([]);  \r\n  const searchFixedHeight = clsx(classes.paper, classes.searchFixedHeight); \r\n  const fixedHeight = clsx(classes.paper, classes.fixedHeight); \r\n \r\n  const handleChange = (event) => {\r\n    setReportIndex(event.target.value); \r\n    setReportType(event.target.value)    \r\n  };\r\n \r\n  const custDataReady=(data)=>{  \r\n    setCustReportData(data[\"rank_list\"])\r\n  };\r\n  const bookDataReady=(data)=>{  \r\n    setBookReportData(data[\"rank_list\"])\r\n  };\r\n  const handleDownload=()=>{ \r\n    let csvContent = \"data:text/csv;charset=utf-8,\"  \r\n    if(reportType==\"member\"){\r\n    csvContent +=\"Amount Spend,First Name,Last name,Type\\n\" \r\n    custReportData.map(row => {\r\n      csvContent += row.item_count +\",\"\r\n      csvContent += row.member_item.first_name +\",\"\r\n      csvContent += row.member_item.last_name +\",\"\r\n      csvContent += row.member_item.role +\"\\n\"\r\n    })\r\n  }else {\r\n    csvContent +=\"Title,Author,Publish,Issue Count,Available,Total\\n\";\r\n    bookReportData.map(row => {\r\n      csvContent +=row.book_item.title+\",\"\r\n      csvContent += row.book_item.authors+\",\"\r\n      csvContent += row.book_item.publisher+\",\"\r\n      csvContent += row.item_count+\",\" \r\n      csvContent += row.inventory_count-row.checkout_count+\",\" \r\n      csvContent += row.inventory_count+\"\\n\"\r\n    })\r\n  }\r\n    var encodedUri = encodeURI(csvContent);\r\n    var link = document.createElement(\"a\");\r\n    link.setAttribute(\"href\", encodedUri);\r\n    link.setAttribute(\"download\", reportType==\"member\"?\"HighestPayingCustomers.csv\":\"TopIssuedBooks.csv\");\r\n    document.body.appendChild(link);  \r\n    link.click()\r\n} \r\nreturn(\r\n  <Container maxWidth=\"lg\" className={classes.container}>\r\n    <Grid container spacing={3}>             \r\n      <Grid item xs={12} md={4} lg={12}>            \r\n        <Paper className={searchFixedHeight}>            \r\n          <Title>Select Report to view </Title>            \r\n          <FormControl variant=\"outlined\" className={classes.formControl}>\r\n            <InputLabel id=\"demo-simple-select-outlined-label\">Report</InputLabel>\r\n            <Select\r\n              labelId=\"demo-simple-select-outlined-label\"\r\n              id=\"demo-simple-select-outlined\"\r\n              value={reportIndex}\r\n              onChange={handleChange}\r\n              label=\"Age\">\r\n              <MenuItem value=\"\"> <em>None</em> </MenuItem>\r\n              <MenuItem value={\"book\"}>Top Issued Books </MenuItem>\r\n              <MenuItem value={\"member\"}>Highest Paying Customers</MenuItem> \r\n            </Select>\r\n          </FormControl>\r\n          <Button variant=\"contained\" color=\"primary\" style={{width:\"20%\",marginTop:\"20px\"}} disabled={reportType==\"\"} onClick={handleDownload}>\r\n            Download Report  \r\n          </Button>\r\n        </Paper>\r\n      </Grid>\r\n      {reportIndex!=\"\"?\r\n      <Grid item xs={12} md={4} lg={4}>            \r\n        <Paper className={fixedHeight}>   \r\n          {reportType==\"book\"?<DashTileBooks hideLink={true} bookDataReady={bookDataReady}/>:\r\n          reportType==\"member\"?<DashTileCustomers hideLink={true} custDataReady={custDataReady}/>:<p></p>} \r\n        </Paper>\r\n      </Grid>:<div></div>}\r\n      {reportIndex!=\"\"?\r\n      <Grid item xs={12} md={4} lg={8}>            \r\n        <Paper className={fixedHeight}>   \r\n          <TableContainer className={classes.tablecontainer} >\r\n            <Table  stickyHeader aria-label=\"sticky table\">\r\n            <TableHead>\r\n                {reportType==\"member\"?<TableRow> \r\n                  <TableCell> Amount Spend </TableCell>\r\n                  <TableCell> First Name </TableCell>\r\n                  <TableCell> last name </TableCell> \r\n                  <TableCell> Type </TableCell>  \r\n                </TableRow>\r\n                :reportType==\"book\"?<TableRow> \r\n                  <TableCell>Title</TableCell>\r\n                  <TableCell> Author </TableCell>\r\n                  <TableCell> Publish </TableCell> \r\n                  <TableCell> Issue Count </TableCell> \r\n                  <TableCell> Available </TableCell>  \r\n                  <TableCell> Total </TableCell>  \r\n              </TableRow>:<div></div>}\r\n            </TableHead>\r\n            <TableBody>\r\n            {reportType==\"member\"?custReportData.slice(0).reverse().map((row) => (                            \r\n                <TableRow key={row.member_item.id}>\r\n                  <TableCell>{row.item_count}</TableCell> \r\n                  <TableCell>{row.member_item.first_name}</TableCell>\r\n                  <TableCell>{row.member_item.last_name}</TableCell> \r\n                  <TableCell>{row.member_item.role}</TableCell>  \r\n                </TableRow>\r\n                )):reportType==\"book\"?bookReportData.slice(0).reverse().map((row) => (                            \r\n              <TableRow key={row.book_item.bookID}>\r\n                <TableCell>{row.book_item.title}</TableCell> \r\n                <TableCell>{row.book_item.authors}</TableCell>\r\n                <TableCell>{row.book_item.publisher}</TableCell> \r\n                <TableCell>{row.item_count}</TableCell>  \r\n                <TableCell>{row.inventory_count- row.checkout_count}</TableCell>                                \r\n                <TableCell>{row.inventory_count}</TableCell>  \r\n              </TableRow>\r\n              )):<div></div>}\r\n                </TableBody> \r\n            </Table> \r\n            </TableContainer> \r\n          </Paper>\r\n        </Grid>:<div></div>}\r\n    </Grid>\r\n    <Box pt={4}>\r\n      <Copyright />\r\n    </Box>\r\n  </Container>\r\n  )\r\n}","import React from 'react';\r\nimport clsx from 'clsx';\r\nimport { makeStyles } from '@material-ui/core/styles'; \r\nimport Title from './Title'; \r\nimport {Paper,Grid,Typography,Container,Box,Link} from '@material-ui/core'; \r\nimport {Table ,TableBody ,TableCell,TableContainer,TableHead,TableRow} from '@material-ui/core';   \r\n\r\nfunction preventDefault(event) {\r\n  event.preventDefault();\r\n}\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {'Copyright © '}\r\n      <Link color=\"inherit\" href=\"#\" onClick={preventDefault}>\r\n        Your Website\r\n      </Link>{' '}\r\n      {new Date().getFullYear()}\r\n      {'.'}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  container: {\r\n    paddingTop: theme.spacing(4),\r\n    paddingBottom: theme.spacing(4),\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(2),\r\n    display: 'flex',\r\n    overflow: 'auto',\r\n    flexDirection: 'column',\r\n  },\r\n  fixedHeight: {\r\n    height: 600,\r\n  }, \r\n  extendedIcon: {\r\n    marginRight: theme.spacing(1),\r\n  },\r\n}));\r\n \r\n\r\nexport default function GuestViewFrame() {\r\n  const classes = useStyles();\r\n  const fixedHeightPaper = clsx(classes.paper, classes.fixedHeight); \r\n  const [bookList, setBookList] = React.useState([]); \r\n\r\n \r\n  React.useEffect(() => {\r\n    fetch(process.env.REACT_APP_API_URL+'getBooksInventory')\r\n    .then(results => results.json())\r\n    .then(data => {  updateMemberList(data) })}, []);\r\n\r\n    const updateMemberList =(data)=>{\r\n        bookList.splice(0,bookList.length)  \r\n        setBookList(data[\"booklist\"]) \r\n  }\r\n\r\n\r\n  return(\r\n    <Container maxWidth=\"lg\" className={classes.container}>\r\n      <Grid container spacing={3}> \r\n        <Grid item xs={12} md={4} lg={12}>      \r\n          <Paper className={fixedHeightPaper}>            \r\n            <Title>All Library Books </Title>             \r\n            <TableContainer className={classes.tablecontainer}>\r\n            <Table  stickyHeader aria-label=\"sticky table\">\r\n                <TableHead>\r\n                  <TableRow> \r\n                    <TableCell>  Book ID </TableCell> \r\n                    <TableCell> Title </TableCell> \r\n                    <TableCell> Authors  </TableCell> \r\n                    <TableCell> Publisher </TableCell> \r\n                    <TableCell>  Publication date </TableCell> \r\n                    <TableCell>  Num pages  </TableCell> \r\n                    <TableCell>  Average rating  </TableCell> \r\n                    <TableCell>  Ratings count  </TableCell> \r\n                    <TableCell>  Text Reviews Count  </TableCell> \r\n                    <TableCell> Language code  </TableCell> \r\n                    <TableCell>  isbn </TableCell>  \r\n                    <TableCell> isbn13 </TableCell> \r\n                  </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                {bookList.map((row) => ( \r\n                  <TableRow key={row.book_item.bookID}>                                \r\n                    <TableCell  >  {row.book_item.bookID}  </TableCell> \r\n                    <TableCell>  {row.book_item.title}  </TableCell> \r\n                    <TableCell>  {row.book_item.authors}  </TableCell> \r\n                    <TableCell>  {row.book_item.publisher}  </TableCell> \r\n                    <TableCell>  {row.book_item.publication_date}  </TableCell> \r\n                    <TableCell>  {row.book_item.num_pages}  </TableCell> \r\n                    <TableCell>  {row.book_item.average_rating}  </TableCell> \r\n                    <TableCell>  {row.book_item.ratings_count}  </TableCell> \r\n                    <TableCell>  {row.book_item.text_reviews_count}  </TableCell> \r\n                    <TableCell>  {row.book_item.language_code}  </TableCell> \r\n                    <TableCell>  {row.book_item.isbn}  </TableCell>  \r\n                    <TableCell>  {row.book_item.isbn13}  </TableCell>\r\n                  </TableRow>\r\n                ))}\r\n                </TableBody> \r\n              </Table> \r\n            </TableContainer> \r\n          </Paper>\r\n        </Grid>\r\n      </Grid>\r\n      <Box pt={4}> <Copyright /> </Box>      \r\n    </Container>\r\n  )\r\n}","import React from 'react';\r\nimport clsx from 'clsx';\r\nimport PropTypes from 'prop-types';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport List from '@material-ui/core/List';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Badge from '@material-ui/core/Badge'; \r\nimport Link from '@material-ui/core/Link';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\r\nimport NotificationsIcon from '@material-ui/icons/Notifications';\r\nimport { mainListItems, secondaryListItems } from './listItems'; \r\nimport DashFrame from './DashFrame';\r\nimport BookFrame from './BookFrame';\r\nimport MemberFrame from './MemberFrame';\r\nimport ImportBookFrame from './ImportBookFrame';\r\nimport ReportFrame from './ReportFrame';\r\nimport GuestViewFrame from './GuestViewFrame';\r\n\r\nfunction preventDefault(event) {\r\n  event.preventDefault(); \r\n}\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {'Copyright © '}\r\n      <Link color=\"inherit\" href=\"#\" preventDefault onClick={preventDefault}>\r\n        Your Website\r\n      </Link>{' '}\r\n      {new Date().getFullYear()}\r\n      {'.'}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst drawerWidth = 240;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: 'flex',\r\n  },\r\n  toolbar: {\r\n    paddingRight: 24, // keep right padding when drawer closed\r\n  },\r\n  toolbarIcon: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'flex-end',\r\n    padding: '0 8px',\r\n    ...theme.mixins.toolbar,\r\n  },\r\n  appBar: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    transition: theme.transitions.create(['width', 'margin'], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n  },\r\n  appBarShift: {\r\n    marginLeft: drawerWidth,\r\n    width: `calc(100% - ${drawerWidth}px)`,\r\n    transition: theme.transitions.create(['width', 'margin'], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n  },\r\n  menuButton: {\r\n    marginRight: 36,\r\n  },\r\n  menuButtonHidden: {\r\n    display: 'none',\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n  },\r\n  drawerPaper: {\r\n    position: 'relative',\r\n    whiteSpace: 'nowrap',\r\n    width: drawerWidth,\r\n    transition: theme.transitions.create('width', {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n  },\r\n  drawerPaperClose: {\r\n    overflowX: 'hidden',\r\n    transition: theme.transitions.create('width', {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n    width: theme.spacing(7),\r\n    [theme.breakpoints.up('sm')]: {\r\n      width: theme.spacing(9),\r\n    },\r\n  },\r\n  appBarSpacer: theme.mixins.toolbar,\r\n  content: {\r\n    flexGrow: 1,\r\n    height: '100vh',\r\n    overflow: 'auto',\r\n  },\r\n  container: {\r\n    paddingTop: theme.spacing(4),\r\n    paddingBottom: theme.spacing(4),\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(2),\r\n    display: 'flex',\r\n    overflow: 'auto',\r\n    flexDirection: 'column',\r\n    background:\"#eff3f2\"\r\n  },\r\n  fixedHeight: {\r\n    height: 240,\r\n  },\r\n}));\r\n\r\nexport default function Dashboard(props) {\r\n  const { user_token } = props;\r\n  const classes = useStyles();\r\n  const [open, setOpen] = React.useState(false);\r\n  const [category, setcategory] = React.useState(\"dashboard\");\r\n  const handleDrawerOpen = () => { \r\n    if(user_token[\"user_details\"][\"role\"]==\"admin\")\r\n      setOpen(true);\r\n  };\r\n  const handleDrawerClose = () => {\r\n    setOpen(false);\r\n  };\r\n  const handleMenuClick = (event) => {  \r\n    if(event.target.innerText)\r\n      setcategory(event.target.innerText.toLowerCase()) \r\n    else if(event.target.getAttribute(\"name\"))\r\n      setcategory(event.target.getAttribute(\"name\").toLowerCase())\r\n    else if(event.target.tagName == \"svg\")\r\n      setcategory(event.target.parentNode.getAttribute(\"name\").toLowerCase()) \r\n    else if(event.target.tagName == \"path\")\r\n      setcategory(event.target.parentNode.parentNode.getAttribute(\"name\").toLowerCase())  \r\n  };\r\n  const fixedHeightPaper = clsx(classes.paper, classes.fixedHeight);\r\n  const categorySwitch=(type)=>{setcategory(type)}\r\n  return (\r\n    <div className={classes.root}>\r\n      <CssBaseline />\r\n      <AppBar position=\"absolute\" className={clsx(classes.appBar, open && classes.appBarShift)}>\r\n        <Toolbar className={classes.toolbar}>\r\n          <IconButton\r\n            edge=\"start\"\r\n            color=\"inherit\"\r\n            aria-label=\"open drawer\"\r\n            onClick={handleDrawerOpen}\r\n            className={clsx(classes.menuButton, open && classes.menuButtonHidden)}\r\n          >\r\n          <MenuIcon />\r\n          </IconButton>\r\n          <Typography component=\"h1\" variant=\"h6\" color=\"inherit\" noWrap className={classes.title}>\r\n            Library\r\n          </Typography>\r\n          <IconButton color=\"inherit\">\r\n            <Badge badgeContent={4} color=\"secondary\">\r\n              <NotificationsIcon />\r\n            </Badge>\r\n          </IconButton>\r\n        </Toolbar>\r\n      </AppBar>\r\n      <Drawer\r\n        variant=\"permanent\"\r\n        classes={{\r\n          paper: clsx(classes.drawerPaper, !open && classes.drawerPaperClose),\r\n        }}\r\n        open={open}\r\n        hidden={user_token[\"user_details\"][\"role\"]!=\"admin\"}\r\n      >\r\n        <div className={classes.toolbarIcon}>\r\n          <IconButton onClick={handleDrawerClose}>\r\n            <ChevronLeftIcon />\r\n          </IconButton>\r\n        </div>\r\n        <Divider />\r\n        <List onClick={handleMenuClick}>\r\n          {mainListItems}\r\n        </List>\r\n        <Divider />\r\n        {/* <List>{secondaryListItems}</List> */}\r\n      </Drawer>\r\n      <main className={classes.content}>\r\n        <div className={classes.appBarSpacer} />\r\n        {(user_token[\"user_details\"][\"role\"]!=\"admin\")?<GuestViewFrame/>:category ==\"books\"?<BookFrame/>:\r\n         category ==\"members\"?<MemberFrame/>:\r\n          category ==\"reports\"?<ReportFrame/>: \r\n           category ==\"importbooks\"?<ImportBookFrame/>:\r\n            <DashFrame categorySwitch = {categorySwitch}/>}\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\nDashboard.propTypes = {\r\n  user_token: PropTypes.object.isRequired\r\n  }","import logo from './logo.svg';\nimport './App.css';\nimport Signin from './components/Signin'\nimport Dashboard from './components/Dashboard'\nimport { useState } from 'react';\nimport { HashRouter as Router,Route, Switch} from \"react-router-dom\";\n\nfunction App() {\n  const [token, setToken] = useState();\n\n  if(!token) {\n    return <Signin setToken={setToken} />\n  } \n  return (  \n    <div className=\"wrapper\"> \n      <Router>        \n        <Route exact path=\"/\" component={Dashboard} > \n        <Dashboard user_token={token} /> </Route>\n      </Router>\n    </div>\n  );\n}\n\nexport default App; ","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}