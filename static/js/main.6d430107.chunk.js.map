{"version":3,"sources":["logo.svg","components/Signin.js","components/listItems.js","components/Title.js","components/DashTileBooks.js","components/DashTileCustomers.js","components/InfoDialog.js","components/DashTileIssued.js","components/DashFrame.js","components/BookUpdateDialog.js","components/BookIssueDialog.js","components/BookFrame.js","components/MemberUpdateDialog.js","components/MemberInsertDialog.js","components/MemberFrame.js","components/BookInfoDialog.js","components/BookImportDialog.js","components/ImportBookFrame.js","components/ReportFrame.js","components/GuestViewFrame.js","components/Dashboard.js","App.js","reportWebVitals.js","index.js"],"names":["Copyright","Typography","variant","color","align","Link","href","Date","getFullYear","useStyles","makeStyles","theme","root","height","image","backgroundImage","backgroundRepeat","backgroundColor","palette","type","grey","backgroundSize","backgroundPosition","paper","margin","spacing","display","flexDirection","alignItems","avatar","secondary","main","form","width","marginTop","submit","loginUser","credentials","a","fetch","process","method","headers","body","JSON","stringify","then","data","json","SignIn","setToken","classes","useState","userId","setUserId","psswd","setPassword","React","showError","setShowError","handleSubmit","e","preventDefault","token","console","log","Grid","container","component","className","CssBaseline","item","xs","sm","md","Paper","elevation","square","Avatar","noValidate","onSubmit","TextField","required","fullWidth","id","label","name","autoFocus","onChange","target","value","autoComplete","FormLabel","Button","Box","mt","mainListItems","ListItem","button","ListItemIcon","ListItemText","primary","ListSubheader","Title","props","gutterBottom","children","DashTileBooks","categorySwitch","hideLink","bookDataReady","useTheme","chartdata","setChartData","useEffect","getTopBooks","results","tmpdata","splice","length","slice","reverse","map","push","book_item","title","issued","item_count","inventory_count","checkout_count","CustomTooltip","active","payload","style","background","padding","Fragment","ResponsiveContainer","top","right","left","bottom","XAxis","dataKey","Tooltip","content","Bar","fill","hidden","onClick","event","depositContext","flex","DashTileCustomers","custDataReady","getCustomerRanking","member_item","first_name","last_name","amount","closeButton","position","InfoDialog","onClose","selectedValue","open","Details","prop","pairs","key","handleClose","Dialog","maxWidth","DialogTitle","IconButton","DialogContent","dividers","DialogActions","flexGrow","overflow","paddingTop","paddingBottom","tablecontainer","maxHeight","fixedHeight","checkin","checkindetils","DashTileIssued","bookBagList","setBookBagList","clsx","selectedMenuRow","setSelectedMenuRow","anchorEl","setAnchorEl","setAnchorE2","infoDialogOpen","setInfoDialogOpen","selectedInfoValue","setSelectedInfoValue","getUpdatedCheckBooks","bagrows","forEach","bag_item","status","checkinSubmit","bookId","bagId","CheckoutMenu","keepMounted","Boolean","MenuItem","row","TableContainer","Table","stickyHeader","TableHead","TableRow","TableCell","TableBody","currentTarget","handleMoreClick","authors","checkout_date","checkin_date","isbn","seeMore","DashFrame","fixedHeightPaper","Container","lg","pt","BookUpdateDialog","updateEntity","onUpdateData","replace","defaultValue","updateData","onCheckoutData","memberList","member","setMember","MemberDetails","select","helperText","option","disabled","deleteBook","url","updateBookDetails","details","checkOutBook","BookFrame","bookList","setBookList","setMemberList","deleteopen","setDeleteopen","anchorE2","updateDialogOpen","setUpdateDialogOpen","issueDialogOpen","setIssueDialogOpen","checkoutsubmit","getUpdatedMemberList","getUpdatedInventory","updateSubmit","bookDetails","deleteSubmit","bookrows","inventory_item","memberRows","user_id","join_date","dob","role","debt","AllBooksMenu","handleAllMoreClick","publisher","publication_date","count","dataid","bookID","selected_member","Snackbar","anchorOrigin","vertical","horizontal","message","autoHideDuration","MemberUpdateDialog","MemberInsertDialog","onInsertData","insertinfo","extendedIcon","marginRight","deleteMember","insertMemberDetails","updateMemberDetails","MemberFrame","anchorE1","setAnchorE1","insertDialogOpen","setInsertDialogOpen","updateMemberList","memberId","memberDetails","insertSubmit","MemberMenu","Fab","BookInfoDialog","BookImportDialog","importCount","setImportCount","InputLabelProps","shrink","searchFixedHeight","formgrid","importBookToSystem","ImportBookFrame","bookImportList","setBookImportList","importDialogOpen","setImportDialogOpen","searchParams","importlist","queryString","importDialogData","book_data","handleParamChange","disableElevation","ButtonGroup","showInfoDialog","Info","showImportDialog","AddCircle","ReportFrame","reportIndex","setReportIndex","reportType","setReportType","custReportData","setCustReportData","bookReportData","setBookReportData","FormControl","formControl","InputLabel","Select","labelId","csvContent","encodedUri","encodeURI","link","document","createElement","setAttribute","appendChild","click","GuestViewFrame","num_pages","average_rating","ratings_count","text_reviews_count","language_code","isbn13","toolbar","paddingRight","toolbarIcon","justifyContent","mixins","appBar","zIndex","drawer","transition","transitions","create","easing","sharp","duration","leavingScreen","appBarShift","marginLeft","enteringScreen","menuButton","menuButtonHidden","drawerPaper","whiteSpace","drawerPaperClose","overflowX","breakpoints","up","appBarSpacer","Dashboard","user_token","setOpen","category","setcategory","AppBar","Toolbar","edge","noWrap","Badge","badgeContent","Drawer","Divider","List","innerText","toLowerCase","getAttribute","tagName","parentNode","App","exact","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.6d430107.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","import React, { useState } from 'react';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField'; \r\nimport Link from '@material-ui/core/Link';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Box from '@material-ui/core/Box';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport FormLabel from '@material-ui/core/FormLabel';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport PropTypes from 'prop-types'; \r\n\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {'Copyright  '}\r\n      <Link color=\"inherit\" href=\"#\">\r\n        Your Website\r\n      </Link>{' '}\r\n      {new Date().getFullYear()}\r\n      {'.'}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    height: '100vh',\r\n  },\r\n  image: {\r\n    backgroundImage: 'url(https://images.unsplash.com/photo-1481627834876-b7833e8f5570?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1682&q=80)', \r\n    backgroundRepeat: 'no-repeat',\r\n    backgroundColor:\r\n      theme.palette.type === 'light' ? theme.palette.grey[50] : theme.palette.grey[900],\r\n    backgroundSize: 'cover',\r\n    backgroundPosition: 'center',\r\n  },\r\n  paper: {\r\n    margin: theme.spacing(8, 4),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\nasync function loginUser(credentials) {\r\n    return fetch(process.env.REACT_APP_API_URL+'signin', {\r\n      method: 'POST',\r\n      headers: {\r\n        'mode':'no-cors',\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify(credentials)\r\n    })\r\n      .then(data => data.json()) \r\n   }\r\n\r\n\r\nexport default function SignIn({ setToken }) { \r\n  const classes = useStyles();\r\n  const [userId, setUserId] = useState();\r\n  const [psswd, setPassword] = useState();\r\n  const [showError, setShowError] = React.useState(false)\r\n\r\n  const handleSubmit = async e => {\r\n    e.preventDefault();\r\n\r\n    const token = await loginUser({\r\n      userId,\r\n      psswd\r\n    });\r\n    console.log(token)\r\n    if(token[\"login\"] == \"success\"){    \r\n      setToken(token);\r\n    }else setShowError(true)\r\n  }\r\n\r\n  return (\r\n    <Grid container component=\"main\" className={classes.root}>\r\n      <CssBaseline />\r\n      <Grid item xs={false} sm={4} md={7} className={classes.image}  />\r\n      <Grid item xs={12} sm={8} md={5} component={Paper} elevation={6} square>\r\n        <div className={classes.paper}>\r\n          <Avatar className={classes.avatar}>\r\n            <LockOutlinedIcon />\r\n          </Avatar>\r\n          <Typography component=\"h1\" variant=\"h5\">\r\n            Sign in\r\n          </Typography>\r\n          <form className={classes.form} noValidate onSubmit={handleSubmit}>\r\n            <TextField\r\n              variant=\"outlined\"\r\n              margin=\"normal\"\r\n              required\r\n              fullWidth\r\n              id=\"email\"\r\n              label=\"User Id\"\r\n              name=\"user_id\" \r\n              autoFocus\r\n              onChange={e => setUserId(e.target.value)}\r\n            />\r\n            <TextField\r\n              variant=\"outlined\"\r\n              margin=\"normal\"\r\n              required\r\n              fullWidth\r\n              name=\"password\"\r\n              label=\"Password\"\r\n              type=\"password\"\r\n              id=\"password\"\r\n              autoComplete=\"current-password\"\r\n              onChange={e => setPassword(e.target.value)}\r\n            />\r\n            {/* <FormControlLabel\r\n              control={<Checkbox value=\"remember\" color=\"primary\" />}\r\n              label=\"Remember me\"\r\n            /> */}\r\n            {showError ?\r\n            <FormLabel >Invalid username or password</FormLabel>: null}\r\n            <Button\r\n              type=\"submit\"\r\n              fullWidth\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              className={classes.submit}\r\n            >\r\n              Sign In\r\n            </Button>\r\n            {/* <Grid container>\r\n              <Grid item xs>\r\n                <Link href=\"#\" variant=\"body2\">\r\n                  Forgot password?\r\n                </Link>\r\n              </Grid>\r\n              <Grid item>\r\n                <Link href=\"#\" variant=\"body2\">\r\n                  {\"Don't have an account? Sign Up\"}\r\n                </Link>\r\n              </Grid>\r\n            </Grid> */}\r\n            <Box mt={5}>\r\n              <Copyright />\r\n            </Box>\r\n          </form>\r\n        </div>\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n}\r\nSignIn.propTypes = {\r\n    setToken: PropTypes.func.isRequired\r\n  }","import React from 'react';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListSubheader from '@material-ui/core/ListSubheader';\r\nimport DashboardIcon from '@material-ui/icons/Dashboard';\r\nimport ImportContacts from '@material-ui/icons/ImportContacts';\r\nimport PeopleIcon from '@material-ui/icons/People';\r\nimport BarChartIcon from '@material-ui/icons/BarChart';\r\nimport SystemUpdateAlt from '@material-ui/icons/SystemUpdateAlt';\r\nimport AssignmentIcon from '@material-ui/icons/Assignment';\r\n\r\nexport const mainListItems = (\r\n  <div>\r\n    <ListItem button name=\"Dashboard\">\r\n      <ListItemIcon name=\"Dashboard\">\r\n        <DashboardIcon />\r\n      </ListItemIcon>\r\n      <ListItemText primary=\"Dashboard\" />\r\n    </ListItem>\r\n    <ListItem button  name=\"Books\">\r\n      <ListItemIcon  name=\"Books\">\r\n        <ImportContacts />\r\n      </ListItemIcon>\r\n      <ListItemText primary=\"Books\" />\r\n    </ListItem>\r\n    <ListItem button  name=\"Members\">\r\n      <ListItemIcon  name=\"Members\">\r\n        <PeopleIcon />\r\n      </ListItemIcon>\r\n      <ListItemText primary=\"Members\" />\r\n    </ListItem>\r\n    <ListItem button  name=\"Reports\">\r\n      <ListItemIcon  name=\"Reports\">\r\n        <BarChartIcon />\r\n      </ListItemIcon>\r\n      <ListItemText primary=\"Reports\" />\r\n    </ListItem>\r\n    <ListItem button  name=\"ImportBooks\">\r\n      <ListItemIcon  name=\"ImportBooks\">\r\n        <SystemUpdateAlt />\r\n      </ListItemIcon>\r\n      <ListItemText primary=\"ImportBooks\" />\r\n    </ListItem>\r\n  </div>\r\n);\r\n\r\nexport const secondaryListItems = (\r\n  <div>\r\n    <ListSubheader inset>Saved reports</ListSubheader>\r\n    <ListItem button>\r\n      <ListItemIcon>\r\n        <AssignmentIcon />\r\n      </ListItemIcon>\r\n      <ListItemText primary=\"Current month\" />\r\n    </ListItem>\r\n    <ListItem button>\r\n      <ListItemIcon>\r\n        <AssignmentIcon />\r\n      </ListItemIcon>\r\n      <ListItemText primary=\"Last quarter\" />\r\n    </ListItem>\r\n    <ListItem button>\r\n      <ListItemIcon>\r\n        <AssignmentIcon />\r\n      </ListItemIcon>\r\n      <ListItemText primary=\"Year-end sale\" />\r\n    </ListItem>\r\n  </div>\r\n);","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nexport default function Title(props) {\r\n  return (\r\n    <Typography component=\"h2\" variant=\"h6\" color=\"primary\" gutterBottom>\r\n      {props.children}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nTitle.propTypes = {\r\n  children: PropTypes.node,\r\n};","import React from 'react';\r\nimport PropTypes from 'prop-types';  \r\nimport { useTheme } from '@material-ui/core/styles'; \r\nimport { BarChart, Bar, XAxis, Tooltip, ResponsiveContainer } from 'recharts';\r\nimport Title from './Title';\r\nimport Link from '@material-ui/core/Link';\r\n \r\n\r\nfunction preventDefault(event) {\r\n  event.preventDefault();\r\n}\r\n\r\nexport default function DashTileBooks(props) {\r\n  const { categorySwitch ,hideLink,bookDataReady} = props;\r\n  const theme = useTheme();\r\n  const [chartdata, setChartData] = React.useState([]);\r\n\r\n  React.useEffect(() => { getTopBooks ()}, []);\r\n  \r\n  const getTopBooks = ()=>{\r\n    fetch(process.env.REACT_APP_API_URL+'getTopBooks')\r\n    .then(results => results.json())\r\n    .then(data => { \r\n      let tmpdata = []\r\n      chartdata.splice(0,chartdata.length) \r\n        data[\"rank_list\"].slice(0).reverse().map((item) => {   \r\n          tmpdata.push({ name:item.book_item.title, issued : item.item_count,\r\n            inventory_count : item.inventory_count,\r\n            checkout_count : item.checkout_count  });  \r\n         });\r\n         setChartData(tmpdata)\r\n         if(bookDataReady)\r\n          bookDataReady(data)\r\n    });    \r\n  } \r\n\r\n  \r\nconst CustomTooltip = ({ active, payload, label }) => {\r\n  if (active && payload && payload.length) { \r\n    return (\r\n      <div className=\"custom-tooltip\" style={{ background:\"rgba(238, 245, 246, 0.79)\",padding:\"10\"}}> \r\n        <p className=\"label\">{`${label} `}</p>\r\n        <p className=\"label\">{`Issued: ${payload[0].payload.issued} `}</p>\r\n        <p className=\"label\">{`Available: ${payload[0].payload.inventory_count- payload[0].payload.checkout_count  }`}</p>\r\n        <p className=\"label\">{`TotalCount: ${payload[0].payload.inventory_count}`}</p> \r\n      </div>\r\n    );\r\n  }\r\n  return null;\r\n};\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Title>Top Issued Books</Title>\r\n      <ResponsiveContainer width=\"100%\" height=\"100%\"> \r\n      <BarChart  \r\n          data={chartdata}\r\n          margin={{\r\n            top: 5,\r\n            right: 5,\r\n            left: 5,\r\n            bottom: 5,\r\n          }} \r\n        > \r\n          <XAxis dataKey=\"name\" /> \r\n          <Tooltip content={<CustomTooltip/>}/> \r\n          <Bar dataKey=\"issued\" label fill=\"#8884d8\"  /> \r\n        </BarChart>\r\n      </ResponsiveContainer> \r\n      <div hidden={hideLink}>\r\n        <Link color=\"primary\" href=\"#\" onClick={(event ) => {preventDefault(event); categorySwitch(\"reports\")}}>\r\n          View All Reports\r\n        </Link>\r\n      </div>    \r\n    </React.Fragment>\r\n  );\r\n}\r\nDashTileBooks.propTypes = {\r\n  categorySwitch: PropTypes.func.isRequired,\r\n  hideLink :PropTypes.bool,\r\n  bookDataReady:PropTypes.func,\r\n};","import React from 'react';\r\nimport PropTypes from 'prop-types';  \r\nimport Link from '@material-ui/core/Link';\r\nimport { makeStyles } from '@material-ui/core/styles'; \r\nimport Title from './Title';\r\nimport { BarChart, Bar, XAxis, Tooltip,  ResponsiveContainer } from 'recharts';\r\n\r\nfunction preventDefault(event) {\r\n  event.preventDefault();\r\n}\r\n\r\nconst useStyles = makeStyles({\r\n  depositContext: {\r\n    flex: 1,\r\n  },\r\n});\r\n\r\nexport default function DashTileCustomers(props) {\r\n  const { categorySwitch,hideLink,custDataReady } = props;\r\n  const classes = useStyles();\r\n  const [chartdata, setChartData] = React.useState([]);\r\n\r\n  React.useEffect(() => { getCustomerRanking ()}, []);\r\n  \r\n  const getCustomerRanking = ()=>{\r\n    fetch(process.env.REACT_APP_API_URL+'getCustomerRanking')\r\n    .then(results => results.json())\r\n    .then(data => { \r\n      let tmpdata = []\r\n      chartdata.splice(0,chartdata.length) \r\n        data[\"rank_list\"].slice(0).reverse().map((item) => {   \r\n          tmpdata.push({ name:item.member_item.first_name+\" \"+item.member_item.last_name, amount : item.item_count });  \r\n         });\r\n         setChartData(tmpdata)\r\n         if(custDataReady)\r\n         custDataReady(data)\r\n    });    \r\n  } \r\n  return (\r\n    <React.Fragment>\r\n      <Title>Highest Paying Customers</Title>\r\n      <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n        <BarChart  \r\n            data={chartdata}\r\n            margin={{\r\n              top: 5,\r\n              right: 5,\r\n              left: 5,\r\n              bottom: 5,\r\n            }} \r\n          > \r\n            <XAxis dataKey=\"name\" /> \r\n            <Tooltip /> \r\n            <Bar dataKey=\"amount\" label fill=\"#8884d8\"  /> \r\n          </BarChart>\r\n      </ResponsiveContainer>\r\n      <div hidden={hideLink}> \r\n        <Link color=\"primary\" href=\"#\"  onClick={(event ) => {preventDefault(event); categorySwitch(\"members\")}}>\r\n          See All Member Info\r\n        </Link>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n}\r\nDashTileCustomers.propTypes = {\r\n  categorySwitch: PropTypes.func.isRequired ,\r\n  hideLink :PropTypes.bool,\r\n  custDataReady:PropTypes.func,\r\n};","import React from 'react';\r\nimport PropTypes from 'prop-types'; \r\nimport { makeStyles } from '@material-ui/core/styles'; \r\nimport {Button, Typography, IconButton} from '@material-ui/core'; \r\nimport {DialogTitle ,DialogContent,DialogActions,Dialog }from '@material-ui/core';   \r\nimport CloseIcon from '@material-ui/icons/Close';  \r\n\r\nconst useStyles =  makeStyles((theme) => ({\r\n  root: {\r\n    margin: 0,\r\n    padding: theme.spacing(2),\r\n  },\r\n  closeButton: {\r\n    position: 'absolute',\r\n    right: theme.spacing(1),\r\n    top: theme.spacing(1),\r\n    color: theme.palette.grey[500],\r\n  },\r\n}));\r\nexport default function InfoDialog(props) { \r\n  const { onClose, selectedValue, open } = props;\r\n  const classes = useStyles(); \r\n\r\n  const Details = (prop)=>{    \r\n    var pairs = [];\r\n      for(var key in prop.data){\r\n        pairs.push(<p>{key} : {prop.data[key]}</p>);\r\n      } \r\n    return ( <div className=\"Data-item\">{pairs}</div> );\r\n  }\r\n\r\n  const handleClose = () => { \r\n    onClose();\r\n  };\r\n    \r\n  return (      \r\n    <Dialog onClose={handleClose} aria-labelledby=\"simple-dialog-title\"  className={classes.root} open={open} fullWidth=\"md\" maxWidth=\"md\">\r\n      <DialogTitle id=\"simple-dialog-title\">All Information</DialogTitle>\r\n      <IconButton aria-label=\"close\" className={classes.closeButton}  onClick={onClose}>\r\n        <CloseIcon />\r\n      </IconButton>\r\n      <DialogContent dividers>      \r\n        <Typography gutterBottom >\r\n            <h2>Book Issue Details</h2>\r\n            <Details data={selectedValue!=null?selectedValue[\"bag_item\"]:{}}></Details> \r\n        </Typography>\r\n        <Typography gutterBottom >              \r\n            <h2>User Details</h2>\r\n          <Details data={selectedValue!=null?selectedValue[\"member_item\"]:{}}></Details>  \r\n        </Typography>\r\n        <Typography gutterBottom >\r\n            <h2>Book Details</h2>\r\n            <Details data={selectedValue!=null?selectedValue[\"book_item\"]:{}}></Details>           \r\n        </Typography>\r\n      </DialogContent>\r\n      \r\n      <DialogActions>\r\n        <Button autoFocus onClick={handleClose} color=\"primary\">\r\n          Close\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n} \r\nInfoDialog.propTypes = {\r\n  onClose: PropTypes.func.isRequired,\r\n  open: PropTypes.bool.isRequired,\r\n  selectedValue: PropTypes.object.isRequired,\r\n};","import React from 'react'; \r\nimport clsx from 'clsx';    \r\nimport PropTypes from 'prop-types'; \r\nimport Title from './Title';\r\nimport { makeStyles } from '@material-ui/core/styles'; \r\nimport {Table ,TableBody ,TableCell,TableContainer,TableHead,TableRow} from '@material-ui/core';  \r\nimport {Link, IconButton} from '@material-ui/core'; \r\nimport {Menu ,MenuItem} from '@material-ui/core'; \r\nimport MoreVert from '@material-ui/icons/MoreVert'; \r\nimport InfoDialog from './InfoDialog';\r\n\r\nfunction preventDefault(event) {\r\n  event.preventDefault();\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: 'flex',\r\n  },\r\n    \r\n  content: {\r\n    flexGrow: 1,\r\n    height: '100vh',\r\n    overflow: 'auto',\r\n  },\r\n  container: {\r\n    paddingTop: theme.spacing(4),\r\n    paddingBottom: theme.spacing(4),\r\n  },\r\n  tablecontainer:{\r\n      maxHeight: 500,\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(2),\r\n    display: 'flex',\r\n    overflow: 'auto',\r\n    flexDirection: 'column',\r\n  },\r\n  fixedHeight: {\r\n    height: 450,\r\n  },\r\n  \r\n}));\r\n \r\n\r\nfunction createBagData(book_item,bag_item,member_item) { \r\n  return {book_item,bag_item,member_item};\r\n}\r\n  \r\nasync function checkin(checkindetils) {\r\n  return fetch(process.env.REACT_APP_API_URL+'checkin', {\r\n    method: 'POST',\r\n    headers: {\r\n      'mode':'no-cors',\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify(checkindetils)\r\n  })\r\n    .then(data => data.json()) \r\n}\r\n\r\nexport default function DashTileIssued(props) {\r\n  const { categorySwitch } = props;\r\n  const classes = useStyles();\r\n  const [bookBagList, setBookBagList] = React.useState([]);\r\n  const fixedHeightPaper = clsx(classes.paper, classes.fixedHeight); \r\n  const [selectedMenuRow, setSelectedMenuRow] = React.useState();\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n  const [anchorE2, setAnchorE2] = React.useState(null);\r\n  const [infoDialogOpen, setInfoDialogOpen] = React.useState(false);\r\n  const [selectedInfoValue, setSelectedInfoValue] = React.useState(null); \r\n  React.useEffect(() => { getUpdatedCheckBooks ()}, []);\r\n\r\n    const handleClose = () => {\r\n      setAnchorEl(null); \r\n      setAnchorE2(null); \r\n      setInfoDialogOpen(false);\r\n    };\r\n  const getUpdatedCheckBooks = ()=>{\r\n    fetch(process.env.REACT_APP_API_URL+'getCheckedBooks')\r\n    .then(results => results.json())\r\n    .then(data => { \r\n      bookBagList.splice(0,bookBagList.length)\r\n      let bagrows=[]\r\n      data[\"booklist\"].forEach((item) => {   \r\n        if(item.bag_item.status)\r\n          bagrows.push(createBagData(  item.book_item,item.bag_item,item.member_item)); \r\n       });\r\n       setBookBagList(bagrows)\r\n    });    \r\n  }\r\n\r\n  const handleMoreClick = (event,row) => {\r\n    setSelectedMenuRow(row) \r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const showBookInfo = (row) => { \r\n    setSelectedInfoValue(row)\r\n    setInfoDialogOpen(true)\r\n    setAnchorE2(null);\r\n  };\r\n\r\n  const returnbook = (row) => {   \r\n    checkinSubmit(row[\"member_item\"][\"id\"],row[\"book_item\"][\"bookID\"],row[\"bag_item\"][\"bagId\"])       \r\n    setAnchorEl(null);\r\n  };\r\n  const checkinSubmit = async (userId,bookId,bagId) => {  \r\n    const data = await checkin({\r\n      userId,\r\n      bookId,\r\n      bagId\r\n    }); \r\n     if(data[\"status\"] == \"success\"){   \r\n      getUpdatedCheckBooks()\r\n     } \r\n  }\r\n  function CheckoutMenu(){\r\n    return (<Menu\r\n         id=\"issuebook-menu\"\r\n         anchorEl={anchorEl}\r\n         keepMounted\r\n         open={Boolean(anchorEl)}\r\n         onClose={handleClose}\r\n       >\r\n       <MenuItem onClick={()=>{returnbook(selectedMenuRow)}}>Return Book</MenuItem>\r\n       <MenuItem onClick={()=> {showBookInfo(selectedMenuRow)}}>See All Info</MenuItem> \r\n     </Menu>);\r\n   }\r\n  return (\r\n    <React.Fragment>  \r\n    <Title>Issued Books </Title>            \r\n      <TableContainer className={classes.tablecontainer}>\r\n        <Table  stickyHeader aria-label=\"sticky table\">\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell width=\"5%\">  </TableCell> \r\n              <TableCell width=\"30%\"> Title </TableCell>\r\n              <TableCell width=\"20%\"> Authors </TableCell> \r\n              <TableCell width=\"20%\"> Member</TableCell> \r\n              <TableCell width=\"10%\"> Status </TableCell> \r\n              <TableCell width=\"30%\"> Issue Date </TableCell> \r\n              <TableCell width=\"40%\"> ReturnDate </TableCell> \r\n              <TableCell width=\"15%\"> ISBN</TableCell>  \r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n          {bookBagList.map((row) => (              \r\n            <TableRow key={row.bag_item.bagId}>\r\n                <TableCell  width=\"5%\">\r\n                    <IconButton aria-controls=\"simple-menu\" aria-haspopup=\"true\" onClick={(event ) => {handleMoreClick(event, row) }} > \r\n                        <MoreVert/>\r\n                    </IconButton>\r\n                    <CheckoutMenu></CheckoutMenu>\r\n                </TableCell> \r\n                <TableCell width=\"30%\">{row.book_item.title}</TableCell>\r\n                <TableCell width=\"20%\">{row.book_item.authors}</TableCell> \r\n                <TableCell width=\"20%\">{row.member_item.first_name + \" \" +row.member_item.last_name}</TableCell> \r\n                <TableCell width=\"10%\">{row.bag_item.status==1?\"Issued\":\"Returned\"}</TableCell> \r\n                <TableCell width=\"30%\">{row.bag_item.checkout_date}</TableCell> \r\n                <TableCell width=\"40%\">{row.bag_item.checkin_date?row.bag_item.checkin_date:\"-\"}</TableCell> \r\n                <TableCell width=\"10%\">{row.book_item.isbn}</TableCell>  \r\n            </TableRow>\r\n          ))}\r\n          </TableBody> \r\n        </Table> \r\n        </TableContainer> \r\n      <div className={classes.seeMore}>\r\n        <Link color=\"primary\" href=\"#\" onClick={(event ) => {preventDefault(event); categorySwitch(\"books\")}} >\r\n          See All Book Details\r\n        </Link>\r\n      </div>\r\n      <InfoDialog selectedValue={selectedInfoValue} open={infoDialogOpen} onClose={handleClose} />  \r\n    </React.Fragment>\r\n  );\r\n}\r\nDashTileIssued.propTypes = {\r\n  categorySwitch: PropTypes.func.isRequired \r\n};","import React from 'react';\r\nimport clsx from 'clsx';\r\nimport PropTypes from 'prop-types';  \r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport {Paper,Grid,Typography,Container,Box} from '@material-ui/core'; \r\nimport {Link} from '@material-ui/core';  \r\nimport DashTileBooks from './DashTileBooks';\r\nimport DashTileCustomers from './DashTileCustomers';\r\nimport DashTileIssued from './DashTileIssued'; \r\n\r\nfunction Copyright() {\r\n    return (\r\n      <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n        {'Copyright  '}\r\n        <Link color=\"inherit\" href=\"#\">\r\n          Your Website\r\n        </Link>{' '}\r\n        {new Date().getFullYear()}\r\n        {'.'}\r\n      </Typography>\r\n    );\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({     \r\n  content: {\r\n    flexGrow: 1,\r\n    height: '100vh',\r\n    overflow: 'auto',\r\n  },\r\n  container: {\r\n    paddingTop: theme.spacing(4),\r\n    paddingBottom: theme.spacing(4),\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(2),\r\n    display: 'flex',\r\n    overflow: 'auto',\r\n    flexDirection: 'column',\r\n  },\r\n  fixedHeight: {\r\n    height: 350,\r\n  },\r\n}));\r\n\r\nexport default function DashFrame(props) {\r\n  const { categorySwitch } = props;\r\n  const classes = useStyles();\r\n  const fixedHeightPaper = clsx(classes.paper, classes.fixedHeight);\r\n  return(\r\n   <Container maxWidth=\"lg\" className={classes.container}>\r\n      <Grid container spacing={3}>\r\n        {/* Chart */}\r\n        <Grid item xs={12} md={8} lg={8}>\r\n          <Paper className={fixedHeightPaper}>\r\n            <DashTileBooks categorySwitch ={categorySwitch}/>\r\n          </Paper>\r\n        </Grid>\r\n        {/* Recent Deposits */}\r\n        <Grid item xs={12} md={4} lg={4}>\r\n          <Paper className={fixedHeightPaper} >\r\n            <DashTileCustomers categorySwitch ={categorySwitch}/>\r\n          </Paper>\r\n        </Grid>\r\n        {/* Recent Orders */}\r\n        <Grid item xs={12}>\r\n          <Paper className={classes.paper}>\r\n            <DashTileIssued  categorySwitch ={categorySwitch}/>\r\n          </Paper>\r\n        </Grid>\r\n      </Grid>\r\n      <Box pt={4}>\r\n        <Copyright />\r\n      </Box>\r\n    </Container>\r\n  )\r\n}\r\nDashFrame.propTypes = {\r\n  categorySwitch: PropTypes.func.isRequired \r\n};","import React from 'react';\r\nimport PropTypes from 'prop-types'; \r\nimport { makeStyles } from '@material-ui/core/styles';  \r\nimport {Grid,Paper,Button, Typography, IconButton,TextField} from '@material-ui/core'; \r\nimport {DialogTitle ,DialogContent,DialogActions,Dialog }from '@material-ui/core';   \r\nimport CloseIcon from '@material-ui/icons/Close';  \r\n \r\n\r\nconst useStyles =  makeStyles((theme) => ({\r\n  root: {\r\n    margin: 0,\r\n    padding: theme.spacing(2),\r\n  },\r\n  closeButton: {\r\n    position: 'absolute',\r\n    right: theme.spacing(1),\r\n    top: theme.spacing(1),\r\n    color: theme.palette.grey[500],\r\n  },\r\n}));\r\n\r\nexport default function BookUpdateDialog(props) { \r\n  let updateEntity;\r\n  const { onClose, selectedValue, open, onUpdateData } = props; \r\n  const classes = useStyles(); \r\n  const Details = (prop)=>{      \r\n    var pairs = [];\r\n      for(var key in prop.data){\r\n        if(key!=\"bookID\")\r\n        pairs.push(\r\n          <TextField\r\n          autoFocus\r\n          margin=\"dense\"\r\n          id= {key}\r\n          label= {key.replace(\"_\",\" \")} \r\n          fullWidth \r\n          defaultValue = {prop.data[key]}\r\n          onChange={(event)=>updateData(event)}                  \r\n        /> \r\n        ) \r\n      } \r\n    return (\r\n            <div className=\"Data-item\">{pairs}</div>\r\n    );\r\n  }\r\n  \r\n  const updateData = (event) => { \r\n    if(updateEntity==null)\r\n      updateEntity=selectedValue[\"book_item\"]\r\n    updateEntity[event.target.id]=event.target.value  \r\n  };\r\n  const handleClose = () => { \r\n          onClose();\r\n  }; \r\n\r\n  const updateBook = () => { \r\n    if(updateEntity)\r\n      onUpdateData(updateEntity)      \r\n    onClose();\r\n  }; \r\n  return (\r\n      \r\n    <Dialog onClose={handleClose} aria-labelledby=\"simple-dialog-title\" className={classes.root} open={open} fullWidth=\"md\" maxWidth=\"md\">\r\n      <DialogTitle id=\"simple-dialog-title\">Update Book Info</DialogTitle>\r\n      <IconButton aria-label=\"close\" className={classes.closeButton}  onClick={handleClose}>\r\n        <CloseIcon />\r\n      </IconButton>\r\n      <DialogContent dividers>     \r\n        <Typography gutterBottom > \r\n            <Details data={selectedValue!=null?selectedValue[\"book_item\"]:{}}></Details>           \r\n        </Typography>\r\n      </DialogContent>\r\n      \r\n      <DialogActions>\r\n        <Button autoFocus onClick={handleClose} color=\"primary\">\r\n          Close\r\n        </Button>\r\n        <Button autoFocus onClick={updateBook} color=\"primary\">\r\n          Update\r\n        </Button>\r\n      </DialogActions>\r\n\r\n    </Dialog>\r\n  );\r\n}  \r\nBookUpdateDialog.propTypes = {\r\n  onClose: PropTypes.func.isRequired,   \r\n  onUpdateData: PropTypes.func.isRequired,   \r\n  open: PropTypes.bool.isRequired,\r\n  selectedValue: PropTypes.object.isRequired,\r\n};","import React from 'react';\r\nimport PropTypes from 'prop-types'; \r\nimport { makeStyles } from '@material-ui/core/styles';  \r\nimport {Grid,Paper,Button, IconButton,TextField} from '@material-ui/core'; \r\nimport {DialogTitle ,DialogContent,DialogActions,Dialog,MenuItem }from '@material-ui/core';   \r\nimport CloseIcon from '@material-ui/icons/Close';  \r\n \r\n\r\nconst useStyles =  makeStyles((theme) => ({\r\n  root: {\r\n    margin: 0,\r\n    padding: theme.spacing(2),\r\n  },\r\n  closeButton: {\r\n    position: 'absolute',\r\n    right: theme.spacing(1),\r\n    top: theme.spacing(1),\r\n    color: theme.palette.grey[500],\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(1),\r\n    display: 'flex',\r\n    overflow: 'auto',\r\n    flexDirection: 'column',\r\n  },\r\n}));\r\n\r\nexport default function BookUpdateDialog(props) { \r\n  const { onClose, selectedValue, open, onCheckoutData,memberList } = props; \r\n  const [member, setMember] = React.useState( null);\r\n  const classes = useStyles();  \r\n\r\n  const Details = (prop)=>{    \r\n    var pairs = [];\r\n      for(var key in prop.data){\r\n        pairs.push(<p>{key} : {prop.data[key]}</p>);\r\n      } \r\n    return (\r\n            <div className=\"Data-item\">{pairs}</div>\r\n    );\r\n  }\r\n\r\n  const MemberDetails = (prop)=>{    \r\n    var pairs = [];\r\n      for(var key in prop.data){\r\n        pairs.push(<p>{key} : {prop.data[key]}</p>);\r\n      } \r\n    return (\r\n            <div className=\"Data-item\">{pairs}</div>\r\n    );\r\n  }\r\n  \r\n  const checkoutData = () => {   \r\n    let updateEntity=[]\r\n    updateEntity[\"book_item\"]=selectedValue[\"book_item\"]\r\n    updateEntity[\"selected_member\"]=member \r\n    onCheckoutData(updateEntity)\r\n    handleClose()\r\n  };\r\n\r\n  const handleClose = () => { \r\n          onClose();\r\n  }; \r\n\r\n\r\n\r\n  const handleMemberChange = (event) => { \r\n    setMember(event.target.value);\r\n  };\r\n  const checkAvailable=()=>{\r\n    return selectedValue!=null?selectedValue[\"inventory_item\"]!=null?selectedValue[\"inventory_item\"][\"checkout_count\"] \r\n    <selectedValue[\"inventory_item\"][\"count\"]:false:false\r\n  }\r\n\r\n  React.useEffect(() => { \r\n    setMember(memberList[0])\r\n  },[]\r\n  )\r\n  return (\r\n      \r\n  <Dialog onClose={handleClose} aria-labelledby=\"simple-dialog-title\" className={classes.root} open={open} fullWidth=\"md\" maxWidth=\"md\">\r\n    <DialogTitle id=\"simple-dialog-title\">Issue Book</DialogTitle>\r\n    <IconButton aria-label=\"close\" className={classes.closeButton}  onClick={handleClose}>\r\n      <CloseIcon />\r\n    </IconButton>\r\n    <DialogContent dividers>    \r\n    <Grid container spacing={3}> \r\n    <Grid item xs={12} md={4} lg={6}> \r\n      {/* <Typography gutterBottom >  */}\r\n      <Paper className={classes.paper} elevation={3}>\r\n      {!checkAvailable()?\r\n        <div>Copy Not Available</div> :\r\n        <div> \r\n          <TextField\r\n            id=\"member-list\"\r\n            select\r\n            label=\"Select Member\"\r\n            value={member}\r\n            onChange={handleMemberChange}\r\n            helperText=\"Please select member\"\r\n          >\r\n          {memberList.map((option) => (\r\n            <MenuItem key={option.id} value={option}>\r\n            {option.first_name +\" \"+ option.last_name}\r\n            </MenuItem>\r\n          ))\r\n          }\r\n          </TextField>\r\n        </div>            \r\n      }\r\n      </Paper>\r\n      <Paper className={classes.paper} elevation={3} style={{marginTop:\"20px\"}}>\r\n      <h3>Member Details</h3>\r\n      <MemberDetails data={member!=null?member:{}}>  </MemberDetails>   \r\n\r\n      </Paper>\r\n      {/* </Typography> */}\r\n      </Grid>\r\n      <Grid item xs={12} md={4} lg={6}>  \r\n        <Paper className={classes.paper} elevation={3}>\r\n          <h3>Books Details</h3>\r\n          <Details data={selectedValue!=null?selectedValue[\"book_item\"]:{}}></Details>         \r\n        </Paper>\r\n      </Grid>\r\n      </Grid> \r\n    </DialogContent>\r\n    \r\n    <DialogActions>\r\n      <Button autoFocus onClick={handleClose} color=\"primary\">\r\n        Close\r\n      </Button>\r\n      <Button autoFocus onClick={checkoutData} color=\"primary\" disabled={member==null}>\r\n        Issue Book\r\n      </Button>\r\n    </DialogActions> \r\n  </Dialog>\r\n  );\r\n}  \r\nBookUpdateDialog.propTypes = {\r\n  onClose: PropTypes.func.isRequired,   \r\n  onCheckoutData: PropTypes.func.isRequired,   \r\n  open: PropTypes.bool.isRequired,\r\n  selectedValue: PropTypes.object.isRequired,\r\n  memberList: PropTypes.object.isRequired\r\n};","import React from 'react';\r\nimport clsx from 'clsx';\r\nimport Title from './Title';\r\nimport { makeStyles } from '@material-ui/core/styles';  \r\nimport {Paper,Grid,Typography,Container,Box} from '@material-ui/core';\r\nimport {Table ,TableBody ,TableCell,TableContainer,TableHead,TableRow} from '@material-ui/core';  \r\nimport {Link, IconButton,Snackbar} from '@material-ui/core'; \r\nimport {Menu ,MenuItem} from '@material-ui/core'; \r\nimport MoreVert from '@material-ui/icons/MoreVert'; \r\nimport InfoDialog from './InfoDialog';\r\nimport BookUpdateDialog from'./BookUpdateDialog';\r\nimport BookIssueDialog from'./BookIssueDialog';\r\n\r\n\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {'Copyright  '}\r\n      <Link color=\"inherit\" href=\"#\">\r\n        Your Website\r\n      </Link>{' '}\r\n      {new Date().getFullYear()}\r\n      {'.'}\r\n    </Typography>\r\n  );\r\n}\r\n  \r\nasync function deleteBook(bookId) {\r\n  let url = process.env.REACT_APP_API_URL+'deleteBook?bookId=' + bookId; \r\n  return fetch(url)  \r\n    .then(data => data.json()) \r\n }\r\n\r\nasync function checkin(checkindetils) {\r\n  return fetch(process.env.REACT_APP_API_URL+'checkin', {\r\n    method: 'POST',\r\n    headers: {\r\n      'mode':'no-cors',\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify(checkindetils)\r\n  })\r\n    .then(data => data.json()) \r\n }\r\n\r\n async function updateBookDetails(details) {  \r\n  return fetch(process.env.REACT_APP_API_URL+'updateBookDetails', {\r\n    method: 'POST',\r\n    headers: {\r\n      'mode':'no-cors',\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify(details)\r\n  })\r\n  .then(data => data.json()) \r\n }\r\n  \r\n async function checkOutBook(details) { \r\n  return fetch(process.env.REACT_APP_API_URL+'checkout', {\r\n    method: 'POST',\r\n    headers: {\r\n      'mode':'no-cors',\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify(details)\r\n  })\r\n  .then(data => data.json()) \r\n } \r\n\r\nconst useStyles = makeStyles((theme) => ({ \r\n    container: {\r\n      paddingTop: theme.spacing(4),\r\n      paddingBottom: theme.spacing(4),\r\n    },\r\n    tablecontainer:{\r\n        maxHeight: 500,\r\n    },\r\n    paper: {\r\n      padding: theme.spacing(2),\r\n      display: 'flex',\r\n      overflow: 'auto',\r\n      flexDirection: 'column',\r\n    },\r\n    fixedHeight: {\r\n      height: 450,\r\n    },\r\n     \r\n  }));\r\n\r\n  function createData(book_item, inventory_item) {\r\n    return {book_item, inventory_item};\r\n  }\r\n\r\n  function createBagData(book_item,bag_item,member_item) { \r\n    return {book_item,bag_item,member_item};\r\n  }\r\n  function createMemberData(id,user_id,join_date,first_name,last_name,dob,role,debt) {  \r\n    return {id,user_id,join_date,first_name,last_name,dob,role,debt};\r\n  }\r\n    \r\n\r\nexport default function BookFrame() {\r\n    const classes = useStyles(); \r\n    const fixedHeightPaper = clsx(classes.paper, classes.fixedHeight); \r\n    const [bookBagList, setBookBagList] = React.useState([]);\r\n    const [bookList, setBookList] = React.useState([]);\r\n    const [memberList, setMemberList] = React.useState([]);\r\n    const [selectedMenuRow, setSelectedMenuRow] = React.useState();\r\n    const [deleteopen, setDeleteopen] = React.useState();\r\n    const [anchorEl, setAnchorEl] = React.useState(null);\r\n    const [anchorE2, setAnchorE2] = React.useState(null);\r\n    const [infoDialogOpen, setInfoDialogOpen] = React.useState(false);\r\n    const [updateDialogOpen, setUpdateDialogOpen] = React.useState(false);\r\n    const [issueDialogOpen, setIssueDialogOpen] = React.useState(false);\r\n    const [selectedInfoValue, setSelectedInfoValue] = React.useState(null); \r\n  \r\n    const handleClose = () => {\r\n      setAnchorEl(null);\r\n      setAnchorE2(null);\r\n      setInfoDialogOpen(false)\r\n      setUpdateDialogOpen(false)\r\n      setIssueDialogOpen(false)\r\n    };\r\n\r\n    function updateDialogData(data){   \r\n      let dataid= data[\"bookID\"]\r\n      delete data.bookID;\r\n      updateSubmit(dataid,data)\r\n    };\r\n  \r\n    function issueDialogData(data){ \r\n      checkoutsubmit(data.selected_member.id,data.book_item.bookID)\r\n    };\r\n\r\n    const handleMoreClick = (event,row) => {\r\n      setSelectedMenuRow(row) \r\n      setAnchorEl(event.currentTarget);\r\n    };\r\n    const handleAllMoreClick = (event,row) => {\r\n      setSelectedMenuRow(row) \r\n      setAnchorE2(event.currentTarget);\r\n    };\r\n\r\n    const checkoutsubmit = async (userId,bookId) => {  \r\n      const data = await checkOutBook({ userId, bookId }); \r\n       if(data[\"status\"] == \"success\"){   \r\n          getUpdatedMemberList()\r\n          getUpdatedInventory()\r\n          getUpdatedCheckBooks()\r\n       } \r\n    }\r\n    const updateSubmit = async (bookId,bookDetails) => {  \r\n      const data = await updateBookDetails({ bookId,  bookDetails }); \r\n       if(data[\"status\"] == \"success\"){   \r\n        getUpdatedMemberList()\r\n        getUpdatedInventory()\r\n        getUpdatedCheckBooks() \r\n       } \r\n    }\r\n    const checkinSubmit = async (userId,bookId,bagId) => {  \r\n      const data = await checkin({ userId, bookId, bagId  }); \r\n       if(data[\"status\"] == \"success\"){  \r\n        getUpdatedMemberList()\r\n        getUpdatedInventory()\r\n        getUpdatedCheckBooks()\r\n       } \r\n    }\r\n    const deleteSubmit = async (bookId) => {  \r\n      const data = await deleteBook( bookId ); \r\n       if(data[\"status\"] == \"success\"){   \r\n        setDeleteopen(true)\r\n       } \r\n    }\r\n\r\n    const deletebook = (row) => {       \r\n      deleteSubmit(row[\"book_item\"][\"bookID\"])       \r\n      setAnchorE2(null);\r\n    };\r\n\r\n    const returnbook = (row) => {   \r\n      if(row[\"bag_item\"][\"status\"]==\"1\")\r\n        checkinSubmit(row[\"member_item\"][\"id\"],row[\"book_item\"][\"bookID\"],row[\"bag_item\"][\"bagId\"])       \r\n      setAnchorEl(null);\r\n    };\r\n  \r\n    const updatebook = (row) => {  \r\n      setSelectedInfoValue(row)\r\n      setUpdateDialogOpen(true)    \r\n      setAnchorE2(null);\r\n    };\r\n    const issuebook = (row) => {  \r\n      setSelectedInfoValue(row)\r\n      setIssueDialogOpen(true)    \r\n      setAnchorE2(null);\r\n    };\r\n    const showBookInfo = (row) => { \r\n      setSelectedInfoValue(row)\r\n      setInfoDialogOpen(true)\r\n      setAnchorE2(null);\r\n    };\r\n\r\n    const getUpdatedCheckBooks = ()=>{\r\n      fetch(process.env.REACT_APP_API_URL+'getCheckedBooks')\r\n      .then(results => results.json())\r\n      .then(data => { \r\n        bookBagList.splice(0,bookBagList.length)\r\n        let bagrows=[]\r\n        data[\"booklist\"].forEach((item) => {   \r\n          bagrows.push(createBagData(  item.book_item,item.bag_item,item.member_item)); \r\n         });\r\n         setBookBagList(bagrows)\r\n      });    \r\n    }\r\n    const getUpdatedInventory = ()=>{ \r\n      fetch(process.env.REACT_APP_API_URL+'getBooksInventory')\r\n      .then(results => results.json())\r\n      .then(data => {\r\n        bookList.splice(0,bookList.length)\r\n        let bookrows=[] \r\n          data[\"booklist\"].forEach((item) => { \r\n            bookrows.push(createData(item.book_item,item.inventory_item)); \r\n        });\r\n      setBookList(bookrows) \r\n      });\r\n    }\r\n\r\n    const getUpdatedMemberList =()=>{\r\n      fetch(process.env.REACT_APP_API_URL+'getMemberList')\r\n      .then(results => results.json())\r\n      .then(data => {  \r\n          memberList.splice(0,memberList.length)\r\n          let memberRows=[]\r\n          data[\"memberlist\"].forEach((item) => {   \r\n            memberRows.push(createMemberData(item.id,item.user_id,item.join_date,item.first_name,item.last_name,item.dob,item.role,item.debt));\r\n          }); \r\n         setMemberList(memberRows) \r\n      }); \r\n    }\r\n    React.useEffect(() => { getUpdatedCheckBooks ()}, []);\r\n    \r\n    React.useEffect(() => {getUpdatedInventory ()}, []);\r\n   \r\n    React.useEffect(() => {getUpdatedMemberList()}, []);\r\n\r\n    function CheckoutMenu(){\r\n     return (<Menu\r\n          id=\"issuebook-menu\"\r\n          anchorEl={anchorEl}\r\n          keepMounted\r\n          open={Boolean(anchorEl)}\r\n          onClose={handleClose}\r\n        >\r\n        <MenuItem onClick={()=>{returnbook(selectedMenuRow)}}>Return Book</MenuItem>\r\n        <MenuItem onClick={()=> {showBookInfo(selectedMenuRow)}}>See All Info</MenuItem> \r\n      </Menu>);\r\n    }\r\n\r\n    function AllBooksMenu(){\r\n      return (<Menu id=\"booklist-menu\"  anchorEl={anchorE2}  keepMounted open={Boolean(anchorE2)} onClose={handleClose} >\r\n         <MenuItem onClick={()=>{issuebook(selectedMenuRow)}}>Issue Book</MenuItem>\r\n         <MenuItem onClick={()=>{updatebook(selectedMenuRow)}}>Update Book Info</MenuItem>\r\n         <MenuItem onClick={()=> {deletebook(selectedMenuRow)}}>Delete this Book</MenuItem> \r\n       </Menu>);\r\n     }\r\n\r\n    return(\r\n     <Container maxWidth=\"lg\" className={classes.container}>\r\n        <Grid container spacing={3}> \r\n            <Grid item xs={12} md={4} lg={12}>\r\n            <Paper className={fixedHeightPaper}>            \r\n              <Title>Checked Books </Title>            \r\n                <TableContainer className={classes.tablecontainer}>\r\n                  <Table  stickyHeader aria-label=\"sticky table\">\r\n                    <TableHead>\r\n                      <TableRow>\r\n                          <TableCell width=\"5%\">  </TableCell> \r\n                          <TableCell width=\"30%\"> Title </TableCell>\r\n                          <TableCell width=\"20%\"> Authors </TableCell> \r\n                          <TableCell width=\"20%\"> Member</TableCell> \r\n                          <TableCell width=\"10%\"> Status </TableCell> \r\n                          <TableCell width=\"30%\"> Issue Date </TableCell> \r\n                          <TableCell width=\"40%\"> ReturnDate </TableCell> \r\n                          <TableCell width=\"15%\"> ISBN</TableCell>  \r\n                      </TableRow>\r\n                      </TableHead>\r\n                      <TableBody>\r\n                      {bookBagList.map((row) => (\r\n                          \r\n                        <TableRow key={row.bag_item.bagId}>\r\n                          <TableCell  width=\"5%\">\r\n                              <IconButton aria-controls=\"simple-menu\" aria-haspopup=\"true\"  onClick={(event ) => {handleMoreClick(event, row) }}> \r\n                                  <MoreVert/>\r\n                              </IconButton>\r\n                              <CheckoutMenu></CheckoutMenu>\r\n                          </TableCell> \r\n                          <TableCell width=\"30%\">{row.book_item.title}</TableCell>\r\n                          <TableCell width=\"20%\">{row.book_item.authors}</TableCell> \r\n                          <TableCell width=\"20%\">{row.member_item.first_name + \" \" +row.member_item.last_name}</TableCell> \r\n                          <TableCell width=\"10%\">{row.bag_item.status==1?\"Issued\":\"Returned\"}</TableCell> \r\n                          <TableCell width=\"30%\">{row.bag_item.checkout_date}</TableCell> \r\n                          <TableCell width=\"40%\">{row.bag_item.checkin_date?row.bag_item.checkin_date:\"-\"}</TableCell> \r\n                          <TableCell width=\"10%\">{row.book_item.isbn}</TableCell>  \r\n                        </TableRow>\r\n                      ))}\r\n                      </TableBody> \r\n                  </Table> \r\n                  </TableContainer>\r\n                </Paper>\r\n            </Grid>\r\n             \r\n            <Grid item xs={12} md={8} lg={12}>\r\n                <Paper className={fixedHeightPaper}>            \r\n                    <Title>All Books </Title>            \r\n                    <TableContainer className={classes.tablecontainer}>\r\n                    <Table  stickyHeader aria-label=\"sticky table\">\r\n                        <TableHead>\r\n                            <TableRow>\r\n                              <TableCell>  </TableCell> \r\n                              <TableCell width=\"30%\"> Title </TableCell>\r\n                              <TableCell> Authors </TableCell> \r\n                              <TableCell> Publisher </TableCell> \r\n                              <TableCell width=\"20%\"> Publication date </TableCell> \r\n                              <TableCell width=\"15%\"> No. of books </TableCell> \r\n                              <TableCell width=\"15%\"> No. Issued books </TableCell> \r\n                              <TableCell width=\"5%\"> ISBN</TableCell>  \r\n                            </TableRow>\r\n                        </TableHead>\r\n                        <TableBody>\r\n                        {bookList.map((row) => (\r\n                            \r\n                            <TableRow key={row.book_item.isbn}>\r\n                              <TableCell>\r\n                                  <IconButton onClick={(event ) => {handleAllMoreClick(event, row) }}> \r\n                                      <MoreVert/>\r\n                                  </IconButton>\r\n                                  <AllBooksMenu/>\r\n                              </TableCell> \r\n                              <TableCell  >  {row.book_item.title}  </TableCell>\r\n                              <TableCell>{row.book_item.authors}</TableCell> \r\n                              <TableCell>{row.book_item.publisher}</TableCell> \r\n                              <TableCell>{row.book_item.publication_date}</TableCell> \r\n                              <TableCell>{row.inventory_item.count}</TableCell> \r\n                              <TableCell>{row.inventory_item.checkout_count}</TableCell> \r\n                              <TableCell>{row.book_item.isbn}</TableCell>  \r\n                            </TableRow>\r\n                        ))}\r\n                        </TableBody> \r\n                    </Table> \r\n                    </TableContainer>\r\n                </Paper>\r\n            </Grid>\r\n\r\n            </Grid>\r\n        <InfoDialog selectedValue={selectedInfoValue} open={infoDialogOpen} onClose={handleClose} />          \r\n        <BookUpdateDialog selectedValue={selectedInfoValue} open={updateDialogOpen}  onClose={handleClose} onUpdateData={updateDialogData} />            \r\n        <BookIssueDialog selectedValue={selectedInfoValue} memberList={memberList} open={issueDialogOpen}  onClose={handleClose} onCheckoutData={issueDialogData} />            \r\n        <Box pt={4}>\r\n            <Copyright />\r\n        </Box>\r\n        <Snackbar\r\n          anchorOrigin={{vertical: 'top', horizontal: 'center' }}\r\n          open={deleteopen} \r\n          message=\"Book Deleted Successfully\"\r\n          autoHideDuration={1000}\r\n          key=\"topcenter\"\r\n        />\r\n     </Container>\r\n    )\r\n}","import React from 'react';\r\nimport PropTypes from 'prop-types'; \r\nimport { makeStyles } from '@material-ui/core/styles'; \r\nimport {Button, Typography, IconButton,TextField} from '@material-ui/core'; \r\nimport {DialogTitle ,DialogContent,DialogActions,Dialog }from '@material-ui/core';   \r\nimport CloseIcon from '@material-ui/icons/Close';  \r\n \r\n\r\nconst useStyles =  makeStyles((theme) => ({\r\n    \r\n  root: {\r\n    margin: 0,\r\n    padding: theme.spacing(2),\r\n  },\r\n  closeButton: {\r\n    position: 'absolute',\r\n    right: theme.spacing(1),\r\n    top: theme.spacing(1),\r\n    color: theme.palette.grey[500],\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(1),\r\n    display: 'flex',\r\n    overflow: 'auto',\r\n    flexDirection: 'column',\r\n  },\r\n}));\r\n\r\nexport default function MemberUpdateDialog(props) { \r\n    let updateEntity;\r\n    const { onClose, selectedValue, open, onUpdateData } = props; \r\n    const classes = useStyles(); \r\n\r\n    const Details = (prop)=>{         \r\n        var pairs = [];\r\n          for(var key in prop.data){\r\n            if(key!==\"id\")\r\n            pairs.push(\r\n              <TextField\r\n              autoFocus\r\n              margin=\"dense\"\r\n              id= {key}\r\n              label= {key.replace(\"_\",\" \")} \r\n              fullWidth \r\n              defaultValue = {prop.data[key]}\r\n              onChange={(event)=>updateData(event)}                  \r\n            /> \r\n            ) \r\n          } \r\n        return (\r\n                <div className=\"Data-item\">{pairs}</div>\r\n        );\r\n      }\r\n    const updateData = (event) => { \r\n        if(updateEntity==null)\r\n          updateEntity=selectedValue\r\n        updateEntity[event.target.id]=event.target.value  \r\n      };\r\n      const handleClose = () => { \r\n              onClose();\r\n      }; \r\n  \r\n      const updateMember = () => { \r\n        if(updateEntity)\r\n          onUpdateData(updateEntity)      \r\n        onClose();\r\n      }; \r\n    return (\r\n       \r\n        <Dialog onClose={handleClose} aria-labelledby=\"simple-dialog-title\" className={classes.root} open={open} fullWidth=\"md\" maxWidth=\"md\">\r\n          <DialogTitle id=\"simple-dialog-title\">Update Book Info</DialogTitle>\r\n          <IconButton aria-label=\"close\" className={classes.closeButton}  onClick={handleClose}>\r\n            <CloseIcon />\r\n          </IconButton>\r\n          <DialogContent dividers>     \r\n            <Typography gutterBottom > \r\n                <Details data={selectedValue!=null?selectedValue:{}}></Details>           \r\n            </Typography>\r\n          </DialogContent>\r\n          \r\n          <DialogActions>\r\n            <Button autoFocus onClick={handleClose} color=\"primary\">\r\n              Close\r\n            </Button>\r\n            <Button autoFocus onClick={updateMember} color=\"primary\">\r\n              Update\r\n            </Button>\r\n          </DialogActions>\r\n   \r\n        </Dialog>\r\n      );\r\n\r\n}\r\nMemberUpdateDialog.propTypes = {\r\n  onClose: PropTypes.func.isRequired,   \r\n  onUpdateData: PropTypes.func.isRequired,   \r\n  open: PropTypes.bool.isRequired,\r\n  selectedValue: PropTypes.object.isRequired,\r\n};","import React from 'react';\r\nimport PropTypes from 'prop-types'; \r\nimport { makeStyles } from '@material-ui/core/styles'; \r\nimport {Button, Typography, IconButton,TextField} from '@material-ui/core'; \r\nimport {DialogTitle ,DialogContent,DialogActions,Dialog }from '@material-ui/core';   \r\nimport CloseIcon from '@material-ui/icons/Close';  \r\n \r\n\r\nconst useStyles =  makeStyles((theme) => ({    \r\n  root: {\r\n    margin: 0,\r\n    padding: theme.spacing(2),\r\n  },\r\n  closeButton: {\r\n    position: 'absolute',\r\n    right: theme.spacing(1),\r\n    top: theme.spacing(1),\r\n    color: theme.palette.grey[500],\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(1),\r\n    display: 'flex',\r\n    overflow: 'auto',\r\n    flexDirection: 'column',\r\n  },\r\n}));\r\n\r\nexport default function MemberInsertDialog(props) {  \r\n    const { onClose, open, onInsertData } = props; \r\n    const [insertinfo,setInsertInfo] = React.useState( { \"user_id\": \"\", \"first_name\": \"\", \"last_name\": \"\", \"dob\": \"\" ,\"psswd\":\"\"});\r\n    const classes = useStyles(); \r\n\r\n    const Details = (prop)=>{         \r\n        var pairs = [];\r\n          for(var key in prop.data){\r\n            if(key!==\"psswd\")\r\n            pairs.push(\r\n              <TextField\r\n              autoFocus\r\n              margin=\"dense\"\r\n              id= {key}\r\n              label= {key.replace(\"_\",\" \")} \r\n              fullWidth  \r\n              defaultValue = {prop.data[key]}\r\n              onChange={(event)=>updateData(event)}                  \r\n            /> \r\n            ) \r\n          } \r\n        return (\r\n                <div className=\"Data-item\">{pairs}</div>\r\n        );\r\n      }\r\n    const updateData = (event) => {  \r\n        insertinfo[event.target.id]=event.target.value  \r\n    };\r\n    const handleClose = () => { \r\n      onClose();\r\n    }; \r\n  \r\n    const updateMember = () => {  \r\n      if(insertinfo.user_id!==\"\")\r\n          onInsertData(insertinfo)      \r\n      onClose();\r\n    }; \r\n    return (       \r\n      <Dialog onClose={handleClose} aria-labelledby=\"simple-dialog-title\" className={classes.root} open={open} fullWidth=\"md\" maxWidth=\"md\">\r\n        <DialogTitle id=\"simple-dialog-title\">Add new member</DialogTitle>\r\n        <IconButton aria-label=\"close\" className={classes.closeButton}  onClick={handleClose}>\r\n          <CloseIcon />\r\n        </IconButton>\r\n        <DialogContent dividers>     \r\n          <Typography gutterBottom > \r\n              <Details data={ insertinfo}\r\n              ></Details>           \r\n          </Typography>\r\n        </DialogContent>\r\n        \r\n        <DialogActions>\r\n          <Button autoFocus onClick={handleClose} color=\"primary\">\r\n            Close\r\n          </Button>\r\n          <Button autoFocus onClick={updateMember} color=\"primary\">\r\n            Add\r\n          </Button>\r\n        </DialogActions>\r\n  \r\n      </Dialog>\r\n      );\r\n\r\n}\r\nMemberInsertDialog.propTypes = {\r\n  onClose: PropTypes.func.isRequired,   \r\n  onInsertData: PropTypes.func.isRequired,   \r\n  open: PropTypes.bool.isRequired, \r\n};","import React from 'react';\r\nimport clsx from 'clsx';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n \r\nimport Title from './Title';\r\nimport {Paper,Grid,Typography,Container,Box} from '@material-ui/core';\r\nimport {Table ,TableBody ,TableCell,TableContainer,TableHead,TableRow} from '@material-ui/core';  \r\nimport {Link, IconButton,Snackbar,Fab} from '@material-ui/core'; \r\nimport {Menu ,MenuItem} from '@material-ui/core';     \r\nimport MoreVert from '@material-ui/icons/MoreVert';   \r\nimport AddIcon from '@material-ui/icons/Add'; \r\nimport MemberUpdateDialog from './MemberUpdateDialog';\r\nimport MemberInsertDialog from './MemberInsertDialog'; \r\n\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {'Copyright  '}\r\n      <Link color=\"inherit\" href=\"#\">\r\n        Your Website\r\n      </Link>{' '}\r\n      {new Date().getFullYear()}\r\n      {'.'}\r\n    </Typography>\r\n  );\r\n} \r\nconst useStyles = makeStyles((theme) => ({ \r\n    container: {\r\n      paddingTop: theme.spacing(4),\r\n      paddingBottom: theme.spacing(4),\r\n    },\r\n    paper: {\r\n      padding: theme.spacing(2),\r\n      display: 'flex',\r\n      overflow: 'auto',\r\n      flexDirection: 'column',\r\n    },\r\n    fixedHeight: {\r\n      height: 600,\r\n    }, \r\n    extendedIcon: {\r\n      marginRight: theme.spacing(1),\r\n    },\r\n  }));\r\n\r\n  async function deleteMember(id) {\r\n    let url = process.env.REACT_APP_API_URL+'deleteMember?memberId=' + id; \r\n    return fetch(url).then(data => data.json()) \r\n   }\r\n   async function insertMemberDetails(details){\r\n    return fetch(process.env.REACT_APP_API_URL+'signup', {\r\n      method: 'POST',\r\n      headers: {\r\n        'mode':'no-cors',\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify(details)\r\n    })\r\n    .then(data => data.json()) \r\n  }\r\n  async function updateMemberDetails(details) {  \r\n    return fetch(process.env.REACT_APP_API_URL+'updateMemberDetails', {\r\n      method: 'POST',\r\n      headers: {\r\n        'mode':'no-cors',\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify(details)\r\n    })\r\n    .then(data => data.json()) \r\n   }\r\n\r\n  function createMemberData(id,user_id,join_date,first_name,last_name,dob,role,debt) {  \r\n    return {id,user_id,join_date,first_name,last_name,dob,role,debt};\r\n  }\r\n\r\nexport default function MemberFrame() {\r\n  const classes = useStyles();\r\n  const fixedHeightPaper = clsx(classes.paper, classes.fixedHeight); \r\n  const [memberList, setMemberList] = React.useState([]);\r\n  const [anchorE1, setAnchorE1] = React.useState(null);\r\n  const [selectedMenuRow, setSelectedMenuRow] = React.useState();\r\n  const [selectedInfoValue, setSelectedInfoValue] = React.useState(null); \r\n  const [updateDialogOpen, setUpdateDialogOpen] = React.useState(false);\r\n  const [insertDialogOpen, setInsertDialogOpen] = React.useState(false);\r\n  const [deleteopen, setDeleteopen] = React.useState();\r\n\r\n \r\n  React.useEffect(() => {\r\n    fetch(process.env.REACT_APP_API_URL+'getMemberList')\r\n    .then(results => results.json())\r\n    .then(data => {  updateMemberList(data) })}, []);\r\n\r\n    const updateMemberList =(data)=>{\r\n      memberList.splice(0,memberList.length)\r\n      let memberRows=[]\r\n      data[\"memberlist\"].forEach((item) => {   \r\n        memberRows.push(createMemberData(item.id,item.user_id,item.join_date,item.first_name,item.last_name,item.dob,item.role,item.debt));\r\n      }); \r\n       setMemberList(memberRows) \r\n    }\r\n\r\n    const updatemember = (row) => {  \r\n      setSelectedInfoValue(row)\r\n      setUpdateDialogOpen(true)    \r\n      setAnchorE1(null);\r\n    };\r\n    const deletemember = (row) => {       \r\n      deleteSubmit(row[\"id\"])       \r\n      setAnchorE1(null);\r\n    };\r\n    const handleMoreClick = (event,row) => {\r\n      setSelectedMenuRow(row) \r\n      setAnchorE1(event.currentTarget);\r\n    };\r\n\r\n    const handleAddMember = (event)=>{\r\n      setInsertDialogOpen(true)\r\n    }\r\n    const handleClose = (event,row) => {\r\n      setAnchorE1(null);\r\n      setUpdateDialogOpen(false);\r\n      setInsertDialogOpen(false);\r\n      };\r\n\r\n    function updateDialogData(data){   \r\n      let dataid= data[\"id\"]\r\n      delete data.id;\r\n      updateSubmit(dataid,data)\r\n    };\r\n\r\n    function insertDialogData(data){   \r\n      insertSubmit(data.user_id,data.psswd,data.first_name,data.last_name,data.dob)\r\n    };\r\n\r\n    const updateSubmit = async (memberId,memberDetails) => {  \r\n      const data = await updateMemberDetails({memberId, memberDetails }); \r\n      updateMemberList(data)\r\n    }  \r\n    const insertSubmit = async (user_id,psswd,first_name,last_name,dob) => {  \r\n      const data = await insertMemberDetails({ user_id,psswd,first_name,last_name,dob  }); \r\n      updateMemberList(data)\r\n    }  \r\n\r\n    const deleteSubmit = async (id) => {  \r\n      const data = await deleteMember( id ); \r\n       updateMemberList(data)\r\n    }\r\n\r\n    function MemberMenu(){\r\n      return (<Menu\r\n            id=\"booklist-menu\"\r\n            anchorEl={anchorE1}\r\n            keepMounted\r\n            open={Boolean(anchorE1)}\r\n            onClose={handleClose}\r\n          >\r\n            <MenuItem onClick={()=>{updatemember(selectedMenuRow)}} >Update Member Details</MenuItem>\r\n            <MenuItem onClick={()=> {deletemember(selectedMenuRow)}}>Delete this member</MenuItem>  \r\n        </Menu>);\r\n      }\r\n\r\n    return(\r\n    <Container maxWidth=\"lg\" className={classes.container}>\r\n           <Grid container spacing={3}> \r\n            <Grid item xs={12} md={4} lg={12}>\r\n\r\n            \r\n            <Paper className={fixedHeightPaper}>            \r\n              <Title>All Library Members </Title> \r\n              \r\n              <TableContainer className={classes.tablecontainer}>\r\n              <Table  stickyHeader aria-label=\"sticky table\">\r\n                <TableHead>\r\n                  <TableRow>\r\n                      <TableCell> \r\n                        <Fab color=\"secondary\" aria-label=\"add\" onClick={(event ) => {handleAddMember(event) }}> \r\n                        <AddIcon />\r\n                        </Fab>\r\n                      </TableCell> \r\n                      <TableCell >User Id</TableCell>\r\n                      <TableCell>First name</TableCell> \r\n                      <TableCell>Last Name</TableCell> \r\n                      <TableCell >DOB</TableCell> \r\n                      <TableCell >Role</TableCell> \r\n                      <TableCell >Debt</TableCell> \r\n                      <TableCell >DOJ</TableCell>  \r\n                    </TableRow>\r\n                  </TableHead>\r\n                  <TableBody>\r\n                  {memberList.map((row) => (                            \r\n                    <TableRow key={row.id}>\r\n                      <TableCell>\r\n                          <IconButton onClick={(event ) => {handleMoreClick(event, row) }}> \r\n                              <MoreVert/>\r\n                          </IconButton>\r\n                          <MemberMenu/>\r\n                      </TableCell> \r\n                      <TableCell>  {row.user_id}  </TableCell>\r\n                      <TableCell>{row.first_name}</TableCell> \r\n                      <TableCell>{row.last_name}</TableCell> \r\n                      <TableCell>{row.dob}</TableCell> \r\n                      <TableCell>{row.role}</TableCell> \r\n                      <TableCell>{row.debt}</TableCell> \r\n                      <TableCell>{row.join_date}</TableCell>  \r\n                    </TableRow>\r\n                  ))}\r\n                  </TableBody> \r\n              </Table> \r\n              </TableContainer> \r\n            </Paper>\r\n            </Grid>\r\n            </Grid>\r\n            <MemberUpdateDialog selectedValue={selectedInfoValue} open={updateDialogOpen}  onClose={handleClose} onUpdateData={updateDialogData} />            \r\n            <MemberInsertDialog open={insertDialogOpen}  onClose={handleClose} onInsertData={insertDialogData} />            \r\n          <Box pt={4}>\r\n            <Copyright />\r\n          </Box>\r\n          <Snackbar\r\n            anchorOrigin={{vertical: 'top', horizontal: 'center' }}\r\n            open={deleteopen} \r\n            message=\"Book Deleted Successfully\"\r\n            autoHideDuration={1000}\r\n            key=\"topcenter\"\r\n        />\r\n     </Container>\r\n  )\r\n}","import React from 'react';\r\nimport PropTypes from 'prop-types'; \r\nimport { makeStyles } from '@material-ui/core/styles';   \r\nimport {Button, Typography, IconButton} from '@material-ui/core'; \r\nimport {DialogTitle ,DialogContent,DialogActions,Dialog }from '@material-ui/core';   \r\nimport CloseIcon from '@material-ui/icons/Close';  \r\n\r\nconst useStyles =  makeStyles((theme) => ({\r\n    root: {\r\n      margin: 0,\r\n      padding: theme.spacing(2),\r\n    },\r\n    closeButton: {\r\n      position: 'absolute',\r\n      right: theme.spacing(1),\r\n      top: theme.spacing(1),\r\n      color: theme.palette.grey[500],\r\n    },\r\n  }));\r\n  \r\nexport default function BookInfoDialog(props) { \r\n  const { onClose, selectedValue, open } = props;\r\n  const classes = useStyles(); \r\n\r\n  const Details = (prop)=>{    \r\n    var pairs = [];\r\n      for(var key in prop.data){\r\n        if(key!=\"count\")\r\n          pairs.push(<p>{key} : {prop.data[key]}</p>);\r\n      } \r\n    return (\r\n            <div className=\"Data-item\">{pairs}</div>\r\n    );\r\n  }\r\n\r\n  const handleClose = () => { \r\n    onClose();\r\n  };\r\n  \r\n  return (       \r\n    <Dialog onClose={handleClose} aria-labelledby=\"simple-dialog-title\"  className={classes.root} open={open} fullWidth=\"md\" maxWidth=\"md\">\r\n      <DialogTitle id=\"simple-dialog-title\">Book Information</DialogTitle>\r\n      <IconButton aria-label=\"close\" className={classes.closeButton}  onClick={onClose}>\r\n        <CloseIcon />\r\n      </IconButton>\r\n      <DialogContent dividers>   \r\n        <Typography gutterBottom > \r\n            <Details data={selectedValue!=null?selectedValue:{}}></Details>           \r\n        </Typography>\r\n      </DialogContent>        \r\n      <DialogActions>\r\n        <Button autoFocus onClick={handleClose} color=\"primary\">\r\n          Close\r\n        </Button>\r\n      </DialogActions> \r\n    </Dialog>\r\n  );\r\n}  \r\nBookInfoDialog.propTypes = {\r\n  onClose: PropTypes.func.isRequired,\r\n  open: PropTypes.bool.isRequired,\r\n  selectedValue: PropTypes.object.isRequired,\r\n};","import React from 'react';\r\nimport PropTypes from 'prop-types'; \r\nimport { makeStyles } from '@material-ui/core/styles';  \r\nimport {Grid,Paper,Button, IconButton,TextField} from '@material-ui/core'; \r\nimport {DialogTitle ,DialogContent,DialogActions,Dialog }from '@material-ui/core';   \r\nimport CloseIcon from '@material-ui/icons/Close';  \r\n \r\n\r\nconst useStyles =  makeStyles((theme) => ({\r\n  root: {\r\n    margin: 0,\r\n    padding: theme.spacing(2),\r\n  },\r\n  closeButton: {\r\n    position: 'absolute',\r\n    right: theme.spacing(1),\r\n    top: theme.spacing(1),\r\n    color: theme.palette.grey[500],\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(1),\r\n    display: 'flex',\r\n    overflow: 'auto',\r\n    flexDirection: 'column',\r\n  },\r\n}));\r\n\r\nexport default function BookImportDialog(props) { \r\n    const { onClose, selectedValue, open, onCheckoutData } = props;  \r\n    const [ importCount, setImportCount] = React.useState( null);\r\n    const classes = useStyles();  \r\n\r\n    const Details = (prop)=>{    \r\n      var pairs = [];\r\n        for(var key in prop.data){\r\n          if(key!==\"count\" && key!==\"inventory_count\")\r\n            pairs.push(<p>{key} : {prop.data[key]}</p>);\r\n        } \r\n      return (\r\n             <div className=\"Data-item\">{pairs}</div>\r\n      );\r\n    }\r\n \r\n    \r\n    const checkoutData = () => {   \r\n      let updateEntity=selectedValue\r\n      updateEntity[\"import_count\"]= importCount\r\n      onCheckoutData(updateEntity)\r\n      handleClose()\r\n    };\r\n\r\n    const handleClose = () => { \r\n      onClose();\r\n    }; \r\n\r\n    const handleCountChange=(event)=>{\r\n      setImportCount(event.target.value)\r\n    }\r\n \r\n    return (\r\n      <Dialog onClose={handleClose} aria-labelledby=\"simple-dialog-title\" className={classes.root} open={open} fullWidth=\"md\" maxWidth=\"md\">\r\n        <DialogTitle id=\"simple-dialog-title\">Import Book</DialogTitle>\r\n        <IconButton aria-label=\"close\" className={classes.closeButton}  onClick={handleClose}>\r\n          <CloseIcon />\r\n        </IconButton>\r\n        <DialogContent dividers>    \r\n        <Grid container spacing={3}> \r\n         <Grid item xs={12} md={4} lg={6}>  \r\n            <Paper className={classes.paper} elevation={3} >\r\n              <h3>Inventory Details</h3>\r\n              <p> Book Count in Inventory : {selectedValue!=null?selectedValue[\"inventory_count\"]:0}</p>\r\n              <p> Enter Count to import to Inventory : </p>\r\n              <TextField\r\n                id=\"member-list\" \r\n                label=\" \"                              \r\n                type=\"number\"\r\n                InputLabelProps={{\r\n                  shrink: true,\r\n                }}\r\n                onChange={handleCountChange}\r\n                helperText=\"Please enter import count\"\r\n              />\r\n            </Paper>  \r\n          </Grid>\r\n          <Grid item xs={12} md={4} lg={6}>  \r\n            <Paper className={classes.paper} elevation={3}>\r\n              <h3>Books Details</h3>\r\n              <Details data={selectedValue!=null?selectedValue:{}}></Details>         \r\n            </Paper>\r\n          </Grid>\r\n          </Grid> \r\n        </DialogContent>\r\n        \r\n        <DialogActions>\r\n          <Button autoFocus onClick={handleClose} color=\"primary\">\r\n            Close\r\n          </Button>\r\n          <Button autoFocus onClick={checkoutData} color=\"primary\" disabled={!importCount}>\r\n            Import Book\r\n          </Button>\r\n        </DialogActions>\r\n \r\n      </Dialog>\r\n    );\r\n  }\r\n  \r\n  BookImportDialog.propTypes = {\r\n    onClose: PropTypes.func.isRequired,   \r\n    onCheckoutData: PropTypes.func.isRequired,   \r\n    open: PropTypes.bool.isRequired,\r\n    selectedValue: PropTypes.object.isRequired\r\n  };","import React from 'react';\r\nimport clsx from 'clsx';\r\nimport Title from './Title';\r\nimport { makeStyles } from '@material-ui/core/styles';  \r\nimport {Paper,Grid,Typography,Container,Box} from '@material-ui/core';\r\nimport {Table,TableBody,TableCell,TableContainer,TableHead,TableRow} from '@material-ui/core';  \r\nimport {Link,IconButton} from '@material-ui/core'; \r\nimport {TextField,Button, ButtonGroup} from '@material-ui/core';  \r\nimport {AddCircle,Info} from '@material-ui/icons';  \r\nimport BookInfoDialog from './BookInfoDialog';\r\nimport BookImportDialog from './BookImportDialog';\r\n\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {'Copyright  '}\r\n      <Link color=\"inherit\" href=\"#\">\r\n        Your Website\r\n      </Link>{' '}\r\n      {new Date().getFullYear()}\r\n      {'.'}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  container: {\r\n    paddingTop: theme.spacing(4),\r\n    paddingBottom: theme.spacing(4),\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(2),\r\n    display: 'flex',\r\n    overflow: 'auto',\r\n    flexDirection: 'column',\r\n  },\r\n  fixedHeight: {\r\n    height: 450,\r\n  }, \r\n  searchFixedHeight: {\r\n      height: 200,\r\n    }, \r\n  extendedIcon: {\r\n    marginRight: theme.spacing(1),\r\n  },\r\n  formgrid:{ \r\n    '& .MuiTextField-root': {\r\n      margin: theme.spacing(1),\r\n      width: '25ch',\r\n    },\r\n    '& .Button-root': {\r\n      margin: theme.spacing(1),\r\n      width: '25ch',\r\n    },\r\n  }\r\n}));\r\n\r\nasync function importBookToSystem(details) {  \r\n  return fetch(process.env.REACT_APP_API_URL+'addBooksToSystem', {\r\n    method: 'POST',\r\n    headers: {\r\n      'mode':'no-cors',\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify(details)\r\n  })\r\n  .then(data => data.json()) \r\n  }\r\n\r\nexport default function ImportBookFrame() {\r\n  const classes = useStyles();\r\n  const searchFixedHeight = clsx(classes.paper, classes.searchFixedHeight); \r\n  const fixedHeightPaper = clsx(classes.paper, classes.fixedHeightPaper);  \r\n  const [bookImportList, setBookImportList] = React.useState([]);   \r\n  const [selectedInfoValue, setSelectedInfoValue] = React.useState(null); \r\n  const [infoDialogOpen, setInfoDialogOpen] = React.useState(false);\r\n  const [importDialogOpen, setImportDialogOpen] = React.useState(false); \r\n  const [searchParams, setSearchParams] = React.useState({}); \r\n\r\n  const importlist = async () => {\r\n    let queryString=\"?\"\r\n    for(var key in searchParams){ \r\n        queryString += key+\"=\"+searchParams[key]\r\n        queryString +=\"&&\" \r\n    } \r\n    console.log(queryString)\r\n    fetch(process.env.REACT_APP_API_URL+'getApiBookList'+queryString)\r\n      .then(data => data.json())  \r\n      .then(data=>{\r\n          console.log(data)\r\n            bookImportList.splice(0,bookImportList.length) \r\n          setBookImportList(data)\r\n      })\r\n  }  \r\n    \r\n  const handleClose = () => { \r\n      setInfoDialogOpen(false) \r\n      setImportDialogOpen(false) \r\n  };\r\n  const importDialogData = async (book_data)=>{  \r\n      const data = await importBookToSystem({\"import_book\":book_data})\r\n      if(data[\"status\"]==\"success\")\r\n          importlist()\r\n  };\r\n  const showInfoDialog = (event, row)=>{\r\n      setSelectedInfoValue(row)\r\n      setInfoDialogOpen(true) \r\n  }\r\n  const showImportDialog = (event, row)=>{\r\n      setSelectedInfoValue(row)\r\n      setImportDialogOpen(true) \r\n  }\r\n  const handleParamChange=(event)=>{\r\n    let id = (event.target.id).replace(\"-input\",\"\")      \r\n    if(event.target.value==\"\")\r\n    delete  searchParams[id]\r\n    else searchParams[id]=event.target.value\r\n    console.log(searchParams)\r\n  }\r\n  return(\r\n   <Container maxWidth=\"lg\" className={classes.container}>\r\n      <Grid container spacing={3}>             \r\n        <Grid item xs={12} md={4} lg={12}>            \r\n          <Paper className={searchFixedHeight}>            \r\n            <Title>Import Books from Frappe </Title>\r\n              <div className={classes.formgrid}>\r\n              <TextField  id=\"title-input\"  label=\"Title\"   type=\"text\" onChange={handleParamChange} />\r\n              <TextField  id=\"authors-input\"  label=\"Author\"   type=\"text\" onChange={handleParamChange}/>\r\n              <TextField  id=\"publisher-input\"  label=\"Publisher\"  type=\"text\" onChange={handleParamChange} />\r\n              <TextField  id=\"isbn-input\"  label=\"isbn\"  type=\"numer\" onChange={handleParamChange}/>\r\n              <TextField  id=\"page-input\"  label=\"Page\"  type=\"number\" onChange={handleParamChange} />\r\n            </div>\r\n            \r\n            <Button variant=\"contained\" \r\n              color=\"primary\"\r\n                style={{width:\"20%\",marginTop:\"20px\"}}\r\n                onClick={importlist}>\r\n              Search  \r\n            </Button>\r\n          </Paper>\r\n        </Grid>\r\n        <Grid item xs={12} md={4} lg={12}>            \r\n          <Paper className={fixedHeightPaper}>            \r\n            <Title>Books from Frappe</Title> \r\n            \r\n            <TableContainer disableElevation className={classes.tablecontainer}>\r\n            <Table  stickyHeader aria-label=\"sticky table\">\r\n              <TableHead>\r\n                <TableRow>  \r\n                    <TableCell>  </TableCell> \r\n                    <TableCell width=\"30%\"> Title </TableCell>\r\n                    <TableCell> Authors </TableCell> \r\n                    <TableCell> Publisher </TableCell> \r\n                    <TableCell width=\"20%\"> Publication date </TableCell> \r\n                    <TableCell width=\"15%\"> Inventory Count </TableCell>  \r\n                    <TableCell width=\"5%\"> ISBN </TableCell>  \r\n                </TableRow> \r\n              </TableHead>\r\n              <TableBody>\r\n                {bookImportList.map((row) => (                  \r\n                <TableRow key={row.bookID}>\r\n                  <TableCell>\r\n                  <ButtonGroup  disableElevation  aria-label=\"outlined primary button group\">\r\n                    <IconButton  onClick={(event ) => {showInfoDialog(event, row) }}> \r\n                        <Info/>\r\n                    </IconButton> \r\n                    <IconButton  onClick={(event ) => {showImportDialog(event, row) }}> \r\n                        <AddCircle/>\r\n                    </IconButton> \r\n                    </ButtonGroup>\r\n                  </TableCell> \r\n                  <TableCell>{row.title} </TableCell>\r\n                  <TableCell>{row.authors}</TableCell> \r\n                  <TableCell>{row.publisher}</TableCell> \r\n                  <TableCell>{row.publication_date}</TableCell> \r\n                  <TableCell>{row.inventory_count}</TableCell>  \r\n                  <TableCell>{row.isbn}</TableCell>  \r\n                </TableRow>\r\n              ))}\r\n              </TableBody> \r\n            </Table> \r\n            </TableContainer> \r\n          </Paper>\r\n        </Grid>\r\n      </Grid>\r\n      <BookInfoDialog selectedValue={selectedInfoValue} open={infoDialogOpen} onClose={handleClose} />\r\n      <BookImportDialog selectedValue={selectedInfoValue} open={importDialogOpen}  onClose={handleClose} onCheckoutData={importDialogData} />     \r\n      <Box pt={4}>\r\n        <Copyright />\r\n      </Box> \r\n    </Container>\r\n  )\r\n}","import React from 'react';\r\nimport clsx from 'clsx'; \r\nimport Title from './Title';\r\nimport { makeStyles } from '@material-ui/core/styles';  \r\nimport {Paper,Grid,Typography,Container,Box} from '@material-ui/core';\r\nimport {Table ,TableBody ,TableCell,TableContainer,TableHead,TableRow} from '@material-ui/core';   \r\nimport {Select,FormControl,InputLabel,Button,MenuItem,Link} from '@material-ui/core';  \r\nimport DashTileBooks from './DashTileBooks';\r\nimport DashTileCustomers from './DashTileCustomers';   \r\n\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {'Copyright  '}\r\n      <Link color=\"inherit\" href=\"#\">\r\n        Your Website\r\n      </Link>{' '}\r\n      {new Date().getFullYear()}\r\n      {'.'}\r\n    </Typography>\r\n  );\r\n} \r\n\r\nconst useStyles = makeStyles((theme) => ({  \r\n  container: {\r\n    paddingTop: theme.spacing(4),\r\n    paddingBottom: theme.spacing(4),\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(2),\r\n    display: 'flex',\r\n    overflow: 'auto',\r\n    flexDirection: 'column',\r\n  },\r\n  fixedHeight: {\r\n    height: 400,\r\n  },\r\n  searchFixedHeight: {\r\n      height: 200,\r\n  }, \r\n}));\r\n\r\nexport default function ReportFrame() {\r\n  const classes = useStyles();\r\n  const [reportIndex, setReportIndex] = React.useState('');\r\n  const [reportType, setReportType] = React.useState(''); \r\n  const [custReportData, setCustReportData] = React.useState([]); \r\n  const [bookReportData, setBookReportData] = React.useState([]);  \r\n  const searchFixedHeight = clsx(classes.paper, classes.searchFixedHeight); \r\n  const fixedHeight = clsx(classes.paper, classes.fixedHeight); \r\n \r\n  const handleChange = (event) => {\r\n    setReportIndex(event.target.value); \r\n    setReportType(event.target.value)    \r\n  };\r\n \r\n  const custDataReady=(data)=>{  \r\n    setCustReportData(data[\"rank_list\"])\r\n  };\r\n  const bookDataReady=(data)=>{  \r\n    setBookReportData(data[\"rank_list\"])\r\n  };\r\n  const handleDownload=()=>{ \r\n    let csvContent = \"data:text/csv;charset=utf-8,\"  \r\n    if(reportType==\"member\"){\r\n    csvContent +=\"Amount Spend,First Name,Last name,Type\\n\" \r\n    custReportData.map(row => {\r\n      csvContent += row.item_count +\",\"\r\n      csvContent += row.member_item.first_name +\",\"\r\n      csvContent += row.member_item.last_name +\",\"\r\n      csvContent += row.member_item.role +\"\\n\"\r\n    })\r\n  }else {\r\n    csvContent +=\"Title,Author,Publish,Issue Count,Available,Total\\n\";\r\n    bookReportData.map(row => {\r\n      csvContent +=row.book_item.title+\",\"\r\n      csvContent += row.book_item.authors+\",\"\r\n      csvContent += row.book_item.publisher+\",\"\r\n      csvContent += row.item_count+\",\" \r\n      csvContent += row.inventory_count-row.checkout_count+\",\" \r\n      csvContent += row.inventory_count+\"\\n\"\r\n    })\r\n  }\r\n    var encodedUri = encodeURI(csvContent);\r\n    var link = document.createElement(\"a\");\r\n    link.setAttribute(\"href\", encodedUri);\r\n    link.setAttribute(\"download\", reportType==\"member\"?\"HighestPayingCustomers.csv\":\"TopIssuedBooks.csv\");\r\n    document.body.appendChild(link);  \r\n    link.click()\r\n} \r\nreturn(\r\n  <Container maxWidth=\"lg\" className={classes.container}>\r\n    <Grid container spacing={3}>             \r\n      <Grid item xs={12} md={4} lg={12}>            \r\n        <Paper className={searchFixedHeight}>            \r\n          <Title>Select Report to view </Title>            \r\n          <FormControl variant=\"outlined\" className={classes.formControl}>\r\n            <InputLabel id=\"demo-simple-select-outlined-label\">Report</InputLabel>\r\n            <Select\r\n              labelId=\"demo-simple-select-outlined-label\"\r\n              id=\"demo-simple-select-outlined\"\r\n              value={reportIndex}\r\n              onChange={handleChange}\r\n              label=\"Age\">\r\n              <MenuItem value=\"\"> <em>None</em> </MenuItem>\r\n              <MenuItem value={\"book\"}>Top Issued Books </MenuItem>\r\n              <MenuItem value={\"member\"}>Highest Paying Customers</MenuItem> \r\n            </Select>\r\n          </FormControl>\r\n          <Button variant=\"contained\" color=\"primary\" style={{width:\"20%\",marginTop:\"20px\"}} disabled={reportType==\"\"} onClick={handleDownload}>\r\n            Download Report  \r\n          </Button>\r\n        </Paper>\r\n      </Grid>\r\n      {reportIndex!=\"\"?\r\n      <Grid item xs={12} md={4} lg={4}>            \r\n        <Paper className={fixedHeight}>   \r\n          {reportType==\"book\"?<DashTileBooks hideLink={true} bookDataReady={bookDataReady}/>:\r\n          reportType==\"member\"?<DashTileCustomers hideLink={true} custDataReady={custDataReady}/>:<p></p>} \r\n        </Paper>\r\n      </Grid>:<div></div>}\r\n      {reportIndex!=\"\"?\r\n      <Grid item xs={12} md={4} lg={8}>            \r\n        <Paper className={fixedHeight}>   \r\n          <TableContainer className={classes.tablecontainer} >\r\n            <Table  stickyHeader aria-label=\"sticky table\">\r\n            <TableHead>\r\n                {reportType==\"member\"?<TableRow> \r\n                  <TableCell> Amount Spend </TableCell>\r\n                  <TableCell> First Name </TableCell>\r\n                  <TableCell> last name </TableCell> \r\n                  <TableCell> Type </TableCell>  \r\n                </TableRow>\r\n                :reportType==\"book\"?<TableRow> \r\n                  <TableCell>Title</TableCell>\r\n                  <TableCell> Author </TableCell>\r\n                  <TableCell> Publish </TableCell> \r\n                  <TableCell> Issue Count </TableCell> \r\n                  <TableCell> Available </TableCell>  \r\n                  <TableCell> Total </TableCell>  \r\n              </TableRow>:<div></div>}\r\n            </TableHead>\r\n            <TableBody>\r\n            {reportType==\"member\"?custReportData.slice(0).reverse().map((row) => (                            \r\n                <TableRow key={row.member_item.id}>\r\n                  <TableCell>{row.item_count}</TableCell> \r\n                  <TableCell>{row.member_item.first_name}</TableCell>\r\n                  <TableCell>{row.member_item.last_name}</TableCell> \r\n                  <TableCell>{row.member_item.role}</TableCell>  \r\n                </TableRow>\r\n                )):reportType==\"book\"?bookReportData.slice(0).reverse().map((row) => (                            \r\n              <TableRow key={row.book_item.bookID}>\r\n                <TableCell>{row.book_item.title}</TableCell> \r\n                <TableCell>{row.book_item.authors}</TableCell>\r\n                <TableCell>{row.book_item.publisher}</TableCell> \r\n                <TableCell>{row.item_count}</TableCell>  \r\n                <TableCell>{row.inventory_count- row.checkout_count}</TableCell>                                \r\n                <TableCell>{row.inventory_count}</TableCell>  \r\n              </TableRow>\r\n              )):<div></div>}\r\n                </TableBody> \r\n            </Table> \r\n            </TableContainer> \r\n          </Paper>\r\n        </Grid>:<div></div>}\r\n    </Grid>\r\n    <Box pt={4}>\r\n      <Copyright />\r\n    </Box>\r\n  </Container>\r\n  )\r\n}","import React from 'react';\r\nimport clsx from 'clsx';\r\nimport { makeStyles } from '@material-ui/core/styles'; \r\nimport Title from './Title'; \r\nimport {Paper,Grid,Typography,Container,Box,Link} from '@material-ui/core'; \r\nimport {Table ,TableBody ,TableCell,TableContainer,TableHead,TableRow} from '@material-ui/core';   \r\n\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {'Copyright  '}\r\n      <Link color=\"inherit\" href=\"https://material-ui.com/\">\r\n        Your Website\r\n      </Link>{' '}\r\n      {new Date().getFullYear()}\r\n      {'.'}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  container: {\r\n    paddingTop: theme.spacing(4),\r\n    paddingBottom: theme.spacing(4),\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(2),\r\n    display: 'flex',\r\n    overflow: 'auto',\r\n    flexDirection: 'column',\r\n  },\r\n  fixedHeight: {\r\n    height: 600,\r\n  }, \r\n  extendedIcon: {\r\n    marginRight: theme.spacing(1),\r\n  },\r\n}));\r\n \r\n\r\nexport default function GuestViewFrame() {\r\n  const classes = useStyles();\r\n  const fixedHeightPaper = clsx(classes.paper, classes.fixedHeight); \r\n  const [bookList, setBookList] = React.useState([]); \r\n\r\n \r\n  React.useEffect(() => {\r\n    fetch(process.env.REACT_APP_API_URL+'getBooksInventory')\r\n    .then(results => results.json())\r\n    .then(data => {  updateMemberList(data) })}, []);\r\n\r\n    const updateMemberList =(data)=>{\r\n        bookList.splice(0,bookList.length)  \r\n        setBookList(data[\"booklist\"]) \r\n  }\r\n\r\n\r\n  return(\r\n    <Container maxWidth=\"lg\" className={classes.container}>\r\n      <Grid container spacing={3}> \r\n        <Grid item xs={12} md={4} lg={12}>      \r\n          <Paper className={fixedHeightPaper}>            \r\n            <Title>All Library Books </Title>             \r\n            <TableContainer className={classes.tablecontainer}>\r\n            <Table  stickyHeader aria-label=\"sticky table\">\r\n                <TableHead>\r\n                  <TableRow> \r\n                    <TableCell>  Book ID </TableCell> \r\n                    <TableCell> Title </TableCell> \r\n                    <TableCell> Authors  </TableCell> \r\n                    <TableCell> Publisher </TableCell> \r\n                    <TableCell>  Publication date </TableCell> \r\n                    <TableCell>  Num pages  </TableCell> \r\n                    <TableCell>  Average rating  </TableCell> \r\n                    <TableCell>  Ratings count  </TableCell> \r\n                    <TableCell>  Text Reviews Count  </TableCell> \r\n                    <TableCell> Language code  </TableCell> \r\n                    <TableCell>  isbn </TableCell>  \r\n                    <TableCell> isbn13 </TableCell> \r\n                  </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                {bookList.map((row) => ( \r\n                  <TableRow key={row.book_item.bookID}>                                \r\n                    <TableCell  >  {row.book_item.bookID}  </TableCell> \r\n                    <TableCell>  {row.book_item.title}  </TableCell> \r\n                    <TableCell>  {row.book_item.authors}  </TableCell> \r\n                    <TableCell>  {row.book_item.publisher}  </TableCell> \r\n                    <TableCell>  {row.book_item.publication_date}  </TableCell> \r\n                    <TableCell>  {row.book_item.num_pages}  </TableCell> \r\n                    <TableCell>  {row.book_item.average_rating}  </TableCell> \r\n                    <TableCell>  {row.book_item.ratings_count}  </TableCell> \r\n                    <TableCell>  {row.book_item.text_reviews_count}  </TableCell> \r\n                    <TableCell>  {row.book_item.language_code}  </TableCell> \r\n                    <TableCell>  {row.book_item.isbn}  </TableCell>  \r\n                    <TableCell>  {row.book_item.isbn13}  </TableCell>\r\n                  </TableRow>\r\n                ))}\r\n                </TableBody> \r\n              </Table> \r\n            </TableContainer> \r\n          </Paper>\r\n        </Grid>\r\n      </Grid>\r\n      <Box pt={4}> <Copyright /> </Box>      \r\n    </Container>\r\n  )\r\n}","import React from 'react';\r\nimport clsx from 'clsx';\r\nimport PropTypes from 'prop-types';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport List from '@material-ui/core/List';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Badge from '@material-ui/core/Badge'; \r\nimport Link from '@material-ui/core/Link';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\r\nimport NotificationsIcon from '@material-ui/icons/Notifications';\r\nimport { mainListItems, secondaryListItems } from './listItems'; \r\nimport DashFrame from './DashFrame';\r\nimport BookFrame from './BookFrame';\r\nimport MemberFrame from './MemberFrame';\r\nimport ImportBookFrame from './ImportBookFrame';\r\nimport ReportFrame from './ReportFrame';\r\nimport GuestViewFrame from './GuestViewFrame';\r\n\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {'Copyright  '}\r\n      <Link color=\"inherit\" href=\"https://material-ui.com/\">\r\n        Your Website\r\n      </Link>{' '}\r\n      {new Date().getFullYear()}\r\n      {'.'}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst drawerWidth = 240;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: 'flex',\r\n  },\r\n  toolbar: {\r\n    paddingRight: 24, // keep right padding when drawer closed\r\n  },\r\n  toolbarIcon: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'flex-end',\r\n    padding: '0 8px',\r\n    ...theme.mixins.toolbar,\r\n  },\r\n  appBar: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    transition: theme.transitions.create(['width', 'margin'], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n  },\r\n  appBarShift: {\r\n    marginLeft: drawerWidth,\r\n    width: `calc(100% - ${drawerWidth}px)`,\r\n    transition: theme.transitions.create(['width', 'margin'], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n  },\r\n  menuButton: {\r\n    marginRight: 36,\r\n  },\r\n  menuButtonHidden: {\r\n    display: 'none',\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n  },\r\n  drawerPaper: {\r\n    position: 'relative',\r\n    whiteSpace: 'nowrap',\r\n    width: drawerWidth,\r\n    transition: theme.transitions.create('width', {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n  },\r\n  drawerPaperClose: {\r\n    overflowX: 'hidden',\r\n    transition: theme.transitions.create('width', {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n    width: theme.spacing(7),\r\n    [theme.breakpoints.up('sm')]: {\r\n      width: theme.spacing(9),\r\n    },\r\n  },\r\n  appBarSpacer: theme.mixins.toolbar,\r\n  content: {\r\n    flexGrow: 1,\r\n    height: '100vh',\r\n    overflow: 'auto',\r\n  },\r\n  container: {\r\n    paddingTop: theme.spacing(4),\r\n    paddingBottom: theme.spacing(4),\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(2),\r\n    display: 'flex',\r\n    overflow: 'auto',\r\n    flexDirection: 'column',\r\n    background:\"#eff3f2\"\r\n  },\r\n  fixedHeight: {\r\n    height: 240,\r\n  },\r\n}));\r\n\r\nexport default function Dashboard(props) {\r\n  const { user_token } = props;\r\n  const classes = useStyles();\r\n  const [open, setOpen] = React.useState(false);\r\n  const [category, setcategory] = React.useState(\"dashboard\");\r\n  const handleDrawerOpen = () => { \r\n    if(user_token[\"user_details\"][\"role\"]==\"admin\")\r\n      setOpen(true);\r\n  };\r\n  const handleDrawerClose = () => {\r\n    setOpen(false);\r\n  };\r\n  const handleMenuClick = (event) => {  \r\n    if(event.target.innerText)\r\n      setcategory(event.target.innerText.toLowerCase()) \r\n    else if(event.target.getAttribute(\"name\"))\r\n      setcategory(event.target.getAttribute(\"name\").toLowerCase())\r\n    else if(event.target.tagName == \"svg\")\r\n      setcategory(event.target.parentNode.getAttribute(\"name\").toLowerCase()) \r\n    else if(event.target.tagName == \"path\")\r\n      setcategory(event.target.parentNode.parentNode.getAttribute(\"name\").toLowerCase())  \r\n  };\r\n  const fixedHeightPaper = clsx(classes.paper, classes.fixedHeight);\r\n  const categorySwitch=(type)=>{setcategory(type)}\r\n  return (\r\n    <div className={classes.root}>\r\n      <CssBaseline />\r\n      <AppBar position=\"absolute\" className={clsx(classes.appBar, open && classes.appBarShift)}>\r\n        <Toolbar className={classes.toolbar}>\r\n          <IconButton\r\n            edge=\"start\"\r\n            color=\"inherit\"\r\n            aria-label=\"open drawer\"\r\n            onClick={handleDrawerOpen}\r\n            className={clsx(classes.menuButton, open && classes.menuButtonHidden)}\r\n          >\r\n          <MenuIcon />\r\n          </IconButton>\r\n          <Typography component=\"h1\" variant=\"h6\" color=\"inherit\" noWrap className={classes.title}>\r\n            Library\r\n          </Typography>\r\n          <IconButton color=\"inherit\">\r\n            <Badge badgeContent={4} color=\"secondary\">\r\n              <NotificationsIcon />\r\n            </Badge>\r\n          </IconButton>\r\n        </Toolbar>\r\n      </AppBar>\r\n      <Drawer\r\n        variant=\"permanent\"\r\n        classes={{\r\n          paper: clsx(classes.drawerPaper, !open && classes.drawerPaperClose),\r\n        }}\r\n        open={open}\r\n        hidden={user_token[\"user_details\"][\"role\"]!=\"admin\"}\r\n      >\r\n        <div className={classes.toolbarIcon}>\r\n          <IconButton onClick={handleDrawerClose}>\r\n            <ChevronLeftIcon />\r\n          </IconButton>\r\n        </div>\r\n        <Divider />\r\n        <List onClick={handleMenuClick}>\r\n          {mainListItems}\r\n        </List>\r\n        <Divider />\r\n        {/* <List>{secondaryListItems}</List> */}\r\n      </Drawer>\r\n      <main className={classes.content}>\r\n        <div className={classes.appBarSpacer} />\r\n        {(user_token[\"user_details\"][\"role\"]!=\"admin\")?<GuestViewFrame/>:category ==\"books\"?<BookFrame/>:\r\n         category ==\"members\"?<MemberFrame/>:\r\n          category ==\"reports\"?<ReportFrame/>: \r\n           category ==\"importbooks\"?<ImportBookFrame/>:\r\n            <DashFrame categorySwitch = {categorySwitch}/>}\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\nDashboard.propTypes = {\r\n  user_token: PropTypes.object.isRequired\r\n  }","import logo from './logo.svg';\nimport './App.css';\nimport Signin from './components/Signin'\nimport Dashboard from './components/Dashboard'\nimport { useState } from 'react';\nimport { HashRouter as Router,Route, Switch} from \"react-router-dom\";\n\nfunction App() {\n  const [token, setToken] = useState();\n\n  if(!token) {\n    return <Signin setToken={setToken} />\n  } \n  return (  \n    <div className=\"wrapper\"> \n      <Router>        \n        <Route exact path=\"/\" component={Dashboard} > \n        <Dashboard user_token={token} /> </Route>\n      </Router>\n    </div>\n  );\n}\n\nexport default App; ","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}